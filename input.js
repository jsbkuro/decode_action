var __wxAppData=__wxAppData||{};var __wxRoute=__wxRoute||"";var __wxRouteBegin=__wxRouteBegin||"";var __wxAppCode__=__wxAppCode__||{};var global=global||{};var __WXML_GLOBAL__=__WXML_GLOBAL__||{entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:undefined,total_ops:0};var __wxAppCurrentFile__=__wxAppCurrentFile__||"";var Component=Component||function(){};var definePlugin=definePlugin||function(){};var requirePlugin=requirePlugin||function(){};var Behavior=Behavior||function(){};var __vd_version_info__=__vd_version_info__||{};var __GWX_GLOBAL__=__GWX_GLOBAL__||{};
;(function() {
try{
  var loadStart = Date.now()
  this.globalThis || (this.globalThis = this)
  var wxVersion = wx.version && wx.version.version
  if (wxVersion) {
    function compareVersion(v1, v2) {
      v1 = v1.split('.')
      v2 = v2.split('.')
      var len = Math.max(v1.length, v2.length)
    
      while (v1.length < len) {
        v1.push('0')
      }
      while (v2.length < len) {
        v2.push('0')
      }
    
      for (var i = 0; i < len; i++) {
        var num1 = parseInt(v1[i])
        var num2 = parseInt(v2[i])
    
        if (num1 > num2) {
          return 1
        } else if (num1 < num2) {
          return -1
        }
      }
    
      return 0
    }
    var cmp = compareVersion('2.23.1', wxVersion)
    if (cmp !== 1) {
      console.log('cloud sdk (build ts 1670494204239) injection skipped for sdk version', wxVersion)
      return
    }
  }
var __cloudSDK__=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../../node_modules/.pnpm/@protobufjs+aspromise@1.1.2/node_modules/@protobufjs/aspromise/index.js":function(e,t,r){e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}})}},"../../node_modules/.pnpm/@protobufjs+base64@1.1.2/node_modules/@protobufjs/base64/index.js":function(e,t,r){var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),s=0;s<64;)o[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,r){for(var n,o=null,s=[],a=0,u=0;t<r;){var c=e[t++];switch(u){case 0:s[a++]=i[c>>2],n=(3&c)<<4,u=1;break;case 1:s[a++]=i[n|c>>4],n=(15&c)<<2,u=2;break;case 2:s[a++]=i[n|c>>6],s[a++]=i[63&c],u=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=i[n],s[a++]=61,1===u&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};n.decode=function(e,t,r){for(var n,i=r,s=0,a=0;a<e.length;){var u=e.charCodeAt(a++);if(61===u&&s>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(s){case 0:n=u,s=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,s=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,s=3;break;case 3:t[r++]=(3&n)<<6|u,s=0}}if(1===s)throw Error("invalid encoding");return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},"../../node_modules/.pnpm/@protobufjs+eventemitter@1.1.0/node_modules/@protobufjs/eventemitter/index.js":function(e,t,r){function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},"../../node_modules/.pnpm/@protobufjs+float@1.0.2/node_modules/@protobufjs/float/index.js":function(e,t,r){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>3.4028234663852886e38)e((i<<31|2139095040)>>>0,r,n);else if(t<1.1754943508222875e-38)e((i<<31|Math.round(t/1.401298464324817e-45))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1.401298464324817e-45*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,s),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>1.7976931348623157e308)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<2.2250738585072014e-308)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,i,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,u=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,s,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},"../../node_modules/.pnpm/@protobufjs+inquire@1.1.0/node_modules/@protobufjs/inquire/index.js":function(module,exports,__webpack_require__){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},"../../node_modules/.pnpm/@protobufjs+pool@1.1.0/node_modules/@protobufjs/pool/index.js":function(e,t,r){e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},"../../node_modules/.pnpm/@protobufjs+utf8@1.1.0/node_modules/@protobufjs/utf8/index.js":function(e,t,r){var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},"../../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js":function(e,t,r){t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,d=a>0?s-4:s;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(d(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"../../node_modules/.pnpm/buffer@4.9.2/node_modules/buffer/index.js":function(e,t,r){(function(e){var n=r("../../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js"),i=r("../../node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js"),o=r("../../node_modules/.pnpm/isarray@1.0.0/node_modules/isarray/index.js");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=a(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|p(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function _(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function v(e,t,r,n){return W(G(t,e.length-r),e,r,n)}function S(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function y(e,t,r,n){return S(e,t,r,n)}function T(e,t,r,n){return W(q(t),e,r,n)}function A(e,t,r,n){return W(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function b(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return w(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return b(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),d=0;d<a;++d)if(c[d]!==l[d]){o=c[d],s=l[d];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return y(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function w(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=j(e[o]);return i}function N(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function x(e,t,r,n,o){return o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,o){return o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||L(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);L(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:G(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"))},"../../node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,_=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=_,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+p]=255&s,p+=_,s/=256,c-=8);e[r+p-_]|=128*h}},"../../node_modules/.pnpm/isarray@1.0.0/node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js").default.Symbol;t.default=n},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js"),i=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js"),o=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js"),s="[object Null]",a="[object Undefined]",u=n.default?n.default.toStringTag:void 0;t.default=function(e){return null==e?void 0===e?a:s:u&&u in Object(e)?Object(i.default)(e):Object(o.default)(e)}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTrim.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_trimmedEndIndex.js"),i=/^\s+/;t.default=function(e){return e?e.slice(0,Object(n.default)(e)+1).replace(i,""):e}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js":function(e,t,r){r.r(t),function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.default=r}.call(this,r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"))},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n.default?n.default.toStringTag:void 0;t.default=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js":function(e,t,r){r.r(t);var n=Object.prototype.toString;t.default=function(e){return n.call(e)}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n.default||i||Function("return this")();t.default=o},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_trimmedEndIndex.js":function(e,t,r){r.r(t);var n=/\s/;t.default=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/debounce.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js"),i=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/now.js"),o=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toNumber.js"),s="Expected a function",a=Math.max,u=Math.min;t.default=function(e,t,r){var c,l,d,f,p,_,h=0,E=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError(s);function v(t){var r=c,n=l;return c=l=void 0,h=t,f=e.apply(n,r)}function S(e){var r=e-_;return void 0===_||r>=t||r<0||m&&e-h>=d}function y(){var e=Object(i.default)();if(S(e))return T(e);p=setTimeout(y,function(e){var r=t-(e-_);return m?u(r,d-(e-h)):r}(e))}function T(e){return p=void 0,g&&c?v(e):(c=l=void 0,f)}function A(){var e=Object(i.default)(),r=S(e);if(c=arguments,l=this,_=e,r){if(void 0===p)return function(e){return h=e,p=setTimeout(y,t),E?v(e):f}(_);if(m)return clearTimeout(p),p=setTimeout(y,t),v(_)}return void 0===p&&(p=setTimeout(y,t)),f}return t=Object(o.default)(t)||0,Object(n.default)(r)&&(E=!!r.leading,d=(m="maxWait"in r)?a(Object(o.default)(r.maxWait)||0,t):d,g="trailing"in r?!!r.trailing:g),A.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=_=l=p=void 0},A.flush=function(){return void 0===p?f:T(Object(i.default)())},A}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js":function(e,t,r){r.r(t),t.default=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js":function(e,t,r){r.r(t),t.default=function(e){return null!=e&&"object"==typeof e}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js"),i=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js"),o="[object Symbol]";t.default=function(e){return"symbol"==typeof e||Object(i.default)(e)&&Object(n.default)(e)==o}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/now.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");t.default=function(){return n.default.Date.now()}},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toNumber.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTrim.js"),i=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js"),o=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js"),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.default=function(e){if("number"==typeof e)return e;if(Object(o.default)(e))return s;if(Object(i.default)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(i.default)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Object(n.default)(e);var r=u.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):a.test(e)?s:+e}},"../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new _(e,t)),1!==c.length||l||a(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/minimal.js":function(e,t,r){e.exports=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/index-minimal.js")},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/index-minimal.js":function(e,t,r){var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/writer.js"),n.BufferWriter=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/writer_buffer.js"),n.Reader=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/reader.js"),n.BufferReader=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/reader_buffer.js"),n.util=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js"),n.rpc=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/rpc.js"),n.roots=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/roots.js"),n.configure=i,i()},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/reader.js":function(e,t,r){e.exports=u;var n,i=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js"),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}u.create=l(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=l(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/reader_buffer.js":function(e,t,r){e.exports=o;var n=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/reader.js");(o.prototype=Object.create(n.prototype)).constructor=o;var i=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js");function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/roots.js":function(e,t,r){e.exports={}},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/rpc.js":function(e,t,r){t.Service=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/rpc/service.js")},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/rpc/service.js":function(e,t,r){e.exports=i;var n=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js");function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)})}catch(e){return a.emit("error",e,t),void setTimeout(function(){s(e)},0)}else setTimeout(function(){s(Error("already ended"))},0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/longbits.js":function(e,t,r){e.exports=i;var n=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js");function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js":function(e,t,r){(function(e){var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>e,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r("../../node_modules/.pnpm/@protobufjs+aspromise@1.1.2/node_modules/@protobufjs/aspromise/index.js"),n.base64=r("../../node_modules/.pnpm/@protobufjs+base64@1.1.2/node_modules/@protobufjs/base64/index.js"),n.EventEmitter=r("../../node_modules/.pnpm/@protobufjs+eventemitter@1.1.0/node_modules/@protobufjs/eventemitter/index.js"),n.float=r("../../node_modules/.pnpm/@protobufjs+float@1.0.2/node_modules/@protobufjs/float/index.js"),n.inquire=r("../../node_modules/.pnpm/@protobufjs+inquire@1.1.0/node_modules/@protobufjs/inquire/index.js"),n.utf8=r("../../node_modules/.pnpm/@protobufjs+utf8@1.1.0/node_modules/@protobufjs/utf8/index.js"),n.pool=r("../../node_modules/.pnpm/@protobufjs+pool@1.1.0/node_modules/@protobufjs/pool/index.js"),n.LongBits=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/longbits.js"),n.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),n.global=n.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||globalThis,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"))},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/writer.js":function(e,t,r){e.exports=l;var n,i=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js"),o=i.LongBits,s=i.base64,a=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(l.create=function(){return new n})()}:function(){return new l}};function f(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function _(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function h(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=d(),l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(_,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(_,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(_,t.length(),t)},l.prototype.bool=function(e){return this._push(f,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(h,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(h,4,t.lo)._push(h,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var E=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var r=l.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(E,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},l.prototype.fork=function(){return this.states=new function(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}(this),this.head=this.tail=new u(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){n=e,l.create=d(),n._configure()}},"../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/writer_buffer.js":function(e,t,r){e.exports=o;var n=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/writer.js");(o.prototype=Object.create(n.prototype)).constructor=o;var i=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/src/util/minimal.js");function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},"../../node_modules/.pnpm/setimmediate@1.0.5/node_modules/setimmediate/setImmediate.js":function(e,t,r){(function(e,t){!function(e,r){if(!e.setImmediate){var n,i=1,o={},s=!1,a=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;n=function(t){var r=a.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var s={callback:e,args:t};return o[i]=s,n(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{c(e),s=!1}}}}}("undefined"==typeof self?void 0===e?globalThis:e:self)}).call(this,r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"),r("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"))},"../../node_modules/.pnpm/timers-browserify@2.0.12/node_modules/timers-browserify/main.js":function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("../../node_modules/.pnpm/setimmediate@1.0.5/node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||globalThis&&globalThis.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||globalThis&&globalThis.clearImmediate}).call(this,r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"))},"../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js":function(e,t,r){r.r(t),r.d(t,"__extends",function(){return i}),r.d(t,"__assign",function(){return o}),r.d(t,"__rest",function(){return s}),r.d(t,"__decorate",function(){return a}),r.d(t,"__param",function(){return u}),r.d(t,"__metadata",function(){return c}),r.d(t,"__awaiter",function(){return l}),r.d(t,"__generator",function(){return d}),r.d(t,"__createBinding",function(){return f}),r.d(t,"__exportStar",function(){return p}),r.d(t,"__values",function(){return _}),r.d(t,"__read",function(){return h}),r.d(t,"__spread",function(){return E}),r.d(t,"__spreadArrays",function(){return m}),r.d(t,"__spreadArray",function(){return g}),r.d(t,"__await",function(){return v}),r.d(t,"__asyncGenerator",function(){return S}),r.d(t,"__asyncDelegator",function(){return y}),r.d(t,"__asyncValues",function(){return T}),r.d(t,"__makeTemplateObject",function(){return A}),r.d(t,"__importStar",function(){return C}),r.d(t,"__importDefault",function(){return O}),r.d(t,"__classPrivateFieldGet",function(){return I}),r.d(t,"__classPrivateFieldSet",function(){return R}),r.d(t,"__classPrivateFieldIn",function(){return w});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){Object.defineProperty(this,"constructor",{value:e})}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r(function(t){t(e)})}(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var f=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function p(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||f(t,e,r)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function g(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function S(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{!function(e){e.value instanceof v?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function y(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function T(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=_(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var b=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return b(t,e),t}function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function R(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function w(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/index.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v1.js");r.d(t,"v1",function(){return n.default});var i=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v3.js");r.d(t,"v3",function(){return i.default});var o=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js");r.d(t,"v4",function(){return o.default});var s=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v5.js");r.d(t,"v5",function(){return s.default});var a=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/nil.js");r.d(t,"NIL",function(){return a.default});var u=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/version.js");r.d(t,"version",function(){return u.default});var c=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js");r.d(t,"validate",function(){return c.default});var l=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js");r.d(t,"stringify",function(){return l.default});var d=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/parse.js");r.d(t,"parse",function(){return d.default})},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/md5.js":function(e,t,r){function n(e){return 14+(e+64>>>9<<4)+1}function i(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,n,o,s){return i(function(e,t){return e<<t|e>>>32-t}(i(i(t,e),i(n,s)),o),r)}function s(e,t,r,n,i,s,a){return o(t&r|~t&n,e,t,i,s,a)}function a(e,t,r,n,i,s,a){return o(t&n|r&~n,e,t,i,s,a)}function u(e,t,r,n,i,s,a){return o(t^r^n,e,t,i,s,a)}function c(e,t,r,n,i,s,a){return o(r^(t|~n),e,t,i,s,a)}r.r(t),t.default=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n=0;n<r;n+=8){var i=e[n>>5]>>>n%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var r=1732584193,o=-271733879,l=-1732584194,d=271733878,f=0;f<e.length;f+=16){var p=r,_=o,h=l,E=d;r=s(r,o,l,d,e[f],7,-680876936),d=s(d,r,o,l,e[f+1],12,-389564586),l=s(l,d,r,o,e[f+2],17,606105819),o=s(o,l,d,r,e[f+3],22,-1044525330),r=s(r,o,l,d,e[f+4],7,-176418897),d=s(d,r,o,l,e[f+5],12,1200080426),l=s(l,d,r,o,e[f+6],17,-1473231341),o=s(o,l,d,r,e[f+7],22,-45705983),r=s(r,o,l,d,e[f+8],7,1770035416),d=s(d,r,o,l,e[f+9],12,-1958414417),l=s(l,d,r,o,e[f+10],17,-42063),o=s(o,l,d,r,e[f+11],22,-1990404162),r=s(r,o,l,d,e[f+12],7,1804603682),d=s(d,r,o,l,e[f+13],12,-40341101),l=s(l,d,r,o,e[f+14],17,-1502002290),o=s(o,l,d,r,e[f+15],22,1236535329),r=a(r,o,l,d,e[f+1],5,-165796510),d=a(d,r,o,l,e[f+6],9,-1069501632),l=a(l,d,r,o,e[f+11],14,643717713),o=a(o,l,d,r,e[f],20,-373897302),r=a(r,o,l,d,e[f+5],5,-701558691),d=a(d,r,o,l,e[f+10],9,38016083),l=a(l,d,r,o,e[f+15],14,-660478335),o=a(o,l,d,r,e[f+4],20,-405537848),r=a(r,o,l,d,e[f+9],5,568446438),d=a(d,r,o,l,e[f+14],9,-1019803690),l=a(l,d,r,o,e[f+3],14,-187363961),o=a(o,l,d,r,e[f+8],20,1163531501),r=a(r,o,l,d,e[f+13],5,-1444681467),d=a(d,r,o,l,e[f+2],9,-51403784),l=a(l,d,r,o,e[f+7],14,1735328473),o=a(o,l,d,r,e[f+12],20,-1926607734),r=u(r,o,l,d,e[f+5],4,-378558),d=u(d,r,o,l,e[f+8],11,-2022574463),l=u(l,d,r,o,e[f+11],16,1839030562),o=u(o,l,d,r,e[f+14],23,-35309556),r=u(r,o,l,d,e[f+1],4,-1530992060),d=u(d,r,o,l,e[f+4],11,1272893353),l=u(l,d,r,o,e[f+7],16,-155497632),o=u(o,l,d,r,e[f+10],23,-1094730640),r=u(r,o,l,d,e[f+13],4,681279174),d=u(d,r,o,l,e[f],11,-358537222),l=u(l,d,r,o,e[f+3],16,-722521979),o=u(o,l,d,r,e[f+6],23,76029189),r=u(r,o,l,d,e[f+9],4,-640364487),d=u(d,r,o,l,e[f+12],11,-421815835),l=u(l,d,r,o,e[f+15],16,530742520),o=u(o,l,d,r,e[f+2],23,-995338651),r=c(r,o,l,d,e[f],6,-198630844),d=c(d,r,o,l,e[f+7],10,1126891415),l=c(l,d,r,o,e[f+14],15,-1416354905),o=c(o,l,d,r,e[f+5],21,-57434055),r=c(r,o,l,d,e[f+12],6,1700485571),d=c(d,r,o,l,e[f+3],10,-1894986606),l=c(l,d,r,o,e[f+10],15,-1051523),o=c(o,l,d,r,e[f+1],21,-2054922799),r=c(r,o,l,d,e[f+8],6,1873313359),d=c(d,r,o,l,e[f+15],10,-30611744),l=c(l,d,r,o,e[f+6],15,-1560198380),o=c(o,l,d,r,e[f+13],21,1309151649),r=c(r,o,l,d,e[f+4],6,-145523070),d=c(d,r,o,l,e[f+11],10,-1120210379),l=c(l,d,r,o,e[f+2],15,718787259),o=c(o,l,d,r,e[f+9],21,-343485551),r=i(r,p),o=i(o,_),l=i(l,h),d=i(d,E)}return[r,o,l,d]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),i=0;i<t;i+=8)r[i>>5]|=(255&e[i/8])<<i%32;return r}(e),8*e.length))}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/nil.js":function(e,t,r){r.r(t),t.default="00000000-0000-0000-0000-000000000000"},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/parse.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js");t.default=function(e){if(!Object(n.default)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/regex.js":function(e,t,r){r.r(t),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js":function(e,t,r){var n;r.r(t),r.d(t,"default",function(){return o});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/sha1.js":function(e,t,r){function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function i(e,t){return e<<t|e>>>32-t}r.r(t),t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var s=0;s<o.length;++s)e.push(o.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,u=Math.ceil(a/16),c=new Array(u),l=0;l<u;++l){for(var d=new Uint32Array(16),f=0;f<16;++f)d[f]=e[64*l+4*f]<<24|e[64*l+4*f+1]<<16|e[64*l+4*f+2]<<8|e[64*l+4*f+3];c[l]=d}c[u-1][14]=8*(e.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<u;++p){for(var _=new Uint32Array(80),h=0;h<16;++h)_[h]=c[p][h];for(var E=16;E<80;++E)_[E]=i(_[E-3]^_[E-8]^_[E-14]^_[E-16],1);for(var m=r[0],g=r[1],v=r[2],S=r[3],y=r[4],T=0;T<80;++T){var A=Math.floor(T/20),b=i(m,5)+n(A,g,v,S)+y+t[A]+_[T]>>>0;y=S,S=v,v=i(g,30)>>>0,g=m,m=b}r[0]=r[0]+m>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+S>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js":function(e,t,r){r.r(t);for(var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js"),i=[],o=0;o<256;++o)i.push((o+256).toString(16).substr(1));t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!Object(n.default)(r))throw TypeError("Stringified UUID is invalid");return r}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v1.js":function(e,t,r){r.r(t);var n,i,o=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js"),s=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js"),a=0,u=0;t.default=function(e,t,r){var c=t&&r||0,l=t||new Array(16),d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=e.random||(e.rng||o.default)();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var _=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:u+1,E=_-a+(h-u)/1e4;if(E<0&&void 0===e.clockseq&&(f=f+1&16383),(E<0||_>a)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=_,u=h,i=f;var m=(1e4*(268435455&(_+=122192928e5))+h)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var g=_/4294967296*1e4&268435455;l[c++]=g>>>8&255,l[c++]=255&g,l[c++]=g>>>24&15|16,l[c++]=g>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var v=0;v<6;++v)l[c+v]=d[v];return t||Object(s.default)(l)}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v3.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v35.js"),i=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/md5.js"),o=Object(n.default)("v3",48,i.default);t.default=o},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v35.js":function(e,t,r){r.r(t),r.d(t,"DNS",function(){return o}),r.d(t,"URL",function(){return s});var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js"),i=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/parse.js");var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.default=function(e,t,r){function a(e,o,s,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof o&&(o=Object(i.default)(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+e.length);if(u.set(o),u.set(e,o.length),(u=r(u))[6]=15&u[6]|t,u[8]=63&u[8]|128,s){a=a||0;for(var c=0;c<16;++c)s[a+c]=u[c];return s}return Object(n.default)(u)}try{a.name=e}catch(e){}return a.DNS=o,a.URL=s,a}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js"),i=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js");t.default=function(e,t,r){var o=(e=e||{}).random||(e.rng||n.default)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=o[s];return t}return Object(i.default)(o)}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v5.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v35.js"),i=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/sha1.js"),o=Object(n.default)("v5",80,i.default);t.default=o},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/regex.js");t.default=function(e){return"string"==typeof e&&n.default.test(e)}},"../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/version.js":function(e,t,r){r.r(t);var n=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js");t.default=function(e){if(!Object(n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},"../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./src/cloud/index.ts":function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceCloud=t.DefaultCloud=t.getCloudAPI=t.getCloudInstance=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/merge.ts"),o=r("./src/services/index.ts"),s=r("@web"),a=r("./src/utils/error.ts"),u=r("./src/utils/type.ts"),c=r("./src/network/tunnel.ts"),l=r("./src/config/error.config.ts"),d=r("./src/externals/public-lib/appserviceSdk.ts"),f=r("./src/externals/globals/wxconfig.ts"),p=r("./src/utils/report.ts"),_=r("./src/config/app.config.ts"),h=r("./src/runtime/runtime.ts"),E=r("@web"),m=r("./src/utils/service-endpoint.ts"),g=r("./src/utils/utils.ts"),v=r("./src/utils/userAgent.ts"),S=r("./src/externals/globals/wxconfig.ts");t.getCloudInstance=function(e){void 0===e&&(e={});var t=e.sdk,r=e.identifiers||{};return t&&(0,d.setSDK)(r,t),new y(r,!1)};t.getCloudAPI=function(e){return void 0===e&&(e={}),(0,t.getCloudInstance)(e).exportAPI};var y=function(){function t(t,i){var s=this;this.inited=!1,this.services={},this.apiServiceMap={},this.debug=!1,this.testSpeed=function(){return n.__awaiter(s,void 0,void 0,function(){var e,t,r;return n.__generator(this,function(n){return e=+new Date,t=e,r=(0,c.constructTunnelReq)({cloud:this,apiName:"tcbapi_testspeed",serializedReqData:null}),[2,(0,c.tunnel)(r,{fireOnIdle:!0,onFire:function(){e=+new Date,t=e}}).then(function(r){(0,p.reportAPISpeed)({apiName:"cloud.testspeed",apiEndTime:+new Date,apiStartTime:e,tunnelEndTime:+new Date,tunnelStartTime:t,tunnelTimeNoCSNetCost:r.data.baseresponse.stat.qbase_cost_time})}).catch(function(e){0})]})})},this.identifiers=t,this.isInstance=i,this.runtimeInfo=(0,h.getRuntimeInfo)(),this.serviceEndpoint=new m.ServiceEndpoint(t),this.request=(0,c.getBoundTunnelRequest)({cloud:this});var a=this;this.exportAPI={init:this.init.bind(this)},this.isInstance||(this.exportAPI.Cloud=function(e){return new T(t,a,e).exportAPI}),(0,o.registerServices)(this),this.meta={session_id:Date.now()+""},e.env.WEB&&(this.meta.session_id=r("../../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/index.js").v4()),this.serviceEndpoint.setMetaData(this.getMetaData()),this.serviceEndpoint.setTunnelRequest(this.request),this.config={database:A()},this.appConfig=n.__assign({},_.default),this.apiPermissions={};try{f.default.onReady(function(){setTimeout(function(){(0,p.init)()},2e3),(0,v.getUA)()}),e.env.TEST&&(this.exportAPI.getCloudInstance=function(){return s})}catch(e){}}return t.prototype.getMetaData=function(){var t;if(!this.meta.sdk_version){var r=(0,d.getSDK)(this.identifiers);if(r){var n=r.wx;n&&n.version&&("miniprogram"===this.runtimeInfo.env?this.meta.sdk_version="wx-miniprogram-sdk/".concat(n.version.version," (").concat(Date.parse("".concat(n.version.updateTime," GMT+0800")),")"):this.meta.sdk_version="wx-web-sdk/".concat(e.env.SDKVERSION," (").concat(Date.parse("".concat(e.env.SDKVERSION_UPDATETIME," GMT+0800")),")"))}}return this.meta.filter_user_info="singlePage"===(null===(t=S.default.appLaunchInfo)||void 0===t?void 0:t.mode),this.meta},t.prototype.getConfig=function(){return this.config},t.prototype.getEnvForService=function(e){if(this.isInstance)return this.instanceOptions.resourceEnv;var t=this.config;if(t.env)switch((0,u.getType)(t.env)){case"string":return t.env;case"object":return t.env[e];default:return}},t.prototype.checkAPIPermission=function(e){return!this.apiPermissions.hasOwnProperty(e)||1===this.apiPermissions[e]},t.prototype.init=function(e){var t=this;void 0===e&&(e={}),this.inited=!0,this.initConfig(e),setTimeout(function(){r("./src/utils/asmcrypto.ts")}),e.prefetch&&this.serviceEndpoint.getEndpoint("container").catch(function(e){});try{(0,g.privateGetBackgroundFetchData)(500,this.identifiers)}catch(e){null===g._wxConsole||void 0===g._wxConsole||g._wxConsole.log("privateGetBackgroundFetchData error",e)}return Promise.all([this.sendInitRequest().then(function(){t.testSpeed()})]).then(function(){})},t.prototype.initConfig=function(e){this.config=JSON.parse(JSON.stringify(e)),this.config.database?this.config.database=(0,i.default)(this.config.database,A()):this.config.database=A()},t.prototype.sendInitRequest=function(){var e=this,t="string"==typeof this.config.env?this.config.env:void 0,r=JSON.stringify({trace_user:!1!==this.config.traceUser,env:t,region:this.config.region}),i=+new Date,o=i;return this.request(n.__assign(n.__assign({},this.config),{apiName:"tcbapi_init",serializedReqData:r,env:t})).then(function(t){var r=+new Date,s=t.data;e.appConfig=n.__assign(n.__assign({},e.appConfig),s.config);for(var a=s.tcb_api_list||[],u=0,c=a.length;u<c;u++)e.apiPermissions[a[u].apiname]=a[u].status;(0,p.reportAPISpeed)({apiName:"cloud.init",apiEndTime:+new Date,apiStartTime:i,tunnelEndTime:r,tunnelStartTime:o,tunnelTimeNoCSNetCost:s.baseresponse.stat.qbase_cost_time})}).catch(function(e){console.error("cloud init error: ",e)})},t.prototype.registerService=function(e){this.services[e.name]=e;var t=e.getAPIs();for(var r in t)if(this.apiServiceMap[r]=e.name,"function"==typeof t[r])this.registerFunction(r,!0,t[r]);else{var n=t[r],i=n.initRequired,o=n.fn;this.registerFunction(r,i,o)}},t.prototype.registerFunction=function(e,t,r){var n=this;this.exportAPI[e]=t?function(){if(!n.inited)throw new a.CloudSDKError({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。"});if(!n.checkAPIPermission(e))throw new a.CloudSDKError({errCode:l.ERR_CODE.SDK_API_PERMISSION_DENIED,errMsg:l.ERR_CODE[l.ERR_CODE.SDK_API_PERMISSION_DENIED]});return r.apply(n,arguments)}:r},t.prototype.toJSON=function(){},t}();t.DefaultCloud=y;var T=function(e){function t(t,r,n){var o=e.call(this,t,!0)||this;if("web"===o.runtimeInfo.env){if(!n.identityless&&!n.appid)throw new Error("appid must be provided");if(!n.resourceAppid)throw new Error("resourceAppid must be provided")}if(!n.resourceEnv)throw new Error("resourceEnv must be provided");if(n.config||(n.config={}),o.defaultInstance=r,o.instanceOptions=JSON.parse(JSON.stringify(n)),o.meta=r.meta,o.apiPermissions=r.apiPermissions,o.instanceOptions.config.database=(0,i.default)(A(),o.instanceOptions.config.database||{}),"web"===o.runtimeInfo.env){if(o.exportAPI.init=o.webInit.bind(o),o.webRequest=(0,E.getBoundAuthRequest)(o),o.registerService((0,s.createWebService)(o)),!o.instanceOptions.identityless&&(o.authStorage=o.defaultInstance.authStorage,!o.authStorage))throw new Error("authStorage not found")}else o.exportAPI.init=o.miniprogramInit.bind(o);return o.instanceOptions.resourceAppid&&(o.exportAPI.refreshAuth=o.refreshAuth.bind(o)),o}return n.__extends(t,e),t.prototype.miniprogramInit=function(){return n.__awaiter(this,void 0,void 0,function(){var t,r;return n.__generator(this,function(n){switch(n.label){case 0:return this.inited?[2]:this.instanceOptions.resourceAppid?[4,this.refreshAuth()]:[3,2];case 1:return t=n.sent(),0===(r=t.data.env_auth_info).errCode?(e.prototype.init.call(this),[2,{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}]):[2,{errCode:r.errCode,errMsg:r.errMsg}];case 2:return e.prototype.init.call(this),[2]}})})},t.prototype.webInit=function(){return n.__awaiter(this,void 0,void 0,function(){var t,r,i=this;return n.__generator(this,function(n){switch(n.label){case 0:return this.inited?[2]:this.instanceOptions.identityless?[3,2]:[4,this.refreshAuth()];case 1:return t=n.sent(),0===(r=t.data.env_auth_info).errCode?(this.sendInitRequest().then(function(){i.testSpeed()}),e.prototype.init.call(this),[2,{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}]):[2,{errCode:r.errCode,errMsg:r.errMsg}];case 2:return this.inited=!0,[2]}})})},t.prototype.webRefreshToken=function(){return n.__awaiter(this,void 0,void 0,function(){var e=this;return n.__generator(this,function(t){return this._webCurrentRefreshTokenPromise?[2,this._webCurrentRefreshTokenPromise]:(this._webCurrentRefreshTokenPromise=new Promise(function(t,r){return n.__awaiter(e,void 0,void 0,function(){var e,i,o;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this.webRequest({url:"/refresh_token",method:"POST",json:{appid:this.instanceOptions.appid,refresh_token:this.authStorage.getItem("refreshToken")}})];case 1:return e=n.sent(),i=e.data,this.authStorage.setItem("appid",i.access_token),t(),[3,4];case 2:return o=n.sent(),r(o),[3,4];case 3:return this._webCurrentRefreshTokenPromise=void 0,[7];case 4:return[2]}})})}),[2,this._webCurrentRefreshTokenPromise])})})},t.prototype.refreshAuth=function(){var e=JSON.stringify({resource_appid:this.instanceOptions.resourceAppid,resource_env:this.instanceOptions.resourceEnv}),t=+new Date,r=t,n=this.request({apiName:"tcbapi_getenvauth",serializedReqData:e});return n.then(function(e){var n=+new Date;(0,p.reportAPISpeed)({apiName:"cloud.refreshAuth",apiEndTime:+new Date,apiStartTime:t,tunnelEndTime:n,tunnelStartTime:r})}),n},t}(y);function A(){return{realtime:{maxReconnect:_.clientConfigDefaults.REALTIME_DB_MAX_RECONNECT,reconnectInterval:_.clientConfigDefaults.REALTIME_DB_WS_RECONNECT_INTERVAL,totalConnectionTimeout:_.clientConfigDefaults.REALTIME_DB_TOTAL_CONNECTION_TIMEOUT}}}t.InstanceCloud=T}).call(this,r("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"))},"./src/config/app.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.clientConfigDefaults=t.serverConfigurable=void 0,t.serverConfigurable={db_doc_size_limit:524288,db_realtime_ping_interval:15e3,db_realtime_pong_wait_timeout:15e3,db_realtime_query_event_cache_timeout:18e4,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880,call_function_client_poll_timeout:15e3,call_function_valid_start_retry_gap:6e4,call_container_poll_max_retry:10,call_container_client_poll_timeout:15e3,call_container_valid_start_retry_gap:6e4,call_container_max_req_data_size:5242880,call_container_use_private_http:0},t.clientConfigDefaults={REALTIME_DB_MAX_RECONNECT:5,REALTIME_DB_WS_RECONNECT_INTERVAL:5e3,REALTIME_DB_TOTAL_CONNECTION_TIMEOUT:1/0},t.default=t.serverConfigurable},"./src/config/error.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_CODE=void 0,t.ERR_CODE={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-402002":"realtime listener init watch fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:-402002,"-402003":"realtime listener reconnect ws fail",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL:-402003,"-402004":"realtime listener rebuild watch fail",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:-402004,"-402005":"realtime listener close watch fail",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:-402005,"-402006":"realtime listener receive server error msg",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:-402006,"-402007":"realtime listener receive invalid server data",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:-402007,"-402008":"realtime listener websocket connection error",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:-402008,"-402009":"realtime listener websocket connection closed",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:-402009,"-402010":"realtime listener check last fail",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:-402010,"-402011":"realtime listener unexpected fatal error",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:-402011,"-402012":"realtime listener init ws fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL:-402012,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-403002":"internal server error: empty upload url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL:-403002,"-403003":"internal server error: empty download url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL:-403003,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"poll result base resp ret abnormal",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"poll result status code error",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"poll error",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-404012":"polling exceed max timeout retry",SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY:-404012,"-404013":"polling exceed max system error retry",SDK_FUNCTIONS_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-404013,"-405001":"empty call result",SDK_CONTAINER_EMPTY_CALL_RESULT:-405001,"-405002":"empty event id",SDK_CONTAINER_EMPTY_EVENT_ID:-405002,"-405003":"empty poll url",SDK_CONTAINER_EMPTY_POLL_URL:-405003,"-405004":"empty poll result json",SDK_CONTAINER_EMPTY_POLL_RESULT_JSON:-405004,"-405005":"exceed max poll retry",SDK_CONTAINER_EXCEED_MAX_POLL_RETRY:-405005,"-405006":"empty poll result base resp",SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP:-405006,"-405007":"poll result base resp ret abnormal",SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-405007,"-405008":"poll result status code error",SDK_CONTAINER_POLL_RESULT_STATUS_CODE_ERROR:-405008,"-405009":"poll error",SDK_CONTAINER_POLL_ERROR:-405009,"-405010":"result expired",SDK_CONTAINER_POLL_RESULT_EXPIRED:-405010,"-405012":"polling exceed max timeout retry",SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY:-405012,"-405013":"polling exceed max system error retry",SDK_CONTAINER_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-405013,"-405014":"cannot download result (cdn)",SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL:-405014,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-601005":"invalid cloudID",WX_INVALID_CLOUDID:-601005,"-601006":"cloudID expired",WX_CLOUDID_EXPIRED:-601006,"-601007":"cloudID and calling user does not match",WX_CLOUDID_USER_NOT_MATCH:-601007,"-601008":"server-side request timedout",WX_SERVER_REQUEST_TIMEOUT:-601008,"-601009":"missing mobile phone",WX_MISSING_MOBILE_PHONE:-601009,"-601010":"no write permission",WX_NO_WRITE_PERMISSION:-601010,"-601011":"no privilege permission",WX_NO_PRIVILEGE_PERMISSION:-601011,"-601012":"unauthorized env",WX_UNAUTHORIZED_ENV:-601012,"-601013":"no multiend permission",WX_NO_MULTIEND_PERMISSION:-601013,"-601015":"access denied (cloudfunction cloudbase_auth returns empty errCode)",WX_CLOUDBASE_AUTH_RETURN_EMPTY_ERRCODE:-601015,"-601016":"missing env auth info",WX_MISSING_ENV_AUTH_INFO:-601016,"-601017":"access denied (cloudbase_auth returns non-zero errCode)",WX_CLOUDBASE_AUTH_RETURN_NON_ZERO_ERRCODE:-601017,"-602018":"unauthorized API",WX_UNAUTHORIZED_API:-601018,"-602001":"database query result size exceed limit (1MB)",WX_DATABASE_QUERY_SIZE_EXCEED_LIMIT:-602001,"-604001":"cloudfunction result size exceed limit (1MB)",WX_CLOUDFUNCTION_RESULT_SIZE_EXCEED_LIMIT:-604001,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-501010":"tencentcloud key signature verification fail",TCB_KEY_SIGNATURE_VERIFICATION_FAIL:-501010,"-501011":"invalid env status",TCB_INVALID_ENV_STATUS:-501011,"-501012":"invalid api name",TCB_INVALID_API_NAME:-501012,"-501013":"request data size exceeds limit (5M)",TCB_REQ_DATA_EXCEED_LIMIT_5M:-501013,"-501014":"upload file size exceeds limit (5M)",TCB_UPLOAD_FILE_SIZE_EXCEED_LIMIT_5M:-501014,"-501023":"permission denied",TCB_PERMISSION_DENIED:-501023,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002}},"./src/config/report.config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorKey=t.ErrorID=void 0,t.ErrorID=1128,t.ErrorKey={REALTIME_DB_INIT_WS_SUCCESS:1,REALTIME_DB_INIT_WS_FAIL:2,REALTIME_DB_RECONNECT_WS_SUCCESS:3,REALTIME_DB_RECONNECT_WS_FAIL:4,REALTIME_DB_INIT_WATCH_SUCCESS:5,REALTIME_DB_INIT_WATCH_FAIL:6,REALTIME_DB_REBUILD_WATCH_SUCCESS:7,REALTIME_DB_REBUILD_WATCH_FAIL:8,REALTIME_DB_WS_ONERROR_BEFORE_OPEN:9,REALTIME_DB_WS_ONERROR_WHILE_ACTIVE:10,REALTIME_DB_WS_ONCLOSE:11,REALTIME_DB_WS_ONCLOSE_HEARTBEAT_PING_FAIL:12,REALTIME_DB_WS_ONCLOSE_HEARTBEAT_PONG_TIMEOUT:13,REALTIME_DB_WS_ONCLOSE_AB_NORMAL_CLOSURE:14,REALTIME_DB_WS_ONCLOSE_SERVER_CLOSE_NO_AUTH:15,REALTIME_DB_WS_ONCLOSE_UNKNOWN_ORIGIN:16,REALTIME_DB_WS_TOTAL_CONNECTION_TIMEOUT:17,REALTIME_DB_WS_ONCLOSE_SERVER_CLOSE_FOR_UPGRADE:18,REALTIME_DB_RECV_MSG_WITH_CLOSED_WATCHID:30,REALTIME_DB_RECV_MSG_WITH_UNKNOWN_WATCHID:31,REALTIME_DB_RECV_MSG_WITHOUT_WATCHID:32,REALTIME_DB_HANDLE_EVENT_ERROR:33,REALTIME_DB_RECV_DUPLICATE_EVENT:34,REALTIME_DB_RECV_DUPLICATE_EVENT_AND_EVENT_OUT_OF_ORDER:35,REALTIME_DB_UNEXPECTED_EVENT_DATATYPE_UPDATE_NO_ASSOCIATED_DOC:36,REALTIME_DB_UNEXPECTED_EVENT_REMOVE_NO_ASSOCIATED_DOC:37,REALTIME_DB_UNEXPECTED_EVENT_DEQUEUE_NO_ASSOCIATED_DOC:38,REALTIME_DB_UNEXPECTED_EVENT_QUEUETYPE_UPDATE_NO_ASSOCIATED_DOC:39,REALTIME_DB_EVENT_OUT_OF_ORDER:40,REALTIME_DB_INIT_WATCH_FAIL_SERVER_SIGN_ERROR:50,REALTIME_DB_REBUILD_WATCH_FAIL_SERVER_SIGN_ERROR:51,REALTIME_DB_INIT_WATCH_FAIL_SERVER_OTHER_ERROR:52,REALTIME_DB_REBUILD_WATCH_FAIL_SERVER_OTHER_ERROR:53,REALTIME_DB_INIT_WATCH_FAIL_TIMEOUT_ERROR_TOTAL_CONNECTION:54,REALTIME_DB_REBUILD_WATCH_FAIL_TIMEOUT_ERROR_TOTAL_CONNECTION:55,REALTIME_DB_REBUILD_WATCH_FAIL_TIMEOUT_ERROR_QUERY_EVENT_CACHE:56,REALTIME_DB_INIT_WATCH_FAIL_CANCELLED_ERROR:57,REALTIME_DB_REBUILD_WATCH_FAIL_CANCELLED_ERROR:58,REALTIME_DB_INIT_WATCH_FAIL_UNKNOWN_ERROR:59,REALTIME_DB_REBUILD_WATCH_FAIL_UNKNOWN_ERROR:60}},"./src/externals/globals/devtools.ts":function(e,t,r){var n=this;Object.defineProperty(t,"__esModule",{value:!0}),t.autoDevtoolsNetworkLog=t.devtoolsNetworkLog=void 0;var i=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),o=r("./src/externals/globals/wxconfig.ts"),s=r("./src/utils/type.ts"),a=function(e){return i.__assign(i.__assign({},e),{errMsg:void 0})};t.devtoolsNetworkLog=function(e){try{(0,o.isDevTools)()&&"undefined"!=typeof __global&&__global.networkLog&&__global.networkLog(i.__assign(i.__assign({},e),{domain:"cloud",method:"POST",realMethod:e.method,timestampMs:e.timestampMs||+new Date,callFramesIgnoreLength:e.hasOwnProperty("callFramesIgnoreLength")?e.callFramesIgnoreLength:1}))}catch(e){}};t.autoDevtoolsNetworkLog=function(e,r){try{if((0,o.isDevTools)()&&"undefined"!=typeof __global&&__global.networkLog){var u=r(),c="".concat(Math.random(),"-").concat(+new Date),l=u.console||!1,d=u.resultGetter||a;(0,t.devtoolsNetworkLog)({reqId:c,type:"requestWillBeSent",url:u.url,headers:u.headers||{},body:u.reqBody,console:l,callFramesIgnoreLength:2,timestampMs:u.timestampMs,method:u.method}),e.then(function(e){return i.__awaiter(n,void 0,void 0,function(){return i.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return void 0===e&&(e=0),new Promise(function(t){return setTimeout(t,e)})}()];case 1:return r.sent(),(0,t.devtoolsNetworkLog)({reqId:c,type:"loadingFinished",body:JSON.stringify(d(e),null,2),console:l,callFramesIgnoreLength:2,timestampMs:Date.now()}),[3,3];case 2:return r.sent(),[3,3];case 3:return[2]}})})}).catch(function(e){try{(0,t.devtoolsNetworkLog)({reqId:c,type:"loadingFailed",errorCode:e&&e.errCode||-1,errorMsg:(0,s.isObject)(e)?e.errMsg||JSON.stringify(e):e.toString(),console:l,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}})}}catch(e){}}},"./src/externals/globals/wxconfig.ts":function(e,t,r){(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=t.isWindows=t.isMINA=t.isDevTools=void 0;var i,o=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js");try{__wxConfig.platform,i=o.__assign({},__wxConfig),__wxConfig.onReady(function(){i=Object.assign(i,__wxConfig)})}catch(t){i={platform:"ios",appLaunchInfo:{mode:""},onReady:function(e){setTimeout(function(){e()})}},e.env.TEST&&(n.__wxConfig=i)}t.default=i;t.isDevTools=function(){return"devtools"===i.platform};t.isMINA=function(){return"mina"===i.platform};t.isWindows=function(){return"windows"===i.platform};t.isMac=function(){return"mac"===i.platform}}).call(this,r("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"),r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"))},"./src/externals/public-lib/appserviceSdk.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultSDK=t.setSDK=t.getSDK=void 0;var r,n=new WeakMap;function i(){return r||("undefined"!=typeof wx?wx:void 0)}t.getSDK=function(e){if(!e)return i();var t=n.get(e);return t&&t||i()};t.setSDK=function(e,t){n.set(e,t)};t.setDefaultSDK=function(e){r=e}},"./src/externals/public-lib/reporter.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r("./src/utils/fail-safe.ts"),o={fake:!0,surroundThirdByTryCatch:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(0,i.tryCatch)(function(){try{return e.apply(e,r)}catch(r){throw console.error(JSON.stringify(r)+"; ".concat(t,"\n")+r.stack),console.error(e.toString()),r}},t)}},reportIDKey:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},reportIDKeyDirectly:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},reportKeyValue:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}},s=!1,a=10;function u(){try{return s?Reporter:a<=0?n:(a--,Reporter.surroundThirdByTryCatch,n=Reporter,s=!0,n)}catch(e){return n=o}}t.default={surroundThirdByTryCatch:function(e,t){return u().surroundThirdByTryCatch(e,t)},reportIDKey:function(e){return u().reportIDKey(e)},reportIDKeyDirectly:function(e){return u().reportIDKeyDirectly(e)},reportKeyValue:function(e){return u().reportKeyValue(e)}}},"./src/hook/invoke.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.hasAPICallback=t.invokeFailCompleteCallbacks=t.invokeSuccessCompleteCallbacks=t.invokeCompleteCallback=t.invokeFailCallback=t.invokeSuccessCallback=void 0;var n=r("./src/utils/type.ts"),i=r("./src/utils/fail-safe.ts");function o(e,t,r){t.success&&(0,n.isFunction)(t.success)&&(0,i.wrapWithTryCatch)(t.success,"at api ".concat(e," success callback function;"))(r)}function s(e,t,r){t.fail&&(0,n.isFunction)(t.fail)&&(0,i.wrapWithTryCatch)(t.fail,"at api ".concat(e," fail callback function;"))(r)}function a(e,t,r){t.complete&&(0,n.isFunction)(t.complete)&&(0,i.wrapWithTryCatch)(t.complete,"at api ".concat(e," complete callback function;"))(r)}t.invokeSuccessCallback=o,t.invokeFailCallback=s,t.invokeCompleteCallback=a,t.invokeSuccessCompleteCallbacks=function(e,t,r){o(e,t,r),a(e,t,r)},t.invokeFailCompleteCallbacks=function(e,t,r){s(e,t,r),a(e,t,r)},t.hasAPICallback=function(e){return e&&(e.success||e.fail||e.complete)}},"./src/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/cloud/index.ts"),t),n.__exportStar(r("./src/servicemarket/index.ts"),t),n.__exportStar(r("./src/externals/public-lib/appserviceSdk.ts"),t)},"./src/network/tunnel.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.stdPrivateProtocol=t.getBoundTunnelRequest=t.constructTunnelReq=t.tunnel=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/error.ts"),o=r("./src/externals/public-lib/appserviceSdk.ts"),s=r("./src/utils/utils.ts"),a=r("./src/proto/stdpriv.js"),u=r("./src/utils/service-endpoint.ts"),c=s._wxConsole,l=new Set(["tcbapi_init","tcbapi_get_service_info"]),d=new(function(){function e(){this._running=0,this._onIdleCallbacks=[]}return Object.defineProperty(e.prototype,"running",{get:function(){return this._running},enumerable:!1,configurable:!0}),e.prototype.incrementRunning=function(e){void 0===e&&(e=1),this._running+=e,this._idleTriggerTimer&&clearTimeout(this._idleTriggerTimer)},e.prototype.decrementRunning=function(e){var t=this;void 0===e&&(e=1),this._running-=e,this._running<0&&(this._running=0),this._running<=0&&this._onIdleCallbacks.length&&(this._idleTriggerTimer=setTimeout(function(){if(t._idleTriggerTimer=null,t._onIdleCallbacks.length){var e=t._onIdleCallbacks.shift();e&&e()}},50))},e.prototype.onceIdle=function(e){this._running>0?this._onIdleCallbacks.push(e):e()},e}());function f(e,t){var r=this;if(void 0===t&&(t={}),t.fireOnIdle&&d.running>0)return new Promise(function(i,o){d.onceIdle(function(){return n.__awaiter(r,void 0,void 0,function(){var r,s;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,f(e,t)];case 1:return r=n.sent(),i(r),[3,3];case 2:return s=n.sent(),o(s),[3,3];case 3:return[2]}})})})});if(t.onFire)try{t.onFire()}catch(e){}return new Promise(function(r,s){var a,u,c,l,f;d.incrementRunning(),(0,o.getSDK)((e.cloud||t.cloud||{}).identifiers).operateWXData({appid:null===(u=null===(a=e.cloud)||void 0===a?void 0:a.instanceOptions)||void 0===u?void 0:u.resourceAppid,accessToken:null===(l=null===(c=e.cloud)||void 0===c?void 0:c.authStorage)||void 0===l?void 0:l.getItem("access_token"),webRequest:null===(f=e.cloud)||void 0===f?void 0:f.webRequest,apiName:e.apiName||"qbase_commapi",reqData:e.data,requestInQueue:!1,success:function(e){!e.data&&e.rawData&&(e.data=JSON.parse(e.rawData));var o=n.__assign(n.__assign({},e),{data:e.data});if(e.data)try{var a=e.data;if(a.baseresponse&&0!==a.baseresponse.errcode){var u=new i.CloudSDKError({errCode:a.baseresponse.errcode,errMsg:a.baseresponse.errmsg});return void s(u)}o=n.__assign(n.__assign({},e),{data:a})}catch(e){u=new i.CloudSDKError({errMsg:e&&e.toString()});return void s(u)}else if(t&&t.requireDataNotEmpty){u=new i.CloudSDKError({errCode:e.errCode,errMsg:"error empty internal server response, ".concat(e.errMsg)});return void s(u)}r(o)},fail:function(e){if(e&&e.errMsg)if(e.errMsg.includes("invalid scope")){var t="invalid scope 没有权限，请先开通云服务";(e=new Error(t)).errMsg=t,e.operateWXDataFail=!0}else{t=e.errMsg.replace(/^operateWXData:fail /,"");(e=new Error(t)).errMsg=t,e.operateWXDataFail=!0}s(e)},complete:function(){e.complete&&e.complete.apply(null,arguments),d.decrementRunning()}})})}function p(e,t){return n.__awaiter(this,void 0,void 0,function(){var i,l,d,f,p,_,h,E,m,g,v;return n.__generator(this,function(S){switch(S.label){case 0:return(l=e.serviceEndpoint.getEndpointSync("container"))?[3,2]:[4,e.serviceEndpoint.getEndpoint("container")];case 1:l=S.sent(),S.label=2;case 2:if(!(i=l).cloudServiceUrl)throw{errCode:-9998,errMsg:"cloudServiceUrl not found"};return null===c||void 0===c||c.info("cloud stdpriv begin",t),d=(0,o.getSDK)(e.identifiers),f={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":i.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-LIB-BUILD-TS":1670494204239,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"JSON","Content-Type":"application/octet-stream"},p=a.QBaseApiData.encode(t).finish(),f["X-WX-REQUEST-CONTENT-ENCODING"]="PB",_=r("./src/vendor/snappy.js"),h=_.compress(p),E=r("./src/utils/asmcrypto.ts"),m=new Uint8Array(s.base64ToArrayBuffer(i.key)),g=E.AES_CBC.encrypt(h,m,void 0,m),v=(0,u.getCloudServiceURL)({rdm:e.getConfig().rdm}),[2,new Promise(function(e,t){d.request({url:v,method:"POST",header:f,data:g.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:!0,success:function(r){try{for(var n in null===c||void 0===c||c.info("res",r),r.header)if("x-nws-log-uuid"===n.toLowerCase()&&(null===c||void 0===c||c.log("[cloud.callContainer] x-nws-log-uuid ".concat(r.header[n]))),"x-wx-system-error"===n.toLowerCase()){var i=Number(r.header[n]);return 85104===i&&u.ServiceEndpoint.invalidateService("container"),void t(new Error("wx system error. code: ".concat(i)))}if(200===r.statusCode){var o=r.data,a=E.AES_CBC.decrypt(new Uint8Array(o),m,void 0,m);for(var l in null===c||void 0===c||c.info("decrypt done"),r.header){if("x-wx-compression"===l.toLowerCase()&&"snappy"===r.header[l]&&(a=_.uncompress(a)),"x-wx-server-timing"===l.toLowerCase())(r.header[l]||"").split(",").length}var d=JSON.parse(s.arrayBufferToString(a));e({errCode:0,errMsg:"",data:d,profile:r.profile,channelType:1})}else t({errCode:-9999,errMsg:"system conn status not 200"})}catch(e){t(new Error("error while processing internal response ".concat(e)))}},fail:function(e){t(n.__assign(n.__assign({},e),{errCode:-9999,errMsg:e.errMsg}))}})})]}})})}t.tunnel=f,t.constructTunnelReq=function(e){var t=e.cloud;return{apiName:"qbase_commapi",data:{qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:{env:e.env},qbase_meta:t.getMetaData(),cli_req_id:"".concat(+new Date,"_").concat(Math.random())},cloud:t}},t.getBoundTunnelRequest=function(e){var t=e.cloud;return function(e){return n.__awaiter(this,void 0,void 0,function(){var r,i;return n.__generator(this,function(o){switch(o.label){case 0:return r=t.isInstance?n.__assign(n.__assign({},t.instanceOptions),{appid:t.instanceOptions.resourceAppid,env:t.instanceOptions.resourceEnv}):n.__assign(n.__assign({},e),{env:e.env}),i={qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:r,qbase_meta:t.getMetaData(),cli_req_id:"".concat(+new Date,"_").concat(Math.random())},!e.stdpriv||l.has(e.apiName)?[3,2]:[4,p(t,i).catch(function(e){if(e&&(-9999===e.errCode||-9998===e.errCode))return f({apiName:"qbase_commapi",data:i,cloud:t}).then(function(t){return n.__assign(n.__assign({},t),{channelType:-9998===e.errCode?0:2})});throw e})];case 1:return[2,o.sent()];case 2:return[2,f({apiName:"qbase_commapi",data:i,cloud:t})]}})})}},t.stdPrivateProtocol=p,t.default=f},"./src/proto/http.js":function(e,t,r){var n=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/minimal.js"),i=n.Reader,o=n.Writer,s=n.util,a=n.roots.default||(n.roots.default={});a.HTTPRequest=function(){function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.method="",e.prototype.header=s.emptyArray,e.prototype.body=s.newBuffer([]),e.prototype.callId="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(10).string(e.method),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)a.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),null!=e.callId&&Object.hasOwnProperty.call(e,"callId")&&t.uint32(34).string(e.callId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.HTTPRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.method=e.string();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(a.HTTPHeader.decode(e,e.uint32()));break;case 3:n.body=e.bytes();break;case 4:n.callId=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.method&&e.hasOwnProperty("method")&&!s.isString(e.method))return"method: string expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=a.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"==typeof e.body.length||s.isString(e.body))?"body: buffer expected":null!=e.callId&&e.hasOwnProperty("callId")&&!s.isString(e.callId)?"callId: string expected":null},e.fromObject=function(e){if(e instanceof a.HTTPRequest)return e;var t=new a.HTTPRequest;if(null!=e.method&&(t.method=String(e.method)),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPRequest.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPRequest.header: object expected");t.header[r]=a.HTTPHeader.fromObject(e.header[r])}}return null!=e.body&&("string"==typeof e.body?s.base64.decode(e.body,t.body=s.newBuffer(s.base64.length(e.body)),0):e.body.length&&(t.body=e.body)),null!=e.callId&&(t.callId=String(e.callId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.method="",t.bytes===String?r.body="":(r.body=[],t.bytes!==Array&&(r.body=s.newBuffer(r.body))),r.callId=""),null!=e.method&&e.hasOwnProperty("method")&&(r.method=e.method),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=a.HTTPHeader.toObject(e.header[n],t)}return null!=e.body&&e.hasOwnProperty("body")&&(r.body=t.bytes===String?s.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),null!=e.callId&&e.hasOwnProperty("callId")&&(r.callId=e.callId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),a.HTTPResponse=function(){function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.statusCode=0,e.prototype.header=s.emptyArray,e.prototype.bodyBuffer=s.newBuffer([]),e.prototype.bodyString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.statusCode&&Object.hasOwnProperty.call(e,"statusCode")&&t.uint32(8).uint32(e.statusCode),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)a.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.bodyBuffer&&Object.hasOwnProperty.call(e,"bodyBuffer")&&t.uint32(26).bytes(e.bodyBuffer),null!=e.bodyString&&Object.hasOwnProperty.call(e,"bodyString")&&t.uint32(34).string(e.bodyString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.HTTPResponse;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.statusCode=e.uint32();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(a.HTTPHeader.decode(e,e.uint32()));break;case 3:n.bodyBuffer=e.bytes();break;case 4:n.bodyString=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.statusCode&&e.hasOwnProperty("statusCode")&&!s.isInteger(e.statusCode))return"statusCode: integer expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=a.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&!(e.bodyBuffer&&"number"==typeof e.bodyBuffer.length||s.isString(e.bodyBuffer))?"bodyBuffer: buffer expected":null!=e.bodyString&&e.hasOwnProperty("bodyString")&&!s.isString(e.bodyString)?"bodyString: string expected":null},e.fromObject=function(e){if(e instanceof a.HTTPResponse)return e;var t=new a.HTTPResponse;if(null!=e.statusCode&&(t.statusCode=e.statusCode>>>0),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPResponse.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPResponse.header: object expected");t.header[r]=a.HTTPHeader.fromObject(e.header[r])}}return null!=e.bodyBuffer&&("string"==typeof e.bodyBuffer?s.base64.decode(e.bodyBuffer,t.bodyBuffer=s.newBuffer(s.base64.length(e.bodyBuffer)),0):e.bodyBuffer.length&&(t.bodyBuffer=e.bodyBuffer)),null!=e.bodyString&&(t.bodyString=String(e.bodyString)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.statusCode=0,t.bytes===String?r.bodyBuffer="":(r.bodyBuffer=[],t.bytes!==Array&&(r.bodyBuffer=s.newBuffer(r.bodyBuffer))),r.bodyString=""),null!=e.statusCode&&e.hasOwnProperty("statusCode")&&(r.statusCode=e.statusCode),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=a.HTTPHeader.toObject(e.header[n],t)}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&(r.bodyBuffer=t.bytes===String?s.base64.encode(e.bodyBuffer,0,e.bodyBuffer.length):t.bytes===Array?Array.prototype.slice.call(e.bodyBuffer):e.bodyBuffer),null!=e.bodyString&&e.hasOwnProperty("bodyString")&&(r.bodyString=e.bodyString),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),a.HTTPHeader=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.HTTPHeader;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!s.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!s.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof a.HTTPHeader)return e;var t=new a.HTTPHeader;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=""),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.exports=a},"./src/proto/stdpriv.js":function(e,t,r){var n=r("../../node_modules/.pnpm/protobufjs@7.1.1/node_modules/protobufjs/minimal.js"),i=n.Reader,o=n.Writer,s=n.util,a=n.roots.default||(n.roots.default={});a.QBaseApiData=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.qbase_api_name="",e.prototype.qbase_meta=null,e.prototype.qbase_options=null,e.prototype.qbase_req="",e.prototype.cli_req_id="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.qbase_api_name&&Object.hasOwnProperty.call(e,"qbase_api_name")&&t.uint32(10).string(e.qbase_api_name),null!=e.qbase_meta&&Object.hasOwnProperty.call(e,"qbase_meta")&&a.QBaseApiData.QBaseMeta.encode(e.qbase_meta,t.uint32(18).fork()).ldelim(),null!=e.qbase_options&&Object.hasOwnProperty.call(e,"qbase_options")&&a.QBaseApiData.QBaseOptions.encode(e.qbase_options,t.uint32(26).fork()).ldelim(),null!=e.qbase_req&&Object.hasOwnProperty.call(e,"qbase_req")&&t.uint32(34).string(e.qbase_req),null!=e.cli_req_id&&Object.hasOwnProperty.call(e,"cli_req_id")&&t.uint32(42).string(e.cli_req_id),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.QBaseApiData;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.qbase_api_name=e.string();break;case 2:n.qbase_meta=a.QBaseApiData.QBaseMeta.decode(e,e.uint32());break;case 3:n.qbase_options=a.QBaseApiData.QBaseOptions.decode(e,e.uint32());break;case 4:n.qbase_req=e.string();break;case 5:n.cli_req_id=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.qbase_api_name&&e.hasOwnProperty("qbase_api_name")&&!s.isString(e.qbase_api_name))return"qbase_api_name: string expected";var t;if(null!=e.qbase_meta&&e.hasOwnProperty("qbase_meta")&&(t=a.QBaseApiData.QBaseMeta.verify(e.qbase_meta)))return"qbase_meta."+t;if(null!=e.qbase_options&&e.hasOwnProperty("qbase_options")&&(t=a.QBaseApiData.QBaseOptions.verify(e.qbase_options)))return"qbase_options."+t;return null!=e.qbase_req&&e.hasOwnProperty("qbase_req")&&!s.isString(e.qbase_req)?"qbase_req: string expected":null!=e.cli_req_id&&e.hasOwnProperty("cli_req_id")&&!s.isString(e.cli_req_id)?"cli_req_id: string expected":null},e.fromObject=function(e){if(e instanceof a.QBaseApiData)return e;var t=new a.QBaseApiData;if(null!=e.qbase_api_name&&(t.qbase_api_name=String(e.qbase_api_name)),null!=e.qbase_meta){if("object"!=typeof e.qbase_meta)throw TypeError(".QBaseApiData.qbase_meta: object expected");t.qbase_meta=a.QBaseApiData.QBaseMeta.fromObject(e.qbase_meta)}if(null!=e.qbase_options){if("object"!=typeof e.qbase_options)throw TypeError(".QBaseApiData.qbase_options: object expected");t.qbase_options=a.QBaseApiData.QBaseOptions.fromObject(e.qbase_options)}return null!=e.qbase_req&&(t.qbase_req=String(e.qbase_req)),null!=e.cli_req_id&&(t.cli_req_id=String(e.cli_req_id)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.qbase_api_name="",r.qbase_meta=null,r.qbase_options=null,r.qbase_req="",r.cli_req_id=""),null!=e.qbase_api_name&&e.hasOwnProperty("qbase_api_name")&&(r.qbase_api_name=e.qbase_api_name),null!=e.qbase_meta&&e.hasOwnProperty("qbase_meta")&&(r.qbase_meta=a.QBaseApiData.QBaseMeta.toObject(e.qbase_meta,t)),null!=e.qbase_options&&e.hasOwnProperty("qbase_options")&&(r.qbase_options=a.QBaseApiData.QBaseOptions.toObject(e.qbase_options,t)),null!=e.qbase_req&&e.hasOwnProperty("qbase_req")&&(r.qbase_req=e.qbase_req),null!=e.cli_req_id&&e.hasOwnProperty("cli_req_id")&&(r.cli_req_id=e.cli_req_id),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.QBaseMeta=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.first_launch=!1,e.prototype.session_id="",e.prototype.sdk_version="",e.prototype.filter_user_info=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.first_launch&&Object.hasOwnProperty.call(e,"first_launch")&&t.uint32(8).bool(e.first_launch),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(18).string(e.session_id),null!=e.sdk_version&&Object.hasOwnProperty.call(e,"sdk_version")&&t.uint32(26).string(e.sdk_version),null!=e.filter_user_info&&Object.hasOwnProperty.call(e,"filter_user_info")&&t.uint32(32).bool(e.filter_user_info),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.QBaseApiData.QBaseMeta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.first_launch=e.bool();break;case 2:n.session_id=e.string();break;case 3:n.sdk_version=e.string();break;case 4:n.filter_user_info=e.bool();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.first_launch&&e.hasOwnProperty("first_launch")&&"boolean"!=typeof e.first_launch?"first_launch: boolean expected":null!=e.session_id&&e.hasOwnProperty("session_id")&&!s.isString(e.session_id)?"session_id: string expected":null!=e.sdk_version&&e.hasOwnProperty("sdk_version")&&!s.isString(e.sdk_version)?"sdk_version: string expected":null!=e.filter_user_info&&e.hasOwnProperty("filter_user_info")&&"boolean"!=typeof e.filter_user_info?"filter_user_info: boolean expected":null},e.fromObject=function(e){if(e instanceof a.QBaseApiData.QBaseMeta)return e;var t=new a.QBaseApiData.QBaseMeta;return null!=e.first_launch&&(t.first_launch=Boolean(e.first_launch)),null!=e.session_id&&(t.session_id=String(e.session_id)),null!=e.sdk_version&&(t.sdk_version=String(e.sdk_version)),null!=e.filter_user_info&&(t.filter_user_info=Boolean(e.filter_user_info)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.first_launch=!1,r.session_id="",r.sdk_version="",r.filter_user_info=!1),null!=e.first_launch&&e.hasOwnProperty("first_launch")&&(r.first_launch=e.first_launch),null!=e.session_id&&e.hasOwnProperty("session_id")&&(r.session_id=e.session_id),null!=e.sdk_version&&e.hasOwnProperty("sdk_version")&&(r.sdk_version=e.sdk_version),null!=e.filter_user_info&&e.hasOwnProperty("filter_user_info")&&(r.filter_user_info=e.filter_user_info),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e.QBaseOptions=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.env="",e.prototype.appid="",e.prototype.region="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.env&&Object.hasOwnProperty.call(e,"env")&&t.uint32(10).string(e.env),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(18).string(e.appid),null!=e.region&&Object.hasOwnProperty.call(e,"region")&&t.uint32(26).string(e.region),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.QBaseApiData.QBaseOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.env=e.string();break;case 2:n.appid=e.string();break;case 3:n.region=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.env&&e.hasOwnProperty("env")&&!s.isString(e.env)?"env: string expected":null!=e.appid&&e.hasOwnProperty("appid")&&!s.isString(e.appid)?"appid: string expected":null!=e.region&&e.hasOwnProperty("region")&&!s.isString(e.region)?"region: string expected":null},e.fromObject=function(e){if(e instanceof a.QBaseApiData.QBaseOptions)return e;var t=new a.QBaseApiData.QBaseOptions;return null!=e.env&&(t.env=String(e.env)),null!=e.appid&&(t.appid=String(e.appid)),null!=e.region&&(t.region=String(e.region)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.env="",r.appid="",r.region=""),null!=e.env&&e.hasOwnProperty("env")&&(r.env=e.env),null!=e.appid&&e.hasOwnProperty("appid")&&(r.appid=e.appid),null!=e.region&&e.hasOwnProperty("region")&&(r.region=e.region),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e}(),e}(),e.exports=a},"./src/runtime/runtime.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntimeInfo=void 0,r("@web");var n={env:"",platform:""};if(t.getRuntimeInfo=function(){return n},"undefined"!=typeof __wxConfig)n.env="miniprogram",n.platform=__wxConfig.platform;else if(n.env="web",window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment)n.platform="miniprogram";else{var i=window.navigator.userAgent.toLowerCase();/MicroMessenger/i.test(i)&&(n.platform="wxweb")}},"./src/servicemarket/cdn.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.uploadToCommonCDN=t.CDN=t.CDNObjectSymbol=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/externals/public-lib/appserviceSdk.ts");t.CDNObjectSymbol=Symbol("CDN");var o=function(){return function(e){this.symbol=t.CDNObjectSymbol,this.options=e}}();t.CDN=o,t.uploadToCommonCDN=function(e,t){return new Promise(function(r,o){(t||(0,i.getSDK)()).uploadToCommonCDN(n.__assign(n.__assign({},e),{success:r,fail:o}))})}},"./src/servicemarket/config.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_MSG=t.ERR_CODE=void 0,t.ERR_CODE={SM_EXCEED_MAX_TIMEOUT_POLL_RETRY:100,SM_EMPTY_CALL_RESULT:101,SM_EXCEED_MAX_POLL_RETRY:102,SM_PROVIDER_EXECUTION_ERROR:103,SM_POLL_RESULT_EXPIRED:104,SM_EMPTY_POLL_RESULT_BASE_RESP:105,SM_POLL_RESULT_BASE_RESP_RET_ABNORMAL:106,SM_UNKNOWN_SCENE:107,SM_SYSTEM_ERROR:108},t.ERR_MSG={SM_EXCEED_MAX_TIMEOUT_POLL_RETRY:"exceed max timeout retry",SM_EMPTY_CALL_RESULT:"empty call result",SM_EXCEED_MAX_POLL_RETRY:"exceed max poll retry",SM_PROVIDER_EXECUTION_ERROR:"provider execution error",SM_POLL_RESULT_EXPIRED:"poll result expired",SM_EMPTY_POLL_RESULT_BASE_RESP:"empty poll result base resp",SM_POLL_RESULT_BASE_RESP_RET_ABNORMAL:"poll result base resp ret abnormal",SM_UNKNOWN_SCENE:"unknown scene",SM_SYSTEM_ERROR:"system error"}},"./src/servicemarket/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getServiceMarketAPI=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/hook/invoke.ts"),o=r("./src/externals/globals/wxconfig.ts"),s=r("./src/servicemarket/cdn.ts"),a=r("./src/servicemarket/invokeService/v1.ts"),u=r("./src/servicemarket/invokeService/v2.ts"),c=function(e){return(0,i.hasAPICallback)(e)?l(e):(0,o.isDevTools)()&&!e.async?a.invokeService(e):u.invokeService(e)},l=function(e){((0,o.isDevTools)()&&!e.async?a.invokeService(e):u.invokeService(e)).then(function(t){(0,i.invokeSuccessCompleteCallbacks)("invokeService",e,t)}).catch(function(t){(0,i.invokeFailCompleteCallbacks)("invokeService",e,t)})},d=function(e){return(0,i.hasAPICallback)(e)?f(e):u.getAsyncResult(e)},f=function(e){u.getAsyncResult(e).then(function(t){(0,i.invokeSuccessCompleteCallbacks)("getAsyncResult",e,t)}).catch(function(t){(0,i.invokeFailCompleteCallbacks)("getAsyncResult",e,t)})};t.getServiceMarketAPI=function(e){void 0===e&&(e={});var t=e.sdk;return{invokeService:function(e){return c(n.__assign(n.__assign({},e),{sdk:t}))},getAsyncResult:function(e){return d(n.__assign(n.__assign({},e),{sdk:t}))},CDN:s.CDN}}},"./src/servicemarket/invokeService/v1.ts":function(e,t,r){var n=this;Object.defineProperty(t,"__esModule",{value:!0}),t.invokeService=void 0;var i=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),o=r("./src/servicemarket/cdn.ts"),s=r("./src/servicemarket/operateWXData.ts");t.invokeService=function(e){return i.__awaiter(n,void 0,void 0,function(){var t,r,n,a,u,c,l,d,f,p,_,h;return i.__generator(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");return t=new WeakMap,r=[],e.data&&JSON.stringify(e.data,function(n,i){return i&&i.symbol===o.CDNObjectSymbol?void r.push(new Promise(function(r,n){var s={appType:301,fileType:20303,fileKey:"file_".concat(Math.random())},a=i;switch(function(e){return Object.prototype.toString.call(e).slice(8,-1)}(a.options)){case"Object":if(!a.options.filePath)throw new Error("filePath must be provided");s.filePath=a.options.filePath;break;default:s.fileData=a.options}r((0,o.uploadToCommonCDN)(s,e.sdk).then(function(e){t.set(i,e.fileUrl)}))})):i}),[4,Promise.all(r)];case 1:return i.sent(),n=JSON.stringify(e.data,function(e,r){return r&&r.symbol===o.CDNObjectSymbol&&t.has(r)?t.get(r):r}),[4,(0,s.operateWXData)({apiName:"WxaServiceMarketJsapiComm",reqData:{service_id:e.service,api_name:e.api,data:n,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:"".concat(Math.random(),"_").concat(Date.now()),version:1}},e.sdk)];case 2:!(a=i.sent()).data&&a.rawData&&(a.data=JSON.parse(a.rawData)),u=a.data,wxConsole.info("[servicemarket] raw response",u),c=void 0,l=void 0,d=void 0;try{c=(f=u).request_id,0===f.errcode?l=JSON.parse(f.data):(_="invokeService:fail ".concat(f.errcode," ").concat(f.errmsg," (requestId: ").concat(c,")"),(d=new Error(_)).errCode=f.errcode,d.errMsg=_,d.requestId=c)}catch(e){_="invokeService:fail inner protocol parse failed (requestId: ".concat(c||"empty",")"),(d=new Error(_)).errCode=-1,d.errMsg=_,d.requestId=c}if(d)throw d;return[2,{errMsg:"invokeService:ok",data:l,requestId:c}];case 3:throw p=i.sent(),_="invokeService:fail ",p&&p.errMsg&&p.err_code?(_+=p.errMsg,(h=new Error(_+"(err_code ".concat(p.err_code,")"))).errCode=p.err_code,h):p&&p.errMsg&&p.errCode?p:new Error("invokeService:fail ".concat(p));case 4:return[2]}})})}},"./src/servicemarket/invokeService/v2.ts":function(e,t,r){var n=this;Object.defineProperty(t,"__esModule",{value:!0}),t.getAsyncResult=t.invokeService=void 0;var i,o=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),s=r("./src/servicemarket/types.ts"),a=r("./src/utils/utils.ts"),u=r("./src/utils/error.ts"),c=r("./src/externals/globals/wxconfig.ts"),l=r("./src/servicemarket/config.ts"),d=r("./src/servicemarket/cdn.ts"),f=r("./src/servicemarket/operateWXData.ts"),p="invokeService",_=50,h=2,E=2,m=60,g=2e4;!function(e){e[e.InvalidRequestId=14]="InvalidRequestId"}(i||(i={}));var v=function(e){var t=new Date;return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()," ").concat(e)},S=function(e){return e.join("->")};t.invokeService=function(e){return o.__awaiter(n,void 0,void 0,function(){function t(t,r,n){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(i){return[2,new Promise(function(i,d){var y=[v("start")],T=function(e,t,r){var n=function(t){e.push(v("app ".concat(t)))};return(0,a.onAppVisibilityChange)(n),{resolve:function(e){(0,a.offAppVisibilityChange)(n),t(e)},reject:function(e){(0,a.offAppVisibilityChange)(n),r(e)}}}(y,i,d),A=T.resolve,b=T.reject;!function t(r){return o.__awaiter(this,void 0,void 0,function(){var n,i,d,_,h,E,y,T,A,b,C,O,I,R,w,N,D,L,M,P,U,x,B,k=this;return o.__generator(this,function(j){switch(j.label){case 0:n=r.param,i=r.data,d=r.callID,_=r.scene,h=r.retryReason,E=r.tryCount,y=r.trace,T=r.systemErrorRetry,A=r.timeoutErrorRetry,b=r.resolve,C=r.reject,O={service_id:n.service,api_name:n.api,data:_===s.Scene.CALL?i:void 0,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:"".concat(Math.random(),"_").concat(Date.now()),version:2,call_id:d,scene:_,retry_reason:h},I=!1,R=!1,w=function(){clearTimeout(D),R=!0},N=+new Date,D=setTimeout(function(){return o.__awaiter(k,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return e=g,+new Date-N>e?[4,(0,a.sleep)()]:[3,2];case 1:if(n.sent(),R)return[2];n.label=2;case 2:return!(0,c.isDevTools)()&&+new Date-N>m?(y.push(v("timeout, exceed max retry gap")),[2,C((0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_POLL_RESULT_EXPIRED,errMsg:"timeout for retry, cannot retry fetching the result anymore (callId: ".concat(d,") (trace: ").concat(S(y),")")},p))]):(I=!0,r.timeoutErrorRetry>0?(y.push(v("timeout, retry")),t(o.__assign(o.__assign({},r),{scene:_,retryReason:s.RetryReason.Timeout,tryCount:E-1,timeoutErrorRetry:A-1}))):(y.push(v("timeout, abort")),C((0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:"".concat(l.ERR_MSG.SM_EXCEED_MAX_TIMEOUT_POLL_RETRY," (callId: ").concat(d,") (trace: ").concat(S(y),")")},p))),[2])}})})},g),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,(0,f.operateWXData)({apiName:"WxaServiceMarketJsapiComm",reqData:O},e.sdk)];case 2:!(L=j.sent()).data&&L.rawData&&(L.data=JSON.parse(L.rawData));try{if(I)return[2];if(w(),!(M=L.data)&&L.rawData)try{M=JSON.parse(L.rawData)}catch(e){}if(!M)return y.push(v("empty resp")),[2,C((0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_EMPTY_CALL_RESULT,errMsg:l.ERR_MSG.SM_EMPTY_CALL_RESULT},p))];if(M.scene!==s.Scene.PreResp){if(M.scene===s.Scene.FinalResp){if(0!==M.errcode)return(P=(0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_PROVIDER_EXECUTION_ERROR,errMsg:"requestID ".concat(M.request_id,", error message ").concat(M.provider_errmsg||"unknown"," (callid ").concat(d,")")},p)).requestID=M.request_id,[2,C(P)];U=M.data;try{U=JSON.parse(U)}catch(e){}return[2,b({result:U,requestID:M.request_id})]}return y.push(v("unexpected scene")),[2,C((0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_UNKNOWN_SCENE,errMsg:"unknown scene ".concat(M.scene," (callId: ").concat(d,") (trace: ").concat(S(y),")")},p))]}if(!(E>=0))return y.push(v("too many polls, abort")),[2,C((0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_EXCEED_MAX_POLL_RETRY,errMsg:"".concat(l.ERR_MSG.SM_EXCEED_MAX_POLL_RETRY," (callId: ").concat(d,") (trace: ").concat(S(y),")")},p))];y.push(v("normal poll")),t(o.__assign(o.__assign({},r),{scene:s.Scene.POLL,retryReason:s.RetryReason.None,tryCount:E-1}))}catch(e){C((0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_POLL_ERROR,errMsg:"polling catch error: ".concat(e," (callId: ").concat(d,")")},p))}return[3,4];case 3:return x=j.sent(),I?[2]:(w(),B=x instanceof Error?x:JSON.stringify(x),x&&x.operateWXDataFail&&T>0?(y.push(v("system error (".concat(B,"), retry"))),t(o.__assign(o.__assign({},r),{scene:_,retryReason:s.RetryReason.SysErr,tryCount:E-1,systemErrorRetry:T-1}))):(y.push(v("system error (".concat(B,"), abort"))),C((0,u.returnAsFinalCloudSDKError)("".concat(B," (callId: ").concat(d,") (trace: ").concat(S(y),")"),p))),[3,4]);case 4:return[2]}})})}({param:t,data:r,callID:n,scene:s.Scene.CALL,retryReason:s.RetryReason.None,tryCount:_,systemErrorRetry:h,timeoutErrorRetry:E,trace:y,resolve:A,reject:b})})]})})}var r,n,i,y,T,A,b,C,O,I,R,w,N,D;return o.__generator(this,function(o){switch(o.label){case 0:if(o.trys.push([0,6,,7]),!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");return r=new WeakMap,n=[],e.data&&JSON.stringify(e.data,function(t,i){return i&&i.symbol===d.CDNObjectSymbol?void n.push(new Promise(function(t,n){var o={appType:301,fileType:20303,fileKey:"file_".concat(Math.random())},s=i;switch(function(e){return Object.prototype.toString.call(e).slice(8,-1)}(s.options)){case"Object":if(!s.options.filePath)throw new Error("filePath must be provided");o.filePath=s.options.filePath;break;default:o.fileData=s.options}t((0,d.uploadToCommonCDN)(o,e.sdk).then(function(e){r.set(i,e.fileUrl)}))})):i}),[4,Promise.all(n)];case 1:return o.sent(),i=JSON.stringify(e.data,function(e,t){return t&&t.symbol===d.CDNObjectSymbol&&r.has(t)?r.get(t):t}),y="".concat(Math.random(),"_").concat(Date.now()),e.async?[3,3]:[4,t(e,i,y)];case 2:return T=o.sent(),A=T.result,b=T.requestID,[2,{errMsg:"invokeService:ok",data:A,requestId:b}];case 3:return C={service_id:e.service,api_name:e.api,data:i,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:"".concat(Math.random(),"_").concat(Date.now()),version:2,call_id:y,scene:s.Scene.CALL,retry_reason:s.RetryReason.None,req_type:s.ReqType.LongAsync},[4,(0,f.operateWXData)({apiName:"WxaServiceMarketJsapiComm",reqData:C},e.sdk)];case 4:if(!(O=o.sent()).data&&O.rawData&&(O.data=JSON.parse(O.rawData)),wxConsole.log("longAsync result",O),(I=O.data).scene===s.Scene.FinalResp&&0===I.errcode)return[2,{errMsg:"invokeService:ok",requestId:I.request_id}];throw(R=(0,u.returnAsFinalCloudSDKError)({errCode:l.ERR_CODE.SM_SYSTEM_ERROR,errMsg:"requestID ".concat(I.request_id,", error message ").concat(I.errmsg||"unknown"," (callid ").concat(y,")")},p)).requestID=I.request_id,R;case 5:return[3,7];case 6:throw w=o.sent(),N="invokeService:fail ",w&&w.errMsg&&w.err_code?(N+=w.errMsg,(D=new Error(N+"(err_code ".concat(w.err_code,")"))).errCode=w.err_code,D):w&&w.errMsg&&w.errCode?w:new Error("invokeService:fail ".concat(w));case 7:return[2]}})})},t.getAsyncResult=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,r,n;return o.__generator(this,function(i){switch(i.label){case 0:return[4,(0,f.operateWXData)({apiName:"webapi_servicemarket_jsapi_retrieve",reqData:{request_id:e.requestId}},e.sdk)];case 1:if(!(t=i.sent()).data&&t.rawData&&(t.data=JSON.parse(t.rawData)),wxConsole.log("getAsyncResult resp",t),0===(r=t.data).errcode)return r.provider_errmsg?[2,{errCode:0,errMsg:"getAsyncResult:fail provider execution error",status:r.status,providerErrMsg:r.provider_errmsg,requestId:r.request_id}]:[2,{errCode:0,errMsg:"getAsyncResult:ok",data:JSON.parse(r.data),status:r.status,requestId:r.request_id}];throw(n=new Error("getAsyncResult:fail requestID ".concat(r.request_id,", error message ").concat(r.errmsg||"unknown"))).errCode=r.errcode,n.errMsg=r.errmsg,n}})})}},"./src/servicemarket/operateWXData.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.operateWXData=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/externals/public-lib/appserviceSdk.ts");t.operateWXData=function(e,t){return new Promise(function(r,o){(t||(0,i.getSDK)()).operateWXData(n.__assign(n.__assign({},e),{success:r,fail:o}))})}},"./src/servicemarket/types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ReqType=t.RetryReason=t.Scene=void 0,function(e){e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e[e.PreResp=3]="PreResp",e[e.FinalResp=4]="FinalResp"}(t.Scene||(t.Scene={})),function(e){e[e.None=0]="None",e[e.SysErr=1]="SysErr",e[e.Timeout=2]="Timeout"}(t.RetryReason||(t.RetryReason={})),function(e){e[e.Sync=0]="Sync",e[e.LongAsync=2]="LongAsync"}(t.ReqType||(t.ReqType={}))},"./src/services/container/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIs=void 0;var n=r("./src/services/container/api/callContainer.ts"),i=r("./src/services/container/api/connectContainer.ts");t.getAPIs=function(e){return{callContainer:(0,n.default)(e),connectContainer:(0,i.default)(e)}}},"./src/services/container/api/callContainer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.API_NAME=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/hook/invoke.ts"),o=r("./src/utils/assert.ts"),s=r("./src/utils/error.ts"),a=r("./src/utils/fail-safe.ts"),u=r("./src/utils/fn/clone.ts"),c=r("./src/utils/report.ts"),l=r("./src/utils/serializer.ts"),d=r("./src/utils/cdn.ts"),f=r("./src/externals/globals/devtools.ts"),p=r("./src/externals/public-lib/appserviceSdk.ts"),_=r("./src/services/container/api/callContainer/v1.ts"),h=r("./src/services/container/api/callContainer/v2.ts"),E=r("./src/services/container/api/callContainer/direct.ts"),m=r("./src/utils/type.ts"),g=r("./src/utils/utils.ts"),v=r("./src/utils/userAgent.ts");function S(e){var t=!1;return function(r){t||(t=!0,e(r))}}t.API_NAME="cloud.callContainer";var y={OFF:0,ON:1,UNKNOWN:2},T=!0,A=6,b=new WeakMap;t.default=function(e){var r,C,O;function I(){return C||(C=(0,h.default)(e)),C}return function(e){var r=+new Date;(0,o.assertType)(e,"object");var n=(0,u.shallowClone)(e);return n.data||(n.data={}),n.dataType||(n.dataType="json"),n.context={tunnelTimeNoCSNetCost:0},n.context.apiStartTime=r,n.stats={apiStartTime:r},(0,i.hasAPICallback)(n)?function(e){(0,a.wrapParamCallbacksWithTryCatch)({apiName:t.API_NAME,param:e});var r=S(function(r){return(0,i.invokeSuccessCompleteCallbacks)(t.API_NAME,e,r)});e.context.onFinalized=r,R(e).then(r).catch(function(r){(0,i.invokeFailCompleteCallbacks)(t.API_NAME,e,r)})}(n):R(n)};function R(r){return n.__awaiter(this,void 0,void 0,function(){var i,a,_,h,E,C,O,I,R,D,L,M,P,U,x,B,k;return n.__generator(this,function(j){switch(j.label){case 0:i=!1,j.label=1;case 1:for(E in j.trys.push([1,6,,7]),function(t){var r;if(t.service,e.isInstance){if(!e.env)throw new Error("envId must be provided")}else if(null===(r=t.config)||void 0===r?void 0:r.env)(0,o.assertType)(t.config.env,"string");else if(!e.env)throw new Error("envId must be provided")}(r),r.path||(r.path=""),r.method||(r.method="GET"),r.header||(r.header={}),r.dataType||(r.dataType="json"),r.responseType||(r.responseType="text"),a="",r.header)"content-type"===E.toLowerCase()&&r.header&&(a=r.header[E]);if(a||(a="application/json",r.header["content-type"]="application/json"),r.header["User-Agent"]=(0,v.getUA)()||"",/get/i.test(r.method||"")&&r.data&&(0,m.isObject)(r.data)){for(E in h="",r.data)h+="".concat(h.length?"&":"").concat((0,g.encodeWithDecode)(E),"=").concat((0,g.encodeWithDecode)(r.data[E]));r.path.includes("?")?r.path+="".concat(r.path.endsWith("&")?"":h?"&":"").concat(h):r.path+="".concat(r.path.endsWith("?")?"":h?"?":"").concat(h),r.data=void 0}else if(/post|put|patch|delete/i.test(r.method||"")&&r.data)if(a.includes("application/json"))_=(0,m.getType)(r.data),r.shouldSerialize="string"!==_;else if(a.includes("application/x-www-form-urlencoded")&&(0,m.isObject)(r.data)){for(E in h="",r.data)h+="".concat(h.length?"&":"").concat(encodeURIComponent(E),"=").concat(encodeURIComponent(r.data[E]));r.data=h}return r.cdnMapPromise=r.shouldSerialize?d.collect(r.data):void 0,C=Date.now(),T?(T=!1,[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i;return n.__generator(this,function(n){switch(n.label){case 0:return Boolean(e.serviceEndpoint.getEndpointSync("container"))?[3,2]:(r=new Promise(function(e){return setTimeout(e,50)}),i=e.serviceEndpoint.getEndpoint("container"),[4,Promise.race([r,i])]);case 1:n.sent(),n.label=2;case 2:return[2,w(t)]}})})}(r)]):[3,3];case 2:return O=j.sent(),[3,4];case 3:O=w(r),j.label=4;case 4:return i=O,r.stats.tsBeforeCallContainerImpl=Date.now(),I=(0,u.shallowClone)(r),R=r.data,D=N(r,i),M=r.service||r.header["X-WX-SERVICE"],L=M?"wx.cloud.callContainer.".concat(M).concat(r.path):"wx.cloud.callContainer".concat(r.path),(0,f.autoDevtoolsNetworkLog)(D,function(){var t;return{url:L,method:r.method,headers:n.__assign({Env:e.isInstance?e.env:(null===(t=r.config)||void 0===t?void 0:t.env)||e.env},r.header),reqBody:(0,l.serialize)(R),timestampMs:C,console:e.debug}}),P=function(r,i){var o;return null===(o=r.followRedirect)||void 0===o||o?function r(o,s){return new Promise(function(a,c){s.then(function(s){var l;if(302===s.statusCode){var d=null!==(l=b.get(i))&&void 0!==l?l:0;if(d>=A)c("reach the max redirect count");else{b.set(i,d+1);var f="";for(var _ in s.header)"location"===_.toLowerCase()&&(f=s.header[_]);if(f)if(f.startsWith("/")){var h=(0,u.shallowClone)(o);o.path=f;var E=N(o);r(h,E).then(a).catch(c)}else{var m=(0,p.getSDK)(e.identifiers);m.request({url:f,method:o.method,header:o.header,data:o.data,dataType:o.dataType,responseType:o.responseType,timeout:o.timeout,success:function(e){a(n.__assign(n.__assign({},e),{errMsg:"".concat(t.API_NAME,":ok")}))},fail:function(e){c(e.errMsg.replace(/^request/,t.API_NAME))}})}else a(s)}}else a(s)}).catch(c)})}(r,i):i}(I,D),U=function(t,r){var n,i=(0,p.getSDK)(e.identifiers);if(!i.isUsedCache())return r;var o=function(e){var t={abort:function(){},promise:Promise.resolve()},r=new Promise(function(e,r){t.abort=r});return t.promise=Promise.race([e,r]),t}(r),s=i.reportCallContainer,a=i.privateCacheManager,u=i.cacheManager,c=Date.now(),l=t.data,d=t.method,f=(null===(n=t.config)||void 0===n?void 0:n.env)||e.env,_="https://wx.cloud.callContainer/".concat(f),h=t.service;if(!h)for(var E in t.header)"X-WX-SERVICE"===E.toUpperCase()&&(h=t.header[E]);_+=h?"/".concat(h).concat(t.path):t.path;var m=function(e,t,n){var i=a.emit("request",{url:_,data:l,method:d,request:function(){return new Promise(function(e,t){r.then(e).catch(t)})}});if(i.length){var s=i.find(function(e){return e&&"function"==typeof e.then});s&&s.then(e).catch(t).finally(function(){o.abort()})}else n&&t(n)};return new Promise(function(e,t){var n=function(t){s({isSuccess:!0,costTime:Date.now()-c,extra1:_}),e(t)},i=function(e){s({isSuccess:!1,costTime:Date.now()-c,extra1:_}),t(e)},o=function(e){a.checkNeedStore(_,l,d,e),n(e)};u.state===y.UNKNOWN?r.then(function(e){o(e)}).catch(function(e){m(n,i,e)}):u.state===y.ON?m(n,i):u.state===y.OFF&&r.then(function(e){o(e)}).catch(function(e){i(e)})})}(r,P),x=S(function(){return function(e,r){e.stats.apiEndTime=Date.now(),(0,c.reportAPISpeed)(n.__assign(n.__assign({},e.context),{apiEndTime:e.stats.apiEndTime,apiName:t.API_NAME}));var i=Boolean(e.stats.profile),o=e.stats.profile||{},s=e.stats.serverEndTs-e.stats.serverStartTs,a=e.stats.httpRequest?e.stats.httpRequest<=6e4?e.stats.httpRequest:6e4:void 0,u=e.stats.apiEndTime,l=u-e.context.apiStartTime;if(l>9e4&&(l=9e4),!(r&&l<=0||a<=0)){var d=e.path||"";d=d.split("?")[0].replace(/\/\d+\//g,"/*/").replace(/\/\d+$/g,"/*"),(0,c.reportMMData)(22601,9,[e.stats.callid,e.context.apiStartTime,u,e.stats.serverStartTs,e.stats.serverEndTs,e.stats.requestBodyBytes,e.stats.responseBodyBytes,e.stats.getServiceEndpoint,e.stats.queryDNS,e.stats.compress,e.stats.loadAsmcrypto,e.stats.encrypt,a,e.stats.decrypt,e.stats.uncompress,e.stats.decodePb,e.stats.decodeBody,e.stats.ip,o.redirectStart,i?o.redirectEnd-o.redirectStart:void 0,o.fetchStart,o.domainLookupStart||o.domainLookUpStart,i?(o.domainLookupEnd||o.domainLookUpEnd)-(o.domainLookupStart||o.domainLookUpStart):void 0,o.connectStart,i?o.connectEnd-o.connectStart:void 0,o.SSLconnectionStart,i?o.SSLconnectionEnd-o.SSLconnectionStart:void 0,o.requestStart,i?o.requestEnd-o.requestStart:void 0,o.responseStart,i?o.responseEnd-o.responseStart:void 0,o.rtt,o.estimate_nettype,o.httpRttEstimate,o.transportRttEstimate,o.downstreamThroughputKbpsEstimate,o.throughputKbps,o.peerIP,o.port,i?o.socketReused?1:0:void 0,o.sendBytesCount,o.receivedBytedCount,r||1e3===e.mode?o.protocol:"im",(0,g.getSystemInfo)().system,l,s>0?s:0,a?l-a:void 0,d,(0,g.getSystemInfo)().platform,e.stats.requestStartTs,1670494204239,e.stats.ecdnId,e.stats.ecdnEdgeTiming,e.stats.domain,e.stats.stringToBuffer,e.stats.encodePb,e.stats.tsBeforeCallContainerImpl,e.stats.tsCallContainerImplStart,e.stats.decodeJson,"WACloud.js",i?o.requestStart-e.stats.requestStartTs:void 0,i?e.stats.requestSuccessTs-o.requestEnd:void 0,u-e.stats.responseProcessEndTs].join(","))}}(r,i)}),r.context.onRequestDone=x,[4,U];case 5:return B=j.sent(),x(B),[2,B];case 6:throw k=j.sent(),(0,s.returnAsFinalCloudSDKError)(k,t.API_NAME);case 7:return[2]}})})}function w(t){return"windows"!==(0,g.getSystemInfo)().platform&&(1===t.apiVersion||2!==t.apiVersion&&Boolean(e.serviceEndpoint.getEndpointSync("container")))}function N(t,i){var o;if(i=null!==i&&void 0!==i?i:w(t),1e3===t.mode)o=(O||(O=(0,E.default)(e)),O)(t);else if(i){var s=n.__assign(n.__assign({},t),{stats:n.__assign({},t.stats)});o=(r||(r=(0,_.default)(e)),r)(t).catch(function(e){if(-9999===(null===e||void 0===e?void 0:e.errCode))return I()(s);throw e})}else o=I()(t);return o}}},"./src/services/container/api/callContainer/asmCrypto.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AES_CBC=void 0;var n=r("./src/vendor/asmcrypto.aes_cbc.js");Object.defineProperty(t,"AES_CBC",{enumerable:!0,get:function(){return n.AES_CBC}})},"./src/services/container/api/callContainer/direct.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.API_NAME=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/externals/public-lib/appserviceSdk.ts");t.API_NAME="cloud.callContainer",t.default=function(e){return function(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(r){return[2,function(t){return new Promise(function(r,o){var s,a=(0,i.getSDK)(e.identifiers),u="".concat(Math.random().toPrecision(11),"_").concat(Date.now(),"_1000"),c=n.__assign(n.__assign({},t.header),{"X-WX-ENV":e.isInstance?e.env:(null===(s=t.config)||void 0===s?void 0:s.env)||e.env,"X-WX-CALL-ID":u}),l=function(e){void 0!==c[e]&&(c["X-WX-".concat(e)]=c[e],delete c[e])};l("host"),l("HOST"),l("User-Agent"),e.appid&&(c["X-WX-RESOURCE-APPID"]=e.appid),t.service&&(c["X-WX-SERVICE"]=t.service);var d=t.stats;d.callid=u;var f=Date.now(),p="https://t.wxcloudrun.com".concat(t.path);t.verbose&&console.log("[cloud.callContainer] url ".concat(p)),d.requestStartTs=Date.now(),a.request({url:p,method:t.method,header:c,data:t.data,dataType:t.dataType,responseType:t.responseType,timeout:t.timeout,enableHttp2:!0,enableQuic:!0,success:function(e){d.httpRequest=Date.now()-f,d.profile=e.profile;var t=n.__assign(n.__assign({callID:u},e),{errMsg:"cloud.callContainer:ok",stats:d});r(t)},fail:function(e){o(e)}})})}(t)]})})}}},"./src/services/container/api/callContainer/v1.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.API_NAME=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/serializer.ts"),o=r("./src/externals/public-lib/appserviceSdk.ts"),s=r("./src/proto/http.js"),a=r("./src/utils/utils.ts"),u=r("./src/utils/type.ts"),c=r("./src/utils/service-endpoint.ts");new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);t.API_NAME="cloud.callContainer",t.default=function(e){return function(l){return n.__awaiter(this,void 0,void 0,function(){var d,f,p,_;return n.__generator(this,function(h){switch(h.label){case 0:return d=e.serviceEndpoint.getEndpointSync("container"),f=new WeakMap,!l.cdnMapPromise&&d?[3,2]:[4,Promise.all([l.cdnMapPromise,function(e,t,r){var n=Date.now();return e.then(function(){return t[r]=Date.now()-n}).catch(function(){return t[r]=Date.now()-n}),e}(e.serviceEndpoint.getEndpoint("container"),l.stats,"getServiceEndpoint")])];case 1:return(p=h.sent())[0]&&(f=p[0]),d=p[1],[3,3];case 2:l.stats.getServiceEndpoint=0,h.label=3;case 3:return l.shouldSerialize&&(l.data=(0,i.serialize)(l.data,f)),d.http?((_=function(i,l){return new Promise(function(d,f){var p,_;l.stats.tsCallContainerImplStart=Date.now();var h=(0,o.getSDK)(e.identifiers),E={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":i.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-USER-TIMEOUT":l.timeout||"","X-WX-LIB-BUILD-TS":1670494204239,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"PB, JSON","Content-Type":"application/octet-stream"},m="".concat(Math.random(),"_").concat(Date.now()),g=n.__assign(n.__assign({},l.header),{"X-WX-ENV":e.isInstance?e.env:(null===(p=l.config)||void 0===p?void 0:p.env)||e.env,"X-WX-CALL-ID":m});e.appid&&(g["X-WX-RESOURCE-APPID"]=e.appid),l.service&&(g["X-WX-SERVICE"]=l.service);var v=l.stats;v.callid=m;var S,y=Date.now(),T=!1;if(l.data||(S=void 0),"GET"===(null===(_=l.method)||void 0===_?void 0:_.toUpperCase())&&l.data&&(0,u.isObject)(l.data)){var A=[];for(var b in l.data)A.push("".concat(b,"=").concat(l.data[b]));l.path+="".concat(l.path.includes("?")?l.path.endsWith("&")?"":"&":"?").concat(A.join("&")),l.data=void 0}else{var C=(0,u.getType)(l.data);"object"===C?S=JSON.stringify(l.data):"arraybuffer"!==C?S=l.data+"":(S=l.data,T=!0)}g["X-WX-CONTAINER-PATH"]=l.path;var O,I=[];for(var R in g)void 0!==g[R]&&null!==g[R]&&I.push({key:R.toLowerCase(),value:g[R]+""});y=Date.now(),T?(O=s.HTTPRequest.encode({method:l.method||"GET",header:I,body:new Uint8Array(S),callId:m}).finish(),v.encodePb=Date.now()-y,E["X-WX-REQUEST-CONTENT-ENCODING"]="PB"):(O=new Uint8Array(a.stringToArrayBuffer(JSON.stringify({method:l.method||"GET",header:I,body:S,call_id:m}))),v.stringToBuffer=Date.now()-y,E["X-WX-REQUEST-CONTENT-ENCODING"]="JSON"),y=Date.now();var w=r("./src/vendor/snappy.js"),N=w.compress(O);v.compress=Date.now()-y,y=Date.now();var D=r("./src/services/container/api/callContainer/asmCrypto.ts");v.loadAsmcrypto=Date.now()-y,y=Date.now();var L=new Uint8Array(a.base64ToArrayBuffer(i.key)),M=D.AES_CBC.encrypt(N,L,void 0,L);v.encrypt=Date.now()-y,y=Date.now();var P=i.url;l.rdm?P="https://wxardm.weixin.qq.com/wxa-qbase/container_service?token=".concat(i.token):l.ecdn&&(P="https://cloudbase.servicewechat.com/wxa-qbase/container_service?token=".concat(i.token)),l.verbose&&console.log("[cloud.callContainer] url ".concat(P)),i.domain&&(l.stats.domain=i.domain),v.requestBodyBytes=M.byteLength,v.requestStartTs=Date.now(),l._fallback?f({errCode:-9999,errMsg:"".concat(t.API_NAME,":fail emulated fallback")}):h.request({url:P,method:"POST",header:E,data:M.buffer,dataType:"arraybuffer",responseType:"arraybuffer",timeout:l.timeout,enableHttp2:!0,success:function(e){var r,n,i,o;v.requestSuccessTs=Date.now();try{for(var u in e.header)if("x-nws-log-uuid"===u.toLowerCase()&&(l.verbose&&console.log("[cloud.callContainer] x-nws-log-uuid ".concat(e.header[u])),l.stats.ecdnId=e.header[u]),"x-edge-timing"===u.toLowerCase()&&(l.stats.ecdnEdgeTiming=e.header[u]),"x-wx-system-error"===u.toLowerCase()){var p=Number(e.header[u]);return 85104===p&&c.ServiceEndpoint.invalidateService("container"),void f({errCode:p,errMsg:"".concat(t.API_NAME,":fail system error. code: ").concat(p)})}if(l.verbose&&console.warn("res",e),v.profile=e.profile,v.httpRequest=Date.now()-y,200===e.statusCode){var _=e.data;v.responseBodyBytes=_.byteLength,y=Date.now();var h=D.AES_CBC.decrypt(new Uint8Array(_),L,void 0,L);v.decrypt=Date.now()-y,l.verbose&&console.warn("decrypt done");var E="pb";for(var g in e.header)if("x-wx-compression"===g.toLowerCase()&&"snappy"===e.header[g]&&(y=Date.now(),h=w.uncompress(h),v.uncompress=Date.now()-y),"x-wx-response-content-encoding"===g.toLowerCase()&&"json"===e.header[g].toLowerCase()&&(E="json"),"x-wx-server-timing"===g.toLowerCase()){var S=e.header[g]||"",T=S.split(",");T.length>=2&&(v.serverStartTs=Number(T[0]),v.serverEndTs=Number(T[1]))}y=Date.now();var A=void 0;if("json"===E){var b=JSON.parse(a.arrayBufferToString(h));A={statusCode:b.status_code,header:b.header,bodyBuffer:b.body_buffer,bodyString:b.body_string},v.decodeJson=Date.now()-y}else A=s.HTTPResponse.decode(h),v.decodePb=Date.now()-y;y=Date.now();var C=void 0;if(302!==A.statusCode)if("json"===l.dataType){var O=A.bodyString||(A.bodyBuffer?a.arrayBufferToString(A.bodyBuffer):"{}");try{C=JSON.parse(O)}catch(e){return void f({errCode:-1,errMsg:"".concat(t.API_NAME,":fail [call_id ").concat(m,"] parse response body as JSON failed: ").concat(e,". input: ").concat(O)})}}else C="text"===l.responseType?A.bodyString||(A.bodyBuffer?a.arrayBufferToString(A.bodyBuffer):""):"arraybuffer"===l.responseType&&A.bodyString?a.stringToArrayBuffer(A.bodyString):A.bodyString||A.bodyBuffer;v.decodeBody=Date.now()-y;var I={statusCode:A.statusCode,header:A.header.reduce(function(e,t){var r=e[t.key+""];return e[t.key+""]=r?r+","+t.value:t.value+"",e},{}),data:C,stats:v,callID:m,errMsg:"".concat(t.API_NAME,":ok")};v.responseProcessEndTs=Date.now(),null===(n=(r=l.context).onRequestDone)||void 0===n||n.call(r,I),302!==A.statusCode&&(null===(o=(i=l.context).onFinalized)||void 0===o||o.call(i,I)),d(I)}else f({errCode:-9999,errMsg:"".concat(t.API_NAME,":fail [call_id ").concat(m,"] system conn status not 200")})}catch(e){f({errCode:-1,errMsg:"".concat(t.API_NAME,":fail [call_id ").concat(m,"] error while processing internal response ").concat(e)})}},fail:function(e){f(n.__assign(n.__assign({},e),{errCode:-9999,errMsg:e.errMsg.replace(/^request/,t.API_NAME)}))}})})}(d,l)).then(c.keepAlive).catch(c.keepAlive),[2,_]):[2,function(r,i){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(s){return[2,new Promise(function(s,a){var u,c=(0,o.getSDK)(e.identifiers),l=n.__assign(n.__assign({},i.header),{"X-WX-ENV":e.isInstance?e.env:(null===(u=i.config)||void 0===u?void 0:u.env)||e.env,"X-WX-SERVICE":i.service,"X-WX-CONTAINER-PATH":i.path,"X-WX-CALL-ID":"".concat(Math.random(),"_").concat(Date.now()),"X-WX-USER-TIMEOUT":i.timeout});e.appid&&(l["X-WX-RESOURCE-APPID"]=e.appid),c.request({url:r,method:i.method,header:l,data:i.data,dataType:i.dataType,responseType:i.responseType,timeout:i.timeout,success:function(e){s(n.__assign(n.__assign({},e),{errMsg:"".concat(t.API_NAME,":ok")}))},fail:function(e){a(n.__assign(n.__assign({},e),{errMsg:e.errMsg.replace(/^request/,t.API_NAME)}))}})})]})})}(d.url,l)]}})})}}},"./src/services/container/api/callContainer/v2.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.API_NAME=t.ResultStatus=t.DataType=t.RetryType=t.Action=void 0;var n,i,o,s=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),a=r("./src/utils/error.ts"),u=r("./src/utils/serializer.ts"),c=r("./src/externals/globals/wxconfig.ts"),l=r("./src/externals/public-lib/appserviceSdk.ts"),d=r("./src/utils/type.ts"),f=(r("./src/utils/cdn.ts"),r("./src/utils/utils.ts")),p=r("./src/utils/msg.ts"),_=r("./src/utils/utils.ts"),h=r("./src/config/error.config.ts");!function(e){e[e.CALL=1]="CALL",e[e.POLL=2]="POLL"}(n=t.Action||(t.Action={})),function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Timeout=2]="Timeout"}(i=t.RetryType||(t.RetryType={})),function(e){e[e.RAW=0]="RAW",e[e.BASE64=1]="BASE64",e[e.CDN_URL=2]="CDN_URL"}(o=t.DataType||(t.DataType={})),function(e){e[e.PENDING=0]="PENDING",e[e.DONE=1]="DONE",e[e.TIMEOUT=2]="TIMEOUT"}(t.ResultStatus||(t.ResultStatus={}));var E=function(e){var t=new Date;return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()," ").concat(e)},m=function(e){return e.join("->")},g=20,v=2,S=2,y=2e4,T=1e5;t.API_NAME="cloud.callContainer",t.default=function(e){return function(r){var A,b;return s.__awaiter(this,void 0,void 0,function(){function C(t,r,o,a){return s.__awaiter(this,void 0,void 0,function(){var u,c,l;return s.__generator(this,function(s){return u=!1,t.hasOwnProperty("timeout")&&(c=new Promise(function(e,r){setTimeout(function(){u=!0,r("timeout (options.timeout == ".concat(t.timeout,")"))},t.timeout)})),l=new Promise(function(s,l){var d=[E("start")],p=function(e,t,r){var n=function(t){e.push(E("app ".concat(t)))};return(0,f.onAppVisibilityChange)(n),{resolve:function(e){(0,f.offAppVisibilityChange)(n),t(e)},reject:function(e){(0,f.offAppVisibilityChange)(n),r(e)}}}(d,s,l),_=p.resolve,h=p.reject;O({param:t,data:r,dataType:o,callID:a,action:n.CALL,retryType:i.None,tryCount:e.appConfig.maxPollRetry||g,systemErrorRetry:v,timeoutErrorRetry:S,userTimeout:{get reached(){return!!c&&u}},trace:d,resolve:_,reject:h})}),[2,c?Promise.race([l,c]):l]})})}function O(d){return s.__awaiter(this,void 0,void 0,function(){function p(u){return s.__awaiter(this,void 0,void 0,function(){var c,p,_,g,S,y;return s.__generator(this,function(T){switch(T.label){case 0:return T.trys.push([0,13,,14]),U||R.reached?[2]:(B(),G(u),(c=u.data)?c.baseresponse&&0===c.baseresponse.errcode?0!==c.status?[3,1]:A>=0?(b.push(E("normal poll")),O(s.__assign(s.__assign({},d),{action:n.POLL,retryType:i.None,tryCount:A-1})),[3,10]):(b.push(E("too many polls, abort")),[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_EXCEED_MAX_POLL_RETRY,errMsg:"(callId: ".concat(v,") (trace: ").concat(m(b),")")},t.API_NAME))]):[3,11]:(b.push(E("empty resp")),[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_EMPTY_CALL_RESULT},t.API_NAME))]));case 1:return 1!==c.status?[3,9]:(p=void 0,c.data_type!==o.BASE64?[3,2]:(p=(0,f.base64ToArrayBuffer)(c.data),"json"===r.dataType?p=(0,f.tryJSONParse)((0,f.arrayBufferToString)(p)):"arraybuffer"!==r.responseType&&(p=(0,f.arrayBufferToString)(p)),[3,8]));case 2:if(c.data_type!==o.CDN_URL)return[3,7];T.label=3;case 3:return T.trys.push([3,5,,6]),_=(0,l.getSDK)(e.identifiers),[4,new Promise(function(e,t){_.request({url:c.data,dataType:r.dataType,responseType:r.responseType,success:function(r){200!==r.statusCode?t("download response status code ".concat(r.statusCode)):e(r)},fail:function(e){t(e)}})})];case 4:return g=T.sent(),p=g.data,[3,6];case 5:return S=T.sent(),[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL,errMsg:"error: ".concat(S," \n (callId: ").concat(v,") (trace: ").concat(m(b),")")},t.API_NAME))];case 6:return[3,8];case 7:p=c.data,"arraybuffer"===r.responseType?p=(0,f.stringToArrayBuffer)(p):"json"===r.dataType&&(p=(0,f.tryJSONParse)(p)),T.label=8;case 8:return[2,w({result:{data:p,statusCode:c.http_code,header:c.headers.reduce(function(e,t){var r=e[t.k+""];return e[t.k+""]=r?r+","+t.v:t.v+"",e},{})}})];case 9:return b.push(E("poll result expired")),[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching, result cannot be fetched anymore (callId: ".concat(v,") (trace: ").concat(m(b),")")},t.API_NAME))];case 10:return[3,12];case 11:return c.baseresponse?0!==c.baseresponse.errcode?[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:"polling base_resp.errcode ".concat(c.baseresponse.errcode," errmsg ").concat(c.baseresponse.errmsg," (callId: ").concat(v,")")},t.API_NAME))]:[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP,errMsg:"polling base_resp ".concat(JSON.stringify(c.baseresponse)," (callId: ").concat(v,")")},t.API_NAME))]:[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP},t.API_NAME))];case 12:return[3,14];case 13:return y=T.sent(),N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_POLL_ERROR,errMsg:"polling catch error: ".concat(y," (callId: ").concat(v,")")},t.API_NAME)),[3,14];case 14:return[2]}})})}var _,g,v,S,T,A,b,C,I,R,w,N,D,L,M,P,U,x,B,k,j,G,q=this;return s.__generator(this,function(o){for(L in _=d.data,g=d.dataType,v=d.callID,S=d.action,T=d.retryType,A=d.tryCount,b=d.trace,C=d.systemErrorRetry,I=d.timeoutErrorRetry,R=d.userTimeout,w=d.resolve,N=d.reject,D=[],r.header)D.push({k:L,v:r.header[L]});return M=S===n.CALL?{method:r.method||"GET",headers:D,data:S===n.CALL?_:void 0,data_type:g,action:S,retryType:T,call_id:v,user_timeout:r.timeout}:{call_id:v,action:S,retryType:T},P=(0,u.serialize)(M),U=!1,x=!1,B=function(){clearTimeout(j),x=!0},k=+new Date,j=setTimeout(function(){return s.__awaiter(q,void 0,void 0,function(){var r;return s.__generator(this,function(n){switch(n.label){case 0:return r=e.appConfig.clientPollTimeout||y,+new Date-k>r?[4,(0,f.sleep)()]:[3,2];case 1:if(n.sent(),x)return[2];n.label=2;case 2:return R.reached?[2]:!(0,c.isDevTools)()&&+new Date-k>e.appConfig.maxStartRetryGap?(b.push(E("timeout, exceed max retry gap")),[2,N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:"timeout for retry, cannot retry fetching the result anymore (callId: ".concat(v,") (trace: ").concat(m(b),")")},t.API_NAME))]):(U=!0,d.timeoutErrorRetry>0?(b.push(E("timeout, retry")),O(s.__assign(s.__assign({},d),{retryType:i.Timeout,tryCount:A-1,timeoutErrorRetry:I-1}))):(b.push(E("timeout, abort")),N((0,a.toSDKError)({errCode:h.ERR_CODE.SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:"(callId: ".concat(v,") (trace: ").concat(m(b),")")},t.API_NAME))),[2])}})})},e.appConfig.clientPollTimeout||y),G=function(e){var t=e.data;t&&t.baseresponse&&t.baseresponse.stat&&t.baseresponse.stat.qbase_cost_time&&(r.context.tunnelTimeNoCSNetCost+=t.baseresponse.stat.qbase_cost_time)},R.reached?[2]:(e.request(s.__assign(s.__assign({},r.config),{apiName:"tcbapi_call_container",serviceName:e.name,serializedReqData:P,env:r.config&&r.config.env||e.env})).then(p).catch(function(e){U||R.reached||(B(),e&&e.operateWXDataFail&&C>0?(b.push(E("system error (".concat(e,"), retry"))),O(s.__assign(s.__assign({},d),{retryType:i.Error,tryCount:A-1,systemErrorRetry:C-1}))):(b.push(E("system error (".concat(e,"), abort"))),N((0,a.toSDKError)("".concat(e," (callId: ").concat(v,") (trace: ").concat(m(b),")"),t.API_NAME))))}),[2])})})}var I,R,w,N,D,L,M,P,U,x,B;return s.__generator(this,function(n){switch(n.label){case 0:return r.shouldSerialize?[4,r.cdnMapPromise]:[3,2];case 1:I=n.sent(),r.data=(0,u.serialize)(r.data,I),n.label=2;case 2:return R=o.RAW,w=(null===(A=r.method)||void 0===A?void 0:A.toUpperCase())||"GET",r.data&&/^(POST|PUT|PATCH|DELETE)$/.test(w)?"object"!==(N=(0,d.getType)(r.data))?[3,3]:(r.data=JSON.stringify(r.data),[3,7]):[3,8];case 3:if("arraybuffer"!==N&&"string"!==N)return[3,6];if(D=!1,"string"===N?D=r.data.length>T:r.data.byteLength>T?D=!0:(L=(0,_.arrayBufferToBase64)(r.data)).length>T?D=!0:(r.data=L,R=o.BASE64),!D)return[3,5];throw new Error("input data size too large (> 100KB)");case 4:M=n.sent(),r.data=M.fileUrl,R=o.CDN_URL,n.label=5;case 5:return[3,7];case 6:throw new Error("input data type is not supported: ".concat(N));case 7:return[3,9];case 8:if("GET"===w&&r.data&&(0,d.isObject)(r.data)){for(x in P=[],r.data)P.push("".concat(x,"=").concat(r.data[x]));r.path+="".concat(r.path.includes("?")?r.path.endsWith("&")?"":"&":"?").concat(P.join("&")),r.data=void 0}else r.data=void 0;n.label=9;case 9:for(x in U="".concat(+new Date,"-").concat(Math.random()),r.header=s.__assign(s.__assign({},r.header),{"X-WX-ENV":e.isInstance?e.env:(null===(b=r.config)||void 0===b?void 0:b.env)||e.env,"X-WX-CONTAINER-PATH":r.path}),r.service&&(r.header["X-WX-SERVICE"]=r.service),r.header)null!==r.header[x]&&void 0!==r.header[x]&&(r.header[x]+="");return r.context.tunnelStartTime=+new Date,[4,C(r,r.data,R,U)];case 10:return B=n.sent().result,r.context.tunnelEndTime=+new Date,[2,s.__assign(s.__assign({},B),{errMsg:(0,p.apiSuccessMsg)(t.API_NAME),callID:U})]}})})}}},"./src/services/container/api/connectContainer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/externals/public-lib/appserviceSdk.ts"),o=r("./src/utils/assert.ts"),s=r("./src/hook/invoke.ts"),a=r("./src/utils/msg.ts"),u=r("./src/utils/fn/clone.ts"),c=r("./src/utils/report.ts"),l="cloud.connectContainer";t.default=function(e){return function(e){var r=(0,u.shallowClone)(e);return r.timing={apiStartTime:+new Date},(0,s.hasAPICallback)(r)?function(e){t(e).then(function(t){(0,s.invokeSuccessCompleteCallbacks)(l,e,t)}).catch(function(t){(0,s.invokeFailCompleteCallbacks)(l,e,t)})}(r):t(r)};function t(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),function(e){e.config&&e.config.env&&(0,o.assertType)(e.config.env,"string")}(t),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,o,s,u,c,d;return n.__generator(this,function(f){switch(f.label){case 0:return r={service_name:t.service},o=JSON.stringify(r),t.timing.tunnelStartTime=+new Date,[4,e.request({apiName:"tcbapi_get_websocket_info",serviceName:e.name,serializedReqData:o,env:t.config&&t.config.env||e.env})];case 1:return s=f.sent(),t.timing.tunnelEndTime=+new Date,u=s.data,t.success,t.complete,c=n.__rest(t,["success","complete"]),d=(0,i.getSDK)(e.identifiers).connectSocket(n.__assign(n.__assign({},c),{url:"wss://".concat(u.host).concat(t.path||""),header:n.__assign(n.__assign({},c.header),{"content-type":"application/json","x-wx-token":u.token}),perMessageDeflate:!0})),[2,{errMsg:(0,a.apiSuccessMsg)(l),socketTask:d}]}})})}(t)];case 1:return[2,r.sent()];case 2:throw r.sent();case 3:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},t.timing),{apiEndTime:+new Date,apiName:l})),[7];case 4:return[2]}})})}}},"./src/services/container/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerService=t.CONTAINER_SERVICE_NAME=void 0;var n=r("./src/services/container/api/api.ts");t.CONTAINER_SERVICE_NAME="container",t.registerService=function(e){e.registerService(function(e){var r={name:t.CONTAINER_SERVICE_NAME,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,serviceEndpoint:e.serviceEndpoint,get debug(){return e.debug},get appid(){return e.isInstance?e.instanceOptions.resourceAppid:void 0},get env(){return e.getEnvForService(t.CONTAINER_SERVICE_NAME)},appConfig:{get maxPollRetry(){return e.appConfig.call_container_poll_max_retry},get clientPollTimeout(){return e.appConfig.call_container_client_poll_timeout},get maxStartRetryGap(){return e.appConfig.call_container_valid_start_retry_gap}}};return{name:t.CONTAINER_SERVICE_NAME,context:r,getAPIs:n.getAPIs.bind(null,r)}}(e))}},"./src/services/database/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIs=void 0;var n=r("./src/services/database/api/database.ts");t.getAPIs=function(e){return{database:n.default.bind(null,e)}}},"./src/services/database/api/database.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getDatabase=void 0;var n=r("./src/services/database/api/database/command.ts"),i=r("./src/services/database/api/database/collection.ts"),o=r("./src/services/database/api/database/geo.ts"),s=r("./src/services/database/api/database/date.ts"),a=r("./src/services/database/api/database/regexp.ts"),u=r("./src/services/database/internal/grammar/engine.ts"),c=r("./src/utils/assert.ts");function l(e,t){return new(f(e.identifiers||{}))({context:e,config:t})}function d(e){return e.debug}t.getDatabase=l,t.default=l;var f=function(e){var t,r;return function(){function l(l){var f=l.config,p=l.context;this.identifiers=e,this.config=f||{},t={database:this,serviceContext:p,engine:(0,u.getEngine)()},r=(0,i.getCollectionReferenceClass)(t),f&&f.env&&(0,c.assertType)(f.env,"string"),this.command=n.commands,this.Geo=o,this.serverDate=s.serverDate,this.RegExp=a.regExp,f&&f.hasOwnProperty("debug")&&Object.defineProperties(this,{debug:{value:!0},QuerySerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return d(e.database)?e.engine.QuerySerializer:void 0}(t)},set:function(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return d(e.database)?e.engine.UpdateSerializer:void 0}(t)},set:function(){}},ProjectionSerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return d(e.database)?e.engine.ProjectionSerializer:void 0}(t)},set:function(){}},AggregateSerializer:{enumerable:!1,configurable:!1,get:function(){return function(e){return d(e.database)?e.engine.AggregateSerializer:void 0}(t)},set:function(){}},Decoder:{enumerable:!1,configurable:!1,get:function(){return function(e){return d(e.database)?e.engine.Decoder:void 0}(t)},set:function(){}}})}return l.prototype.collection=function(e){return new r(e)},l.prototype.toJSON=function(){},l}()}},"./src/services/database/api/database/aggregate.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isPipelineStage=t.isPipeline=t.isAggregate=t.Pipeline=t.getAggregateClass=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/services/database/api/database/helper/symbol.ts"),o=r("./src/hook/invoke.ts"),s=r("./src/utils/msg.ts"),a=r("./src/utils/error.ts"),u=r("./src/utils/report.ts"),c=r("./src/services/database/internal/backend-api/backend-api.ts"),l=r("./src/externals/globals/wxconfig.ts");t.getAggregateClass=function(e){return function(t){function r(e,r){var n=t.call(this,r)||this;return n._internalType=i.SYMBOL_AGGREGATE,n.collection=e,n}return n.__extends(r,t),r.prototype.pushStage=function(e,t){return new r(this.collection,n.__spreadArray(n.__spreadArray([],n.__read(this._stages),!1),[new d(e,t)],!1))},r.prototype.end=function(t){var r=this;void 0===t&&(t={});var i="collection.aggregate",d={apiStartTime:+new Date},f=(0,o.hasAPICallback)(t),p=new Promise(function(o,f){return n.__awaiter(r,void 0,void 0,function(){var p,_;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,3,4]),[4,(0,c.runAggregate)({env:e.database.config.env,collectionName:r.collection.collectionName,stages:e.engine.AggregateSerializer.encodeStages(r._stages),instanceContext:e,timing:d,explain:t.explain})];case 1:return p=h.sent(),t.explain&&(0,l.isDevTools)()?[2,o(p)]:(o({list:p.list,errMsg:(0,s.apiSuccessMsg)(i)}),[3,4]);case 2:return _=h.sent(),f((0,a.returnAsFinalCloudSDKError)(_,i)),[3,4];case 3:return(0,u.reportAPISpeed)(n.__assign(n.__assign({},d),{apiEndTime:+new Date,apiName:"cloud.db.".concat(i)})),[7];case 4:return[2]}})})});if(!f)return p;p.then(function(e){(0,o.invokeSuccessCompleteCallbacks)(i,t,e)}).catch(function(e){(0,o.invokeFailCompleteCallbacks)(i,t,e)})},r}(f)};var d=function(){return function(e,t){this._internalType=i.SYMBOL_AGGREGATE_PIPELINE_STAGE,this.stage=e,this.val=t}}(),f=function(){function e(e){this._internalType=i.SYMBOL_AGGREGATE_PIPELINE,this._stages=e}return e.prototype.pushStage=function(t,r){return new e(n.__spreadArray(n.__spreadArray([],n.__read(this._stages),!1),[new d(t,r)],!1))},e.prototype.addFields=function(e){return this.pushStage("addFields",e)},e.prototype.bucket=function(e){return this.pushStage("bucket",e)},e.prototype.bucketAuto=function(e){return this.pushStage("bucketAuto",e)},e.prototype.collStats=function(e){return this.pushStage("collStats",e)},e.prototype.count=function(e){return this.pushStage("count",e)},e.prototype.facet=function(e){return this.pushStage("facet",e)},e.prototype.geoNear=function(e){return this.pushStage("geoNear",e)},e.prototype.graphLookup=function(e){return this.pushStage("graphLookup",e)},e.prototype.group=function(e){return this.pushStage("group",e)},e.prototype.indexStats=function(){return this.pushStage("indexStats",{})},e.prototype.limit=function(e){return this.pushStage("limit",e)},e.prototype.lookup=function(e){return this.pushStage("lookup",e)},e.prototype.match=function(e){return this.pushStage("match",e)},e.prototype.out=function(e){return this.pushStage("out",e)},e.prototype.project=function(e){return this.pushStage("project",e)},e.prototype.redact=function(e){return this.pushStage("redact",e)},e.prototype.replaceRoot=function(e){return this.pushStage("replaceRoot",e)},e.prototype.sample=function(e){return this.pushStage("sample",e)},e.prototype.skip=function(e){return this.pushStage("skip",e)},e.prototype.sort=function(e){return this.pushStage("sort",e)},e.prototype.sortByCount=function(e){return this.pushStage("sortByCount",e)},e.prototype.unwind=function(e){return this.pushStage("unwind",e)},e.prototype.end=function(){},e}(),p=function(e){function t(t,r){void 0===r&&(r=!1);var n=e.call(this,t)||this;return n._sealed=r,n}return n.__extends(t,e),t.prototype.pushStage=function(e,r){if(this._sealed)throw new Error("pushing new stage is not allowed after calling 'done()'");return new t(n.__spreadArray(n.__spreadArray([],n.__read(this._stages),!1),[new d(e,r)],!1))},t.prototype.done=function(){return new t(this._stages,!0)},t}(f);t.Pipeline=p;t.isAggregate=function(e){return e&&e._internalType===i.SYMBOL_AGGREGATE};t.isPipeline=function(e){return e&&e._internalType===i.SYMBOL_AGGREGATE_PIPELINE};t.isPipelineStage=function(e){return e&&e._internalType===i.SYMBOL_AGGREGATE_PIPELINE_STAGE}},"./src/services/database/api/database/collection.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getCollectionReferenceClass=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/services/database/api/database/query.ts"),o=r("./src/services/database/api/database/document.ts"),s=r("./src/services/database/api/database/aggregate.ts"),a=r("./src/hook/invoke.ts"),u=r("./src/services/database/internal/backend-api/backend-api.ts"),c=r("./src/utils/msg.ts"),l=r("./src/utils/error.ts"),d=r("./src/utils/assert.ts"),f=r("./src/utils/report.ts");t.getCollectionReferenceClass=function(e){var t=(0,i.getQueryClass)(e),r=(0,o.getDocumentReferenceClass)(e),p=(0,s.getAggregateClass)(e);return function(t){function i(e){var r=t.call(this,e)||this;return r.collectionName=e,r}return n.__extends(i,t),i.prototype.doc=function(e){if(null===e||void 0===e)throw(0,l.returnAsFinalCloudSDKError)({errCode:-1,errMsg:"docId must not be empty"},"collection.doc");return new r(this,e)},i.prototype.add=function(t){var r=this,i="collection.add",o={apiStartTime:+new Date},s=(0,a.hasAPICallback)(t),p=new Promise(function(s,a){return n.__awaiter(r,void 0,void 0,function(){var p,_;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,3,4]),(0,d.assertType)(t,{data:"object"}),[4,(0,u.addDocument)({env:e.database.config.env,collectionName:r.collectionName,data:e.engine.encodeInternalDataType(t.data),instanceContext:e,timing:o})];case 1:return p=h.sent(),s({_id:p._id,errMsg:(0,c.apiSuccessMsg)(i)}),[3,4];case 2:return _=h.sent(),a((0,l.returnAsFinalCloudSDKError)(_,i)),[3,4];case 3:return(0,f.reportAPISpeed)(n.__assign(n.__assign({},o),{apiEndTime:+new Date,apiName:"cloud.db.".concat(i)})),[7];case 4:return[2]}})})});if(!s)return p;p.then(function(e){(0,a.invokeSuccessCompleteCallbacks)(i,t,e)}).catch(function(e){(0,a.invokeFailCompleteCallbacks)(i,t,e)})},i.prototype.aggregate=function(){return new p(this,[])},i}(t)}},"./src/services/database/api/database/command.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.commands=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/services/database/api/database/commands/query.ts"),o=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/commands/update.ts"),a=r("./src/services/database/api/database/commands/aggregate.ts"),u=r("./src/services/database/api/database/commands/projection.ts"),c=r("./src/services/database/api/database/aggregate.ts"),l=r("./src/utils/type.ts"),d=new Set(["each","position","slice","sort"]);t.commands={eq:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.GTE,[e])},in:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.NIN,e)},geoNear:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.GEO_NEAR,[e])},geoWithin:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.GEO_WITHIN,[e])},geoIntersects:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,l.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.AND,r)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,l.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.OR,r)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,l.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.NOR,r)},not:function(e){return new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.NOT,[e])},exists:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.EXISTS,[e])},mod:function(e,t){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.MOD,[e,t])},all:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.ALL,e)},elemMatch:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.ELEM_MATCH,[e])},size:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.SIZE,[e])},expr:function(e){return new i.QueryCommmand(i.QUERY_COMMANDS_LITERAL.EXPR,[e])},set:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MUL,[e])},min:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MIN,[e])},max:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.MAX,[e])},rename:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.RENAME,[e])},bit:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.BIT,[e])},push:function(e){var t,r,i={};if((0,l.isArray)(e))i.each=e;else if((0,l.isObject)(e)&&(0,l.isArray)(e.each)){var o=Object.keys(e);if(1===o.length)i=e;else{var a=!1;try{for(var u=n.__values(o),c=u.next();!c.done;c=u.next()){var f=c.value;if(!d.has(f)){a=!0;break}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}i=a?[e]:e}}else i.each=[e];return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PUSH,[i])},pop:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,l.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.UNSHIFT,r)},addToSet:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.ADD_TO_SET,[e])},pull:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PULL,[e])},pullAll:function(e){return new s.UpdateCommand(s.UPDATE_COMMANDS_LITERAL.PULL_ALL,[e])},project:{slice:function(e){return new u.ProjectionCommmand(u.PROJECTION_COMMANDS_LITERAL.SLICE,[e])}},aggregate:{pipeline:function(){return new c.Pipeline([])},abs:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ABS,[e])},add:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ADD,[e])},addToSet:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ADDTOSET,[e])},allElementsTrue:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ALLELEMENTSTRUE,[e])},and:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.AND,[e])},anyElementTrue:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ANYELEMENTTRUE,[e])},arrayElemAt:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ARRAYELEMAT,[e])},arrayToObject:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ARRAYTOOBJECT,[e])},avg:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.AVG,[e])},ceil:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.CEIL,[e])},cmp:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.CMP,[e])},concat:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.CONCAT,[e])},concatArrays:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.CONCATARRAYS,[e])},cond:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.COND,[e])},convert:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.CONVERT,[e])},dateFromParts:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DATEFROMPARTS,[e])},dateToParts:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DATETOPARTS,[e])},dateFromString:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DATEFROMSTRING,[e])},dateToString:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DATETOSTRING,[e])},dayOfMonth:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DAYOFMONTH,[e])},dayOfWeek:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DAYOFWEEK,[e])},dayOfYear:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DAYOFYEAR,[e])},divide:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.DIVIDE,[e])},eq:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.EQ,[e])},exp:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.EXP,[e])},filter:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.FILTER,[e])},first:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.FIRST,[e])},floor:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.FLOOR,[e])},gt:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.GTE,[e])},hour:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.HOUR,[e])},ifNull:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.IFNULL,[e])},in:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.IN,[e])},indexOfArray:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.INDEXOFARRAY,[e])},indexOfBytes:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.INDEXOFBYTES,[e])},indexOfCP:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.INDEXOFCP,[e])},isArray:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ISARRAY,[e])},isoDayOfWeek:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ISODAYOFWEEK,[e])},isoWeek:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ISOWEEK,[e])},isoWeekYear:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ISOWEEKYEAR,[e])},last:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LAST,[e])},let:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LET,[e])},literal:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LITERAL,[e])},ln:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LN,[e])},log:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LOG,[e])},log10:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LOG10,[e])},lt:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LTE,[e])},ltrim:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.LTRIM,[e])},map:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MAP,[e])},max:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MAX,[e])},mergeObjects:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MERGEOBJECTS,[e])},meta:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.META,[e])},min:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MIN,[e])},millisecond:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MILLISECOND,[e])},minute:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MINUTE,[e])},mod:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MOD,[e])},month:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MONTH,[e])},multiply:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.MULTIPLY,[e])},neq:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.NEQ,[e])},not:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.NOT,[e])},objectToArray:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.OBJECTTOARRAY,[e])},or:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.OR,[e])},pow:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.POW,[e])},push:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.PUSH,[e])},range:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.RANGE,[e])},reduce:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.REDUCE,[e])},reverseArray:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.REVERSEARRAY,[e])},rtrim:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.RTRIM,[e])},second:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SECOND,[e])},setDifference:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SETDIFFERENCE,[e])},setEquals:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SETEQUALS,[e])},setIntersection:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SETINTERSECTION,[e])},setIsSubset:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SETISSUBSET,[e])},setUnion:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SETUNION,[e])},size:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SIZE,[e])},slice:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SLICE,[e])},split:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SPLIT,[e])},sqrt:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SQRT,[e])},stdDevPop:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.STDDEVPOP,[e])},stdDevSamp:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.STDDEVSAMP,[e])},strcasecmp:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.STRCASECMP,[e])},strLenBytes:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.STRLENBYTES,[e])},strLenCP:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.STRLENCP,[e])},substr:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SUBSTR,[e])},substrBytes:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SUBSTRBYTES,[e])},substrCP:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SUBSTRCP,[e])},subtract:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SUBTRACT,[e])},sum:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SUM,[e])},switch:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.SWITCH,[e])},toBool:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOBOOL,[e])},toDate:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TODATE,[e])},toDecimal:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TODECIMAL,[e])},toDouble:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TODOUBLE,[e])},toInt:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOINT,[e])},toLong:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOLONG,[e])},toObjectId:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOOBJECTID,[e])},toString:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOSTRING,[e])},toLower:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOLOWER,[e])},toUpper:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TOUPPER,[e])},trim:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TRIM,[e])},trunc:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TRUNC,[e])},type:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.TYPE,[e])},week:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.WEEK,[e])},year:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.YEAR,[e])},zip:function(e){return new a.AggregateCommand(a.AGGREGATE_COMMANDS_LITERAL.ZIP,[e])}}},t.default=t.commands},"./src/services/database/api/database/commands/aggregate.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LTRIM=t.LTE=t.LT=t.LOG10=t.LOG=t.LN=t.LITERAL=t.LET=t.LAST=t.ISOWEEKYEAR=t.ISOWEEK=t.ISODAYOFWEEK=t.ISARRAY=t.INDEXOFCP=t.INDEXOFBYTES=t.INDEXOFARRAY=t.IN=t.IFNULL=t.HOUR=t.GTE=t.GT=t.FLOOR=t.FIRST=t.FILTER=t.EXP=t.EQ=t.DIVIDE=t.DAYOFYEAR=t.DAYOFWEEK=t.DAYOFMONTH=t.DATETOSTRING=t.DATEFROMSTRING=t.DATETOPARTS=t.DATEFROMPARTS=t.CONVERT=t.COND=t.CONCATARRAYS=t.CONCAT=t.CMP=t.CEIL=t.AVG=t.ARRAYTOOBJECT=t.ARRAYELEMAT=t.ANYELEMENTTRUE=t.AND=t.ALLELEMENTSTRUE=t.ADDTOSET=t.ADD=t.ABS=t.AGGREGATE_COMMANDS_LITERAL=void 0,t.TOLOWER=t.TOSTRING=t.TOOBJECTID=t.TOLONG=t.TOINT=t.TODOUBLE=t.TODECIMAL=t.TODATE=t.TOBOOL=t.SWITCH=t.SUM=t.SUBTRACT=t.SUBSTRCP=t.SUBSTRBYTES=t.SUBSTR=t.STRLENCP=t.STRLENBYTES=t.STRCASECMP=t.STDDEVSAMP=t.STDDEVPOP=t.SQRT=t.SPLIT=t.SLICE=t.SIZE=t.SETUNION=t.SETISSUBSET=t.SETINTERSECTION=t.SETEQUALS=t.SETDIFFERENCE=t.SECOND=t.RTRIM=t.REVERSEARRAY=t.REDUCE=t.RANGE=t.PUSH=t.POW=t.OR=t.OBJECTTOARRAY=t.NOT=t.NEQ=t.MULTIPLY=t.MONTH=t.MOD=t.MINUTE=t.MILLISECOND=t.MIN=t.META=t.MERGEOBJECTS=t.MAX=t.MAP=void 0,t.isKnownAggregateCommand=t.isAggregateCommand=t.AggregateCommand=t.ZIP=t.YEAR=t.WEEK=t.TYPE=t.TRUNC=t.TRIM=t.TOUPPER=void 0;var n,i=r("./src/services/database/api/database/helper/symbol.ts");!function(e){e.ABS="abs",e.ADD="add",e.ADDTOSET="addToSet",e.ALLELEMENTSTRUE="allElementsTrue",e.AND="and",e.ANYELEMENTTRUE="anyElementTrue",e.ARRAYELEMAT="arrayElemAt",e.ARRAYTOOBJECT="arrayToObject",e.AVG="avg",e.CEIL="ceil",e.CMP="cmp",e.CONCAT="concat",e.CONCATARRAYS="concatArrays",e.COND="cond",e.CONVERT="convert",e.DATEFROMPARTS="dateFromParts",e.DATETOPARTS="dateToParts",e.DATEFROMSTRING="dateFromString",e.DATETOSTRING="dateToString",e.DAYOFMONTH="dayOfMonth",e.DAYOFWEEK="dayOfWeek",e.DAYOFYEAR="dayOfYear",e.DIVIDE="divide",e.EQ="eq",e.EXP="exp",e.FILTER="filter",e.FIRST="first",e.FLOOR="floor",e.GT="gt",e.GTE="gte",e.HOUR="hour",e.IFNULL="ifNull",e.IN="in",e.INDEXOFARRAY="indexOfArray",e.INDEXOFBYTES="indexOfBytes",e.INDEXOFCP="indexOfCP",e.ISARRAY="isArray",e.ISODAYOFWEEK="isoDayOfWeek",e.ISOWEEK="isoWeek",e.ISOWEEKYEAR="isoWeekYear",e.LAST="last",e.LET="let",e.LITERAL="literal",e.LN="ln",e.LOG="log",e.LOG10="log10",e.LT="lt",e.LTE="lte",e.LTRIM="ltrim",e.MAP="map",e.MAX="max",e.MERGEOBJECTS="mergeObjects",e.META="meta",e.MIN="min",e.MILLISECOND="millisecond",e.MINUTE="minute",e.MOD="mod",e.MONTH="month",e.MULTIPLY="multiply",e.NEQ="ne",e.NOT="not",e.OBJECTTOARRAY="objectToArray",e.OR="or",e.POW="pow",e.PUSH="push",e.RANGE="range",e.REDUCE="reduce",e.REVERSEARRAY="reverseArray",e.RTRIM="rtrim",e.SECOND="second",e.SETDIFFERENCE="setDifference",e.SETEQUALS="setEquals",e.SETINTERSECTION="setIntersection",e.SETISSUBSET="setIsSubset",e.SETUNION="setUnion",e.SIZE="size",e.SLICE="slice",e.SPLIT="split",e.SQRT="sqrt",e.STDDEVPOP="stdDevPop",e.STDDEVSAMP="stdDevSamp",e.STRCASECMP="strcasecmp",e.STRLENBYTES="strLenBytes",e.STRLENCP="strLenCP",e.SUBSTR="substr",e.SUBSTRBYTES="substrBytes",e.SUBSTRCP="substrCP",e.SUBTRACT="subtract",e.SUM="sum",e.SWITCH="switch",e.TOBOOL="toBool",e.TODATE="toDate",e.TODECIMAL="toDecimal",e.TODOUBLE="toDouble",e.TOINT="toInt",e.TOLONG="toLong",e.TOOBJECTID="toObjectId",e.TOSTRING="toString",e.TOLOWER="toLower",e.TOUPPER="toUpper",e.TRIM="trim",e.TRUNC="trunc",e.TYPE="type",e.WEEK="week",e.YEAR="year",e.ZIP="zip"}(n=t.AGGREGATE_COMMANDS_LITERAL||(t.AGGREGATE_COMMANDS_LITERAL={})),t.ABS=n.ABS,t.ADD=n.ADD,t.ADDTOSET=n.ADDTOSET,t.ALLELEMENTSTRUE=n.ALLELEMENTSTRUE,t.AND=n.AND,t.ANYELEMENTTRUE=n.ANYELEMENTTRUE,t.ARRAYELEMAT=n.ARRAYELEMAT,t.ARRAYTOOBJECT=n.ARRAYTOOBJECT,t.AVG=n.AVG,t.CEIL=n.CEIL,t.CMP=n.CMP,t.CONCAT=n.CONCAT,t.CONCATARRAYS=n.CONCATARRAYS,t.COND=n.COND,t.CONVERT=n.CONVERT,t.DATEFROMPARTS=n.DATEFROMPARTS,t.DATETOPARTS=n.DATETOPARTS,t.DATEFROMSTRING=n.DATEFROMSTRING,t.DATETOSTRING=n.DATETOSTRING,t.DAYOFMONTH=n.DAYOFMONTH,t.DAYOFWEEK=n.DAYOFWEEK,t.DAYOFYEAR=n.DAYOFYEAR,t.DIVIDE=n.DIVIDE,t.EQ=n.EQ,t.EXP=n.EXP,t.FILTER=n.FILTER,t.FIRST=n.FIRST,t.FLOOR=n.FLOOR,t.GT=n.GT,t.GTE=n.GTE,t.HOUR=n.HOUR,t.IFNULL=n.IFNULL,t.IN=n.IN,t.INDEXOFARRAY=n.INDEXOFARRAY,t.INDEXOFBYTES=n.INDEXOFBYTES,t.INDEXOFCP=n.INDEXOFCP,t.ISARRAY=n.ISARRAY,t.ISODAYOFWEEK=n.ISODAYOFWEEK,t.ISOWEEK=n.ISOWEEK,t.ISOWEEKYEAR=n.ISOWEEKYEAR,t.LAST=n.LAST,t.LET=n.LET,t.LITERAL=n.LITERAL,t.LN=n.LN,t.LOG=n.LOG,t.LOG10=n.LOG10,t.LT=n.LT,t.LTE=n.LTE,t.LTRIM=n.LTRIM,t.MAP=n.MAP,t.MAX=n.MAX,t.MERGEOBJECTS=n.MERGEOBJECTS,t.META=n.META,t.MIN=n.MIN,t.MILLISECOND=n.MILLISECOND,t.MINUTE=n.MINUTE,t.MOD=n.MOD,t.MONTH=n.MONTH,t.MULTIPLY=n.MULTIPLY,t.NEQ=n.NEQ,t.NOT=n.NOT,t.OBJECTTOARRAY=n.OBJECTTOARRAY,t.OR=n.OR,t.POW=n.POW,t.PUSH=n.PUSH,t.RANGE=n.RANGE,t.REDUCE=n.REDUCE,t.REVERSEARRAY=n.REVERSEARRAY,t.RTRIM=n.RTRIM,t.SECOND=n.SECOND,t.SETDIFFERENCE=n.SETDIFFERENCE,t.SETEQUALS=n.SETEQUALS,t.SETINTERSECTION=n.SETINTERSECTION,t.SETISSUBSET=n.SETISSUBSET,t.SETUNION=n.SETUNION,t.SIZE=n.SIZE,t.SLICE=n.SLICE,t.SPLIT=n.SPLIT,t.SQRT=n.SQRT,t.STDDEVPOP=n.STDDEVPOP,t.STDDEVSAMP=n.STDDEVSAMP,t.STRCASECMP=n.STRCASECMP,t.STRLENBYTES=n.STRLENBYTES,t.STRLENCP=n.STRLENCP,t.SUBSTR=n.SUBSTR,t.SUBSTRBYTES=n.SUBSTRBYTES,t.SUBSTRCP=n.SUBSTRCP,t.SUBTRACT=n.SUBTRACT,t.SUM=n.SUM,t.SWITCH=n.SWITCH,t.TOBOOL=n.TOBOOL,t.TODATE=n.TODATE,t.TODECIMAL=n.TODECIMAL,t.TODOUBLE=n.TODOUBLE,t.TOINT=n.TOINT,t.TOLONG=n.TOLONG,t.TOOBJECTID=n.TOOBJECTID,t.TOSTRING=n.TOSTRING,t.TOLOWER=n.TOLOWER,t.TOUPPER=n.TOUPPER,t.TRIM=n.TRIM,t.TRUNC=n.TRUNC,t.TYPE=n.TYPE,t.WEEK=n.WEEK,t.YEAR=n.YEAR,t.ZIP=n.ZIP;var o=function(){function e(e,t,r){this._internalType=i.SYMBOL_AGGREGATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();function s(e){return e&&e instanceof o&&e._internalType===i.SYMBOL_AGGREGATE_COMMAND}t.AggregateCommand=o,t.isAggregateCommand=s,t.isKnownAggregateCommand=function(e){return s(e)&&e.operator.toUpperCase()in n},t.default=o},"./src/services/database/api/database/commands/logic.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isKnownLogicCommand=t.isLogicCommand=t.LogicCommmand=t.logicCommandsSet=t.LOGIC_COMMANDS_LITERAL=void 0;var n,i=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),o=r("./src/services/database/api/database/helper/symbol.ts"),s=r("./src/utils/assert.ts"),a=r("./src/utils/type.ts");!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(n=t.LOGIC_COMMANDS_LITERAL||(t.LOGIC_COMMANDS_LITERAL={}));var u=[n.AND,n.OR,n.NOT,n.NOR];t.logicCommandsSet=new Set(u);var c=function(){function e(e,t,r){this._internalType=o.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||o.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){var r=this.operands.map(function(e){return e===n.AND||e===n.OR?e._setFieldName(t):e});return new e(this.operator,r,t)},e.prototype.and=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(0,s.assertRequiredParam)(arguments[0],"expressions","and");var o=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new e(n.AND,i.__spreadArray([this],i.__read(o),!1),this.fieldName)},e.prototype.or=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(0,s.assertRequiredParam)(arguments[0],"expressions","or");var o=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new e(n.OR,i.__spreadArray([this],i.__read(o),!1),this.fieldName)},e.prototype.nor=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(0,s.assertRequiredParam)(arguments[0],"expressions","nor");var o=(0,a.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new e(n.NOR,i.__spreadArray([this],i.__read(o),!1),this.fieldName)},e.prototype.not=function(t){return(0,s.assertRequiredParam)(t,"expression","not"),new e(n.NOT,[t],this.fieldName)},e.prototype.toJSON=function(){},e}();function l(e){return e&&e instanceof c&&e._internalType===o.SYMBOL_LOGIC_COMMAND}t.LogicCommmand=c,t.isLogicCommand=l,t.isKnownLogicCommand=function(e){return l(e)&&t.logicCommandsSet.has(e.operator)},t.default=c},"./src/services/database/api/database/commands/projection.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isProjectionCommand=t.ProjectionCommmand=t.projectionCommandsSet=t.PROJECTION_COMMANDS_LITERAL=t.SLICE=void 0;var n,i=r("./src/services/database/api/database/helper/symbol.ts");t.SLICE="slice",function(e){e.SLICE="slice"}(n=t.PROJECTION_COMMANDS_LITERAL||(t.PROJECTION_COMMANDS_LITERAL={})),t.projectionCommandsSet=new Set([n.SLICE]);var o=function(){function e(e,t,r){this._internalType=i.SYMBOL_PROJECT_COMMAND,this.operator=e,this.operands=t,this.fieldName=r||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e}();t.ProjectionCommmand=o,t.isProjectionCommand=function(e){return e&&e instanceof o&&e._internalType===i.SYMBOL_PROJECT_COMMAND},t.default=o},"./src/services/database/api/database/commands/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isComparisonCommand=t.isKnownQueryCommand=t.isQueryCommand=t.QueryCommmand=t.queryCommandsSet=t.QUERY_COMMANDS_LITERAL=void 0;var n,i=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),o=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/helper/symbol.ts"),a=r("./src/utils/assert.ts");!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects",e.EXISTS="exists",e.MOD="mod",e.ALL="all",e.ELEM_MATCH="elemMatch",e.SIZE="size",e.EXPR="expr"}(n=t.QUERY_COMMANDS_LITERAL||(t.QUERY_COMMANDS_LITERAL={}));var u=[n.EQ,n.NEQ,n.GT,n.GTE,n.LT,n.LTE,n.IN,n.NIN,n.GEO_NEAR,n.GEO_WITHIN,n.GEO_INTERSECTS,n.EXISTS,n.MOD,n.ALL,n.ELEM_MATCH,n.SIZE];t.queryCommandsSet=new Set(u);new Set(i.__spreadArray(i.__spreadArray([],i.__read(t.queryCommandsSet),!1),i.__read(o.logicCommandsSet),!1));var c=function(e){function t(t,r,n){var i=e.call(this,t,r,n)||this;return i.operator=t,i._internalType=s.SYMBOL_QUERY_COMMAND,i}return i.__extends(t,e),t.prototype._setFieldName=function(e){return new t(this.operator,this.operands,e)},t.prototype.eq=function(e){var r=new t(n.EQ,[e],this.fieldName);return this.and(r)},t.prototype.neq=function(e){var r=new t(n.NEQ,[e],this.fieldName);return this.and(r)},t.prototype.gt=function(e){var r=new t(n.GT,[e],this.fieldName);return this.and(r)},t.prototype.gte=function(e){var r=new t(n.GTE,[e],this.fieldName);return this.and(r)},t.prototype.lt=function(e){var r=new t(n.LT,[e],this.fieldName);return this.and(r)},t.prototype.lte=function(e){var r=new t(n.LTE,[e],this.fieldName);return this.and(r)},t.prototype.in=function(e){(0,a.assertType)(e,"array");var r=new t(n.IN,e,this.fieldName);return this.and(r)},t.prototype.nin=function(e){(0,a.assertType)(e,"array");var r=new t(n.NIN,e,this.fieldName);return this.and(r)},t.prototype.geoNear=function(e){var r=new t(n.GEO_NEAR,[e],this.fieldName);return this.and(r)},t.prototype.geoWithin=function(e){var r=new t(n.GEO_WITHIN,[e],this.fieldName);return this.and(r)},t.prototype.geoIntersects=function(e){var r=new t(n.GEO_INTERSECTS,[e],this.fieldName);return this.and(r)},t.prototype.exists=function(e){var r=new t(n.EXISTS,[e],this.fieldName);return this.and(r)},t.prototype.mod=function(e,r){var i=new t(n.MOD,[e,r],this.fieldName);return this.and(i)},t.prototype.all=function(e){var r=new t(n.ALL,e,this.fieldName);return this.and(r)},t.prototype.elemMatch=function(e){var r=new t(n.ELEM_MATCH,[e],this.fieldName);return this.and(r)},t.prototype.size=function(e){var r=new t(n.SIZE,[e],this.fieldName);return this.and(r)},t}(o.LogicCommmand);function l(e){return e&&e instanceof c&&e._internalType===s.SYMBOL_QUERY_COMMAND}t.QueryCommmand=c,t.isQueryCommand=l,t.isKnownQueryCommand=function(e){return l(e)&&t.queryCommandsSet.has(e.operator)},t.isComparisonCommand=function(e){return l(e)},t.default=c},"./src/services/database/api/database/commands/update.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isKnownUpdateCommand=t.isUpdateCommand=t.UpdateCommand=t.updateCommandsSet=t.UPDATE_COMMANDS_LITERAL=void 0;var n,i=r("./src/services/database/api/database/helper/symbol.ts");!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.MIN="min",e.MAX="max",e.RENAME="rename",e.BIT="bit",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.PULL="pull",e.PULL_ALL="pullAll"}(n=t.UPDATE_COMMANDS_LITERAL||(t.UPDATE_COMMANDS_LITERAL={})),t.updateCommandsSet=new Set([n.SET,n.REMOVE,n.INC,n.MUL,n.MIN,n.MAX,n.RENAME,n.BIT,n.PUSH,n.POP,n.SHIFT,n.UNSHIFT,n.ADD_TO_SET,n.PULL,n.PULL_ALL]);var o=function(){function e(e,t,r){this._internalType=i.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){return new e(this.operator,this.operands,t)},e.prototype.toJSON=function(){},e}();function s(e){return e&&e instanceof o&&e._internalType===i.SYMBOL_UPDATE_COMMAND}t.UpdateCommand=o,t.isUpdateCommand=s,t.isKnownUpdateCommand=function(e){return s(e)&&t.updateCommandsSet.has(e.operator)},t.default=o},"./src/services/database/api/database/date.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js").__exportStar(r("./src/services/database/api/database/date/serverDate.ts"),t)},"./src/services/database/api/database/date/serverDate.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDate=t.serverDate=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/utils/assert.ts");t.serverDate=function(e){return new o(e)};var o=function(){function e(e){void 0===e&&(e={offset:0}),(0,i.assertType)(e,"object","serverDate.options"),this.options=e}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return n.SYMBOL_SERVER_DATE},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{$date:this.options}},e}();t.ServerDate=o},"./src/services/database/api/database/document.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentReferenceClass=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/hook/invoke.ts"),o=r("./src/services/database/internal/backend-api/backend-api.ts"),s=r("./src/utils/msg.ts"),a=r("./src/utils/error.ts"),u=r("./src/utils/assert.ts"),c=r("./src/utils/report.ts"),l=r("./src/config/error.config.ts"),d=r("./src/services/database/api/database/realtime/websocket-client.ts");t.getDocumentReferenceClass=function(e){return function(){function t(t,r){var i=this;if(this.watch=function(t){return(0,u.assertType)(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new d.RealtimeWebSocketClient({serviceContext:e.serviceContext})),e.serviceContext.ws.watch(n.__assign(n.__assign({},t),{envId:e.database.config.env||e.serviceContext.env,collectionName:i.collection.collectionName,query:JSON.stringify({_id:i._id}),queryType:o.QUERY_TYPE.DOC,reportAPIName:"cloud.db.document.watch"}))},this.collection=t,this._id=r,null===r||void 0===r)throw new a.CloudSDKError({errCode:l.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"docId must not be null or undefined"});Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}return t.prototype.field=function(e){return(0,u.assertRequiredParam)(e,"object","field"),(0,u.assertType)(e,"object","field"),this._field=e,this},t.prototype.get=function(t){var r=this,u={apiStartTime:+new Date},l=(0,i.hasAPICallback)(t),d=new Promise(function(t,i){return n.__awaiter(r,void 0,void 0,function(){var l,d,f;return n.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,3,4]),l=this._id,[4,(0,o.queryDocument)({env:e.database.config.env,collectionName:r.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:r._id}),options:{projection:e.engine.ProjectionSerializer.encode(r._field)},queryType:o.QUERY_TYPE.DOC,instanceContext:e,timing:u})];case 1:if(!(d=p.sent()).list||!d.list.length)throw new Error("cannot find document with _id ".concat(l,", ")+"please make sure that the document exists and you have the corresponding access permission");return t({data:d.list[0],errMsg:(0,s.apiSuccessMsg)("document.get")}),[3,4];case 2:return f=p.sent(),i((0,a.returnAsFinalCloudSDKError)(f,"document.get")),[3,4];case 3:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},u),{apiEndTime:+new Date,apiName:"cloud.db.".concat("document.get")})),[7];case 4:return[2]}})})});if(!l)return d;d.then(function(e){(0,i.invokeSuccessCompleteCallbacks)("document.get",t,e)}).catch(function(e){(0,i.invokeFailCompleteCallbacks)("document.get",t,e)})},t.prototype.set=function(t){var r=this,l={apiStartTime:+new Date},d=(0,i.hasAPICallback)(t),f=new Promise(function(i,d){return n.__awaiter(r,void 0,void 0,function(){var f,p;return n.__generator(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,3,4]),(0,u.assertType)(t,{data:"object"}),(0,u.assertObjectNotEmpty)({name:"options.data",target:t.data}),[4,(0,o.setDocument)({env:e.database.config.env,collectionName:r.collection.collectionName,_id:r._id,data:e.engine.encodeInternalDataType(t.data),options:{},instanceContext:e,timing:l})];case 1:return f=_.sent(),i({_id:f._id,errMsg:(0,s.apiSuccessMsg)("document.set"),stats:{updated:f.updated,created:f.created}}),[3,4];case 2:return p=_.sent(),d((0,a.returnAsFinalCloudSDKError)(p,"document.set")),[3,4];case 3:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},l),{apiEndTime:+new Date,apiName:"cloud.db.".concat("document.set")})),[7];case 4:return[2]}})})});if(!d)return f;f.then(function(e){(0,i.invokeSuccessCompleteCallbacks)("document.set",t,e)}).catch(function(e){(0,i.invokeFailCompleteCallbacks)("document.set",t,e)})},t.prototype.update=function(t){var r=this,l={apiStartTime:+new Date},d=(0,i.hasAPICallback)(t),f=new Promise(function(i,d){return n.__awaiter(r,void 0,void 0,function(){var f,p;return n.__generator(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,3,4]),(0,u.assertType)(t,{data:"object"}),(0,u.assertObjectNotEmpty)({name:"options.data",target:t.data}),[4,(0,o.updateDocument)({env:e.database.config.env,collectionName:r.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:r._id}),data:e.engine.UpdateSerializer.encode(t.data),queryType:o.QUERY_TYPE.DOC,options:{multi:!1,merge:!1},instanceContext:e,timing:l})];case 1:return f=_.sent(),i({stats:{updated:f.updated},errMsg:(0,s.apiSuccessMsg)("document.update")}),[3,4];case 2:return p=_.sent(),d((0,a.returnAsFinalCloudSDKError)(p,"document.update")),[3,4];case 3:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},l),{apiEndTime:+new Date,apiName:"cloud.db.".concat("document.update")})),[7];case 4:return[2]}})})});if(!d)return f;f.then(function(e){(0,i.invokeSuccessCompleteCallbacks)("document.update",t,e)}).catch(function(e){(0,i.invokeFailCompleteCallbacks)("document.update",t,e)})},t.prototype.remove=function(t){var r=this,u={apiStartTime:+new Date},l=(0,i.hasAPICallback)(t),d=new Promise(function(t,i){return n.__awaiter(r,void 0,void 0,function(){var l,d,f;return n.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,3,4]),l=this._id,[4,(0,o.removeDocument)({env:e.database.config.env,collectionName:r.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:r._id}),queryType:o.QUERY_TYPE.DOC,options:{},instanceContext:e,timing:u})];case 1:if(0===(d=p.sent()).removed)throw new Error("cannot remove document with _id ".concat(l,", ")+"please make sure that the document exists and you have the corresponding Write permission");return t({stats:{removed:d.removed||0},errMsg:(0,s.apiSuccessMsg)("document.remove")}),[3,4];case 2:return f=p.sent(),i((0,a.returnAsFinalCloudSDKError)(f,"document.remove")),[3,4];case 3:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},u),{apiEndTime:+new Date,apiName:"cloud.db.".concat("document.remove")})),[7];case 4:return[2]}})})});if(!l)return d;d.then(function(e){(0,i.invokeSuccessCompleteCallbacks)("document.remove",t,e)}).catch(function(e){(0,i.invokeFailCompleteCallbacks)("document.remove",t,e)})},t.prototype.toJSON=function(){},t}()}},"./src/services/database/api/database/geo.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.__safe_props__=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/api/database/geo/point.ts"),t),n.__exportStar(r("./src/services/database/api/database/geo/multipoint.ts"),t),n.__exportStar(r("./src/services/database/api/database/geo/linestring.ts"),t),n.__exportStar(r("./src/services/database/api/database/geo/multilinestring.ts"),t),n.__exportStar(r("./src/services/database/api/database/geo/polygon.ts"),t),n.__exportStar(r("./src/services/database/api/database/geo/multipolygon.ts"),t);t.__safe_props__=void 0},"./src/services/database/api/database/geo/linestring.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoLineString=t.LineString=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/services/database/api/database/helper/geojson.ts");t.LineString=function(e){return(0,i.isGeoJSONLineString)(e)?(0,i.toLineString)(e):new o(e)};var o=function(){function e(e){this._internalType=n.SYMBOL_GEO_LINESTRING,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}return e.prototype.toJSON=function(){return(0,i.toGeoJSONLineString)(this)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoLineString=o},"./src/services/database/api/database/geo/multilinestring.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoMultiLineString=t.MultiLineString=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/services/database/api/database/helper/geojson.ts");t.MultiLineString=function(e){return(0,i.isGeoJSONMultiLineString)(e)?(0,i.toMultiLineString)(e):new o(e)};var o=function(){function e(e){this._internalType=n.SYMBOL_GEO_MULTILINESTRING,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}return e.prototype.toJSON=function(){return(0,i.toGeoJSONMultiLineString)(this)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoMultiLineString=o},"./src/services/database/api/database/geo/multipoint.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoMultiPoint=t.MultiPoint=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/services/database/api/database/helper/geojson.ts");t.MultiPoint=function(e){return(0,i.isGeoJSONMultiPoint)(e)?(0,i.toMultiPoint)(e):new o(e)};var o=function(){function e(e){this._internalType=n.SYMBOL_GEO_MULTIPOINT,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}return e.prototype.toJSON=function(){return(0,i.toGeoJSONMultiPoint)(this)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoMultiPoint=o},"./src/services/database/api/database/geo/multipolygon.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoMultiPolygon=t.MultiPolygon=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/services/database/api/database/helper/geojson.ts");t.MultiPolygon=function(e){return(0,i.isGeoJSONMultiPolygon)(e)?(0,i.toMultiPolygon)(e):new o(e)};var o=function(){function e(e){this._internalType=n.SYMBOL_GEO_MULTIPOLYGON,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.polygons=e}return e.prototype.toJSON=function(){return(0,i.toGeoJSONMultiPolygon)(this)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoMultiPolygon=o},"./src/services/database/api/database/geo/point.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPoint=t.Point=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/utils/assert.ts"),o=r("./src/utils/error.ts"),s=r("./src/services/database/api/database/helper/geojson.ts");t.Point=function(e,t){return(0,s.isGeoJSONPoint)(e)?(0,s.toPoint)(e):new a(e,t)};var a=function(){function e(e,t){this._internalType=n.SYMBOL_GEO_POINT,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var r=e,s=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){if((0,i.assertType)(e,"number","longitude"),e>180||e<-180)throw new o.CloudSDKError({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){if((0,i.assertType)(e,"number","latitude"),e>90||e<-90)throw new o.CloudSDKError({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=r,this.latitude=s}return e.prototype.toJSON=function(){return(0,s.toGeoJSONPoint)(this)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoPoint=a},"./src/services/database/api/database/geo/polygon.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPolygon=t.Polygon=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/services/database/api/database/helper/geojson.ts");t.Polygon=function(e){return(0,i.isGeoJSONPolygon)(e)?(0,i.toPolygon)(e):new o(e)};var o=function(){function e(e){this._internalType=n.SYMBOL_GEO_POLYGON,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}return e.prototype.toJSON=function(){return(0,i.toGeoJSONPolygon)(this)},e.prototype.toString=function(){return JSON.stringify(this.toJSON())},e}();t.GeoPolygon=o},"./src/services/database/api/database/helper/geojson.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isMultiPolygonCoordinates=t.isPolygonCoordinates=t.isMultiLineStringCoordinates=t.isLineStringCoordinates=t.isMultiPointCoordinates=t.isPointCoordinates=t.isGeoJSONMultiPolygon=t.isGeoJSONPolygon=t.isGeoJSONMultiLineString=t.isGeoJSONLineString=t.isGeoJSONMultiPoint=t.isGeoJSONPoint=t.toGeoJSONMultiPolygon=t.toGeoJSONPolygon=t.toGeoJSONMultiLineString=t.toGeoJSONLineString=t.toGeoJSONMultiPoint=t.toGeoJSONPoint=t.toMultiPolygon=t.toPolygon=t.toMultiLineString=t.toLineString=t.toMultiPoint=t.toPoint=t.fromGeoJSON=void 0;var n=r("./src/services/database/api/database/geo.ts"),i=r("./src/utils/type.ts"),o=r("./src/utils/error.ts");function s(e){return(0,n.Point)(e.coordinates[0],e.coordinates[1])}function a(e){return(0,n.MultiPoint)(e.coordinates.map(function(e){return(0,n.Point)(e[0],e[1])}))}function u(e){return(0,n.LineString)(e.coordinates.map(function(e){return(0,n.Point)(e[0],e[1])}))}function c(e){return(0,n.MultiLineString)(e.coordinates.map(function(e){return(0,n.LineString)(e.map(function(e){return(0,n.Point)(e[0],e[1])}))}))}function l(e){return(0,n.Polygon)(e.coordinates.map(function(e){return(0,n.LineString)(e.map(function(e){return(0,n.Point)(e[0],e[1])}))}))}function d(e){return(0,n.MultiPolygon)(e.coordinates.map(function(e){return(0,n.Polygon)(e.map(function(e){return(0,n.LineString)(e.map(function(e){return(0,n.Point)(e[0],e[1])}))}))}))}function f(e){return(0,i.isArray)(e)&&(0,i.isNumber)(e[0])&&(0,i.isNumber)(e[1])}function p(e){return(0,i.isArray)(e)&&e.every(f)}function _(e){return p(e)}function h(e){return(0,i.isArray)(e)&&e.every(_)}function E(e){return h(e)}function m(e){return(0,i.isArray)(e)&&e.every(E)}t.fromGeoJSON=function(e){switch(e.type){case"Point":return s(e);case"MultiPoint":return a(e);case"LineString":return u(e);case"MultiLineString":return c(e);case"Polygon":return l(e);case"MultiPolygon":return d(e);default:throw new o.CloudSDKError({errCode:-1,errMsg:"Invalid GeoJSON input"})}},t.toPoint=s,t.toMultiPoint=a,t.toLineString=u,t.toMultiLineString=c,t.toPolygon=l,t.toMultiPolygon=d,t.toGeoJSONPoint=function(e){return{type:"Point",coordinates:[e.longitude,e.latitude]}},t.toGeoJSONMultiPoint=function(e){return{type:"MultiPoint",coordinates:e.points.map(function(e){return[e.longitude,e.latitude]})}},t.toGeoJSONLineString=function(e){return{type:"LineString",coordinates:e.points.map(function(e){return[e.longitude,e.latitude]})}},t.toGeoJSONMultiLineString=function(e){return{type:"MultiLineString",coordinates:e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}},t.toGeoJSONPolygon=function(e){return{type:"Polygon",coordinates:e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}},t.toGeoJSONMultiPolygon=function(e){return{type:"MultiPolygon",coordinates:e.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})}},t.isGeoJSONPoint=function(e){return(0,i.isObject)(e)&&f(e.coordinates)},t.isGeoJSONMultiPoint=function(e){return(0,i.isObject)(e)&&p(e.coordinates)},t.isGeoJSONLineString=function(e){return(0,i.isObject)(e)&&_(e.coordinates)},t.isGeoJSONMultiLineString=function(e){return(0,i.isObject)(e)&&h(e.coordinates)},t.isGeoJSONPolygon=function(e){return(0,i.isObject)(e)&&E(e.coordinates)},t.isGeoJSONMultiPolygon=function(e){return(0,i.isObject)(e)&&m(e.coordinates)},t.isPointCoordinates=f,t.isMultiPointCoordinates=p,t.isLineStringCoordinates=_,t.isMultiLineStringCoordinates=h,t.isPolygonCoordinates=E,t.isMultiPolygonCoordinates=m},"./src/services/database/api/database/helper/symbol.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_REGEXP=t.SYMBOL_SERVER_DATE=t.SYMBOL_GEO_MULTIPOLYGON=t.SYMBOL_GEO_MULTILINESTRING=t.SYMBOL_GEO_MULTIPOINT=t.SYMBOL_GEO_POLYGON=t.SYMBOL_GEO_LINESTRING=t.SYMBOL_GEO_POINT=t.SYMBOL_PROJECT_COMMAND=t.SYMBOL_AGGREGATE_COMMAND=t.SYMBOL_LOGIC_COMMAND=t.SYMBOL_QUERY_COMMAND=t.SYMBOL_UPDATE_COMMAND=t.SYMBOL_AGGREGATE_PIPELINE_STAGE=t.SYMBOL_AGGREGATE_PIPELINE=t.SYMBOL_AGGREGATE=t.SYMBOL_UNSET_FIELD_NAME=void 0,t.SYMBOL_UNSET_FIELD_NAME=Symbol.for("UNSET_FIELD_NAME"),t.SYMBOL_AGGREGATE=Symbol.for("AGGREGATE"),t.SYMBOL_AGGREGATE_PIPELINE=Symbol.for("AGGREGATE_PIPELINE"),t.SYMBOL_AGGREGATE_PIPELINE_STAGE=Symbol.for("AGGREGATE_PIPELINE_STAGE"),t.SYMBOL_UPDATE_COMMAND=Symbol.for("UPDATE_COMMAND"),t.SYMBOL_QUERY_COMMAND=Symbol.for("QUERY_COMMAND"),t.SYMBOL_LOGIC_COMMAND=Symbol.for("LOGIC_COMMAND"),t.SYMBOL_AGGREGATE_COMMAND=Symbol.for("AGGREGATE_COMMAND"),t.SYMBOL_PROJECT_COMMAND=Symbol.for("PROJECT_COMMAND"),t.SYMBOL_GEO_POINT=Symbol.for("GEO_POINT"),t.SYMBOL_GEO_LINESTRING=Symbol.for("GEO_LINESTRING"),t.SYMBOL_GEO_POLYGON=Symbol.for("GEO_POLYGON"),t.SYMBOL_GEO_MULTIPOINT=Symbol.for("GEO_MULTIPOINT"),t.SYMBOL_GEO_MULTILINESTRING=Symbol.for("GEO_MULTILINESTRING"),t.SYMBOL_GEO_MULTIPOLYGON=Symbol.for("GEO_MULTIPOLYGON"),t.SYMBOL_SERVER_DATE=Symbol.for("SERVER_DATE"),t.SYMBOL_REGEXP=Symbol.for("REGEXP")},"./src/services/database/api/database/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryClass=t.ORDER_DIRECTION=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/msg.ts"),o=r("./src/services/database/internal/grammar/default/extractor.ts"),s=r("./src/utils/assert.ts"),a=r("./src/services/database/internal/backend-api/backend-api.ts"),u=r("./src/hook/invoke.ts"),c=r("./src/utils/error.ts"),l=r("./src/utils/report.ts"),d=r("./src/services/database/api/database/command.ts"),f=r("./src/externals/globals/wxconfig.ts"),p=r("./src/services/database/api/database/realtime/websocket-client.ts"),_=r("./src/config/error.config.ts");!function(e){e.ASC="asc",e.DESC="desc"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={}));t.getQueryClass=function(e){var t=function(){function t(t,i){var o=this;if(this.watch=function(t){return(0,s.assertType)(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new p.RealtimeWebSocketClient({serviceContext:e.serviceContext})),e.serviceContext.ws.watch(n.__assign(n.__assign({},t),{envId:e.database.config.env||e.serviceContext.env,collectionName:o.collectionName,query:JSON.stringify(e.engine.QuerySerializer.encode(o._query.where||{})),limit:o._query.limit,orderBy:o._query.order?o._query.order.reduce(function(e,t){return e[t.fieldPath]=t.order,e},{}):void 0,queryType:a.QUERY_TYPE.WHERE,reportAPIName:"cloud.db.collection.watch"}))},!t)throw new c.CloudSDKError({errCode:_.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"collectionName must be provided"});this.collectionName=t,this._query=new r(i),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=i&&i.field||{}}return t.prototype.field=function(e){return(0,s.assertRequiredParam)(e,"object","field"),new t(this.collectionName,n.__assign(n.__assign({},this._query.getProperties()),{field:e}))},t.prototype.where=function(e){return(0,s.assertRequiredParam)(e,"condition","where"),this._query.where?new t(this.collectionName,n.__assign(n.__assign({},this._query.getProperties()),{where:d.commands.and(this._query.where,e)})):new t(this.collectionName,n.__assign(n.__assign({},this._query.getProperties()),{where:e}))},t.prototype.orderBy=function(e,r){return(0,s.assertRequiredParam)(e,"fieldPath","orderBy"),(0,s.assertRequiredParam)(r,"order","orderBy"),new t(this.collectionName,n.__assign(n.__assign({},this._query.getProperties()),{order:n.__spreadArray(n.__spreadArray([],n.__read(this._query.order||[]),!1),[{fieldPath:e,order:r}],!1)}))},t.prototype.limit=function(e){return(0,s.assertRequiredParam)(e,"max","limit"),new t(this.collectionName,n.__assign(n.__assign({},this._query.getProperties()),{limit:e}))},t.prototype.skip=function(e){return(0,s.assertRequiredParam)(e,"offset","skip"),new t(this.collectionName,n.__assign(n.__assign({},this._query.getProperties()),{offset:e}))},t.prototype.get=function(t){var r=this,s="collection.get",d={apiStartTime:+new Date},p=(0,u.hasAPICallback)(t),_=new Promise(function(u,p){return n.__awaiter(r,void 0,void 0,function(){var _,h;return n.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,3,4]),[4,(0,a.queryDocument)({env:e.database.config.env,collectionName:r.collectionName,query:e.engine.QuerySerializer.encode(r._query.where||{}),queryType:a.QUERY_TYPE.WHERE,options:(0,o.extractQueryOptions)(r,e),instanceContext:e,timing:d,explain:null===t||void 0===t?void 0:t.explain})];case 1:return _=E.sent(),(null===t||void 0===t?void 0:t.explain)&&(0,f.isDevTools)()?(u(_),[2]):(u({data:_.list,errMsg:(0,i.apiSuccessMsg)(s)}),[3,4]);case 2:return h=E.sent(),p((0,c.returnAsFinalCloudSDKError)(h,s)),[3,4];case 3:return(0,l.reportAPISpeed)(n.__assign(n.__assign({},d),{apiEndTime:+new Date,apiName:"cloud.db.".concat(s)})),[7];case 4:return[2]}})})});if(!p)return _;_.then(function(e){(0,u.invokeSuccessCompleteCallbacks)(s,t,e)}).catch(function(e){(0,u.invokeFailCompleteCallbacks)(s,t,e)})},t.prototype.update=function(t){var r=this,o="collection.update",d={apiStartTime:+new Date},p=(0,u.hasAPICallback)(t),_=new Promise(function(u,p){return n.__awaiter(r,void 0,void 0,function(){var _,h;return n.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,3,4]),function(){if((0,s.assertRequiredParam)(t,"options","update"),(0,s.assertType)(t,{data:"object"}),!r._query.where)throw new c.CloudSDKError({errCode:-1,errMsg:"query condition must be provided"})}(),[4,(0,a.updateDocument)({env:e.database.config.env,collectionName:r.collectionName,query:e.engine.QuerySerializer.encode(r._query.where||{}),data:e.engine.UpdateSerializer.encode(t.data),queryType:a.QUERY_TYPE.WHERE,options:{multi:!1!==t.multi,merge:!0},instanceContext:e,timing:d,explain:t.explain})];case 1:return _=E.sent(),(null===t||void 0===t?void 0:t.explain)&&(0,f.isDevTools)()?[2,u(_)]:(u({stats:{updated:_.updated},errMsg:(0,i.apiSuccessMsg)(o)}),[3,4]);case 2:return h=E.sent(),p((0,c.returnAsFinalCloudSDKError)(h,o)),[3,4];case 3:return(0,l.reportAPISpeed)(n.__assign(n.__assign({},d),{apiEndTime:+new Date,apiName:"cloud.db.".concat(o)})),[7];case 4:return[2]}})})});if(!p)return _;_.then(function(e){(0,u.invokeSuccessCompleteCallbacks)(o,t,e)}).catch(function(e){(0,u.invokeFailCompleteCallbacks)(o,t,e)})},t.prototype.remove=function(t){var r=this,o="collection.remove",s={apiStartTime:+new Date},d=(0,u.hasAPICallback)(t),p=new Promise(function(u,d){return n.__awaiter(r,void 0,void 0,function(){var p,_;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,3,4]),function(){if(!r._query.where||0===Object.keys(r._query.where).length)throw new c.CloudSDKError({errCode:-1,errMsg:"query condition must be provided and not be empty"})}(),[4,(0,a.removeDocument)({env:e.database.config.env,collectionName:r.collectionName,query:e.engine.QuerySerializer.encode(r._query.where||{}),queryType:a.QUERY_TYPE.WHERE,options:{multi:!0},instanceContext:e,timing:s,explain:null===t||void 0===t?void 0:t.explain})];case 1:return p=h.sent(),(null===t||void 0===t?void 0:t.explain)&&(0,f.isDevTools)()?[2,u(p)]:(u({stats:{removed:p.removed||0},errMsg:(0,i.apiSuccessMsg)(o)}),[3,4]);case 2:return _=h.sent(),d((0,c.returnAsFinalCloudSDKError)(_,o)),[3,4];case 3:return(0,l.reportAPISpeed)(n.__assign(n.__assign({},s),{apiEndTime:+new Date,apiName:"cloud.db.".concat(o)})),[7];case 4:return[2]}})})});if(!d)return p;p.then(function(e){(0,u.invokeSuccessCompleteCallbacks)(o,t,e)}).catch(function(e){(0,u.invokeFailCompleteCallbacks)(o,t,e)})},t.prototype.count=function(t){var r=this,o="collection.count",s={apiStartTime:+new Date},d=(0,u.hasAPICallback)(t),p=new Promise(function(u,d){return n.__awaiter(r,void 0,void 0,function(){var p,_;return n.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,3,4]),[4,(0,a.countDocument)({env:e.database.config.env,collectionName:r.collectionName,query:e.engine.QuerySerializer.encode(r._query.where||{}),queryType:a.QUERY_TYPE.WHERE,instanceContext:e,timing:s,explain:null===t||void 0===t?void 0:t.explain})];case 1:return p=h.sent(),(null===t||void 0===t?void 0:t.explain)&&(0,f.isDevTools)()?[2,u(p)]:(u({total:p.total,errMsg:(0,i.apiSuccessMsg)(o)}),[3,4]);case 2:return _=h.sent(),d((0,c.returnAsFinalCloudSDKError)(_,o)),[3,4];case 3:return(0,l.reportAPISpeed)(n.__assign(n.__assign({},s),{apiEndTime:+new Date,apiName:"cloud.db.".concat(o)})),[7];case 4:return[2]}})})});if(!d)return p;p.then(function(e){(0,u.invokeSuccessCompleteCallbacks)(o,t,e)}).catch(function(e){(0,u.invokeFailCompleteCallbacks)(o,t,e)})},t.prototype.toJSON=function(){},t}(),r=function(){function e(e){this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order,this.field=e&&e.field}return e.prototype.getProperties=function(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order,field:this.field}},e}();return t}},"./src/services/database/api/database/realtime/error.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isRealtimeErrorMessageError=t.RealtimeErrorMessageError=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=function(e){function t(t){var r=e.call(this,"Watch Error ".concat(JSON.stringify(t.msgData)," (requestid: ").concat(t.requestId,")"))||this;return r.isRealtimeErrorMessageError=!0,r.payload=t,r}return n.__extends(t,e),t}(Error);t.RealtimeErrorMessageError=i;t.isRealtimeErrorMessageError=function(e){return e&&e.isRealtimeErrorMessageError}},"./src/services/database/api/database/realtime/fsm/vws.ts":function(e,t){var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.VWSStates=t.VWSEvent=t.VWSState=void 0,function(e){e.UNINIT="UNINIT",e.CLOSED="CLOSED",e.INIT_LOGGING_IN="INIT_LOGGING_IN",e.INIT_LOGGED_IN="INIT_LOGGED_IN",e.INIT_LOGIN_FAIL="INIT_LOGIN_FAIL",e.INIT_WATCH_PENDING="INIT_WATCH_PENDING",e.INIT_WATCH_FAIL="INIT_WATCH_FAIL",e.INIT_WATCH_SUCCESS="INIT_WATCH_SUCCESS",e.PAUSED="PAUSED",e.ABNORMAL_WATCH_STATUS="ABNORMAL_WATCH_STATUS",e.REBUILD_LOGGING_IN="REBUILD_LOGGING_IN",e.REBUILD_LOGGED_IN="REBUILD_LOGGED_IN",e.REBUILD_LOGIN_FAIL="REBUILD_LOGIN_FAIL",e.REBUILD_WATCH_PENDING="REBUILD_WATCH_PENDING",e.REBUILD_WATCH_FAIL="REBUILD_WATCH_FAIL",e.REBUILD_WATCH_SUCCESS="REBUILD_WATCH_SUCCESS"}(n=t.VWSState||(t.VWSState={})),function(e){e.CLOSE="close",e.LOGIN_START="loginStart",e.LOGIN_FAIL="loginFail",e.LOGIN_SUCCESS="loginSuccess",e.INIT_WATCH_START="initWatchStart",e.INIT_WATCH_FAIL="initWatchFail",e.INIT_WATCH_SUCCESS="initWatchSuccess",e.WS_DISCONNECTED="wsDisconnected",e.WS_CONNECTED="wsConnected",e.REBUILD_WATCH_START="rebuildWatchStart",e.REBUILD_WATCH_FAIL="rebuildWatchFail",e.REBUILD_WATCH_SUCCESS="rebuildWatchSuccess",e.NEED_REBUILD_WATCH="needRebuildWatch"}(i=t.VWSEvent||(t.VWSEvent={}));var o={accept:i.CLOSE,to:n.CLOSED},s={accept:i.WS_DISCONNECTED,to:n.CLOSED},a={accept:i.WS_DISCONNECTED,to:n.PAUSED};t.VWSStates=((r={})[n.UNINIT]={transitions:[{accept:i.LOGIN_START,to:n.INIT_LOGGING_IN},s,o]},r[n.CLOSED]={transitions:[o]},r[n.INIT_LOGGING_IN]={transitions:[{accept:i.LOGIN_FAIL,to:n.INIT_LOGIN_FAIL},{accept:i.LOGIN_SUCCESS,to:n.INIT_LOGGED_IN},s,o]},r[n.INIT_LOGIN_FAIL]={transitions:[{accept:i.LOGIN_START,to:n.INIT_LOGGING_IN},s,o]},r[n.INIT_LOGGED_IN]={transitions:[{accept:i.INIT_WATCH_START,to:n.INIT_WATCH_PENDING},s,o]},r[n.INIT_WATCH_PENDING]={transitions:[{accept:i.INIT_WATCH_FAIL,to:n.INIT_WATCH_FAIL},{accept:i.INIT_WATCH_SUCCESS,to:n.INIT_WATCH_SUCCESS},s,o]},r[n.INIT_WATCH_FAIL]={transitions:[{accept:i.LOGIN_START,to:n.INIT_LOGGING_IN},s,o]},r[n.INIT_WATCH_SUCCESS]={transitions:[{accept:i.WS_DISCONNECTED,to:n.PAUSED},{accept:i.NEED_REBUILD_WATCH,to:n.ABNORMAL_WATCH_STATUS},a,o]},r[n.PAUSED]={transitions:[{accept:i.LOGIN_START,to:n.REBUILD_LOGGING_IN},a,o]},r[n.ABNORMAL_WATCH_STATUS]={transitions:[{accept:i.LOGIN_START,to:n.REBUILD_LOGGING_IN},a,o]},r[n.REBUILD_LOGGING_IN]={transitions:[{accept:i.LOGIN_FAIL,to:n.REBUILD_LOGIN_FAIL},{accept:i.LOGIN_SUCCESS,to:n.REBUILD_LOGGED_IN},a,o]},r[n.REBUILD_LOGIN_FAIL]={transitions:[{accept:i.LOGIN_START,to:n.REBUILD_LOGGING_IN},a,o]},r[n.REBUILD_LOGGED_IN]={transitions:[{accept:i.REBUILD_WATCH_START,to:n.REBUILD_WATCH_PENDING},a,o]},r[n.REBUILD_WATCH_PENDING]={transitions:[{accept:i.REBUILD_WATCH_FAIL,to:n.REBUILD_WATCH_FAIL},{accept:i.REBUILD_WATCH_SUCCESS,to:n.REBUILD_WATCH_SUCCESS},a,o]},r[n.REBUILD_WATCH_FAIL]={transitions:[{accept:i.LOGIN_START,to:n.REBUILD_LOGGING_IN},a,o]},r[n.REBUILD_WATCH_SUCCESS]={transitions:[{accept:i.NEED_REBUILD_WATCH,to:n.ABNORMAL_WATCH_STATUS},a,o]},r)},"./src/services/database/api/database/realtime/fsm/ws.ts":function(e,t){var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.WSStates=t.WSEvent=t.WSState=void 0,function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED"}(n=t.WSState||(t.WSState={})),function(e){e.CONNECTION_START="connectionStart",e.CONNECTION_SUCCESS="connectionSuccess",e.CONNECTION_FAIL="connectionFail",e.DISCONNECT="disconnect"}(i=t.WSEvent||(t.WSEvent={})),t.WSStates=((r={})[n.DISCONNECTED]={transitions:[{accept:i.CONNECTION_START,to:n.CONNECTING}]},r[n.CONNECTING]={transitions:[{accept:i.CONNECTION_SUCCESS,to:n.CONNECTED},{accept:i.CONNECTION_FAIL,to:n.DISCONNECTED},{accept:i.DISCONNECT,to:n.DISCONNECTED}]},r[n.CONNECTED]={transitions:[{accept:i.DISCONNECT,to:n.DISCONNECTED},{accept:i.CONNECTION_FAIL,to:n.DISCONNECTED}]},r)},"./src/services/database/api/database/realtime/listener.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RealtimeListener=void 0;var r=function(){return function(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})}}();t.RealtimeListener=r},"./src/services/database/api/database/realtime/message.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isInitEventMessage=t.genRequestId=void 0,t.genRequestId=function(e){return void 0===e&&(e=""),"".concat(e?"".concat(e,"_"):"").concat(+new Date,"_").concat(Math.random())},t.isInitEventMessage=function(e){return"INIT_EVENT"===e.msgType}},"./src/services/database/api/database/realtime/snapshot.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Snapshot=void 0;var r=function(){return function(e){var t=e.id,r=e.docChanges,n=e.docs,i=e.type,o=(e.EJSON,e.requestId),s=e.watchId;Object.defineProperties(this,{id:{value:t,writable:!1,enumerable:!0},docChanges:{value:r,writable:!1,enumerable:!0},docs:{value:n,writable:!1,enumerable:!0},type:{value:i,writable:!1,enumerable:!0}}),this.requestId=o,this.watchId=s}}();t.Snapshot=r},"./src/services/database/api/database/realtime/virtual-websocket-client.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualWebSocketClient=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/set.ts"),o=r("./src/services/database/api/database/realtime/fsm/vws.ts"),s=r("./src/services/database/api/database/realtime/fsm/ws.ts"),a=r("./src/utils/fsm.ts"),u=r("./src/services/database/api/database/realtime/message.ts"),c=r("./src/utils/error.ts"),l=r("./src/config/error.config.ts"),d=r("./src/externals/public-lib/reporter.ts"),f=r("./src/utils/report.ts"),p=r("./src/config/report.config.ts"),_=r("./src/services/database/api/database/realtime/listener.ts"),h=r("./src/services/database/api/database/realtime/snapshot.ts"),E=r("./src/services/database/api/database/realtime/error.ts"),m=2,g=2,v=1e4,S=1e4,y=1e4,T=new Set([o.VWSState.REBUILD_LOGGING_IN,o.VWSState.INIT_LOGGING_IN]),A=function(e){0},b=function(){function e(e){var t=this;this.closeWatchInvoked=!1,this.userOnErrorInvoked=!1,this._loginInvalidated=!1,this._errors=[],this._snapshotHistory=[],this._login=function(e){return n.__awaiter(t,void 0,void 0,function(){var t,r;return n.__generator(this,function(n){switch(n.label){case 0:this._fsm.transition(o.VWSEvent.LOGIN_START),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.login(this.envId,e||this._loginInvalidated,this.timing)];case 2:return t=n.sent(),this.envId||(this.envId=t.envId),this._fsm.transition(o.VWSEvent.LOGIN_SUCCESS,T),this._loginInvalidated=!1,[3,4];case 3:r=n.sent(),this._errors.push(r),this._loginInvalidated=!0;try{this._fsm.transition(o.VWSEvent.LOGIN_FAIL,T)}catch(e){console.warn("[realtime]",e)}return[3,4];case 4:return[2]}})})},this.initWatch=function(){return n.__awaiter(t,void 0,void 0,function(){var e,t,r,i,s,a,c,l,_,E,g,v,y,T,A=this;return n.__generator(this,function(b){switch(b.label){case 0:e=Date.now(),t=(0,u.genRequestId)(),b.label=1;case 1:return b.trys.push([1,3,,4]),this._fsm.transition(o.VWSEvent.INIT_WATCH_START,o.VWSState.INIT_LOGGED_IN),r=this.envId,i={watchId:this.watchId,requestId:t,msgType:"INIT_WATCH",msgData:{envId:r,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy,queryType:this.queryType}},[4,this.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:S})];case 2:if(s=b.sent(),this.assertAsyncTaskStatus(),a=s.msgData,c=a.events,l=a.currEvent,this.sessionInfo={queryID:s.msgData.queryID,currentEventId:l-1,currentDocs:[],currentEventTS:Date.now()},c.length>0){try{for(_=n.__values(c),E=_.next();!E.done;E=_.next())E.value.ID=l}catch(e){y={error:e}}finally{try{E&&!E.done&&(T=_.return)&&T.call(_)}finally{if(y)throw y.error}}this.handleServerEvents(s)}else this.sessionInfo.currentEventId=l,g=new h.Snapshot({id:l,docChanges:[],docs:[],type:"init",EJSON:this.getEJSON(),requestId:s.requestId,watchId:this.watchId}),d.default.surroundThirdByTryCatch(function(){return A.listener.onChange(g)})(),this.scheduleSendACK(),this.debug&&this._snapshotHistory.push(g);return this.onWatchStart(this,this.sessionInfo.queryID),this._availableRetries.INIT_WATCH=m,this._wsDisconnectionTS=void 0,(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_INIT_WATCH_SUCCESS,!0),(0,f.reportAPISpeed)({apiName:"_realtime.initWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),this._fsm.transition(o.VWSEvent.INIT_WATCH_SUCCESS),[3,4];case 3:return v=b.sent(),(0,f.reportAPISpeed)({apiName:"_realtime.initWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),this.handleWatchEstablishmentError(v,{operationName:"INIT_WATCH",requestId:t}),[3,4];case 4:return[2]}})})},this.rebuildWatch=function(){return n.__awaiter(t,void 0,void 0,function(){var e,t,r,i,s,a;return n.__generator(this,function(n){switch(n.label){case 0:e=Date.now(),t=(0,u.genRequestId)(),n.label=1;case 1:if(n.trys.push([1,4,,5]),this._fsm.transition(o.VWSEvent.REBUILD_WATCH_START,o.VWSState.REBUILD_LOGGED_IN),r=this.envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");if(this._wsDisconnectionTS&&Date.now()-this._wsDisconnectionTS>.9*this.getServiceContext().appConfig.realtimeQueryEventCacheTimeout)throw new c.TimeoutError("query event cache timeout, ws has been disconnected for too long, PLEASE RECONNECT manually",{subtype:"queryEventCacheClientTimeout",retryable:!1});return i={watchId:this.watchId,requestId:t,msgType:"REBUILD_WATCH",msgData:{envId:r,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:y})];case 2:return s=n.sent(),this.assertAsyncTaskStatus(),[4,this.handleServerEvents(s)];case 3:return n.sent(),this._availableRetries.REBUILD_WATCH=m,this._wsDisconnectionTS=void 0,(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_REBUILD_WATCH_SUCCESS,!0),(0,f.reportAPISpeed)({apiName:"_realtime.rebuildWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),this._fsm.transition(o.VWSEvent.REBUILD_WATCH_SUCCESS),[3,5];case 4:return a=n.sent(),(0,f.reportAPISpeed)({apiName:"_realtime.rebuildWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),this.handleWatchEstablishmentError(a,{operationName:"REBUILD_WATCH",requestId:t}),[3,5];case 5:return[2]}})})},this.handleWatchEstablishmentError=function(e,r){return n.__awaiter(t,void 0,void 0,function(){var t,i,s=this;return n.__generator(this,function(n){return t="INIT_WATCH"===r.operationName,i=function(n){var i="".concat(n||e," (").concat(t?"initWatch":"rebuildWatch"," requestId ").concat(r.requestId,")");if(s.closeWithError(new c.CloudSDKError({errCode:t?l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:i})),(0,f.reportIDKey)(p.ErrorID,t?p.ErrorKey.REALTIME_DB_INIT_WATCH_FAIL:p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL,!0),!(0,E.isRealtimeErrorMessageError)(e)){if((0,c.isTimeoutError)(e)){switch(e.payload.subtype){case"totalConnectionTimeout":(0,f.reportIDKey)(p.ErrorID,t?p.ErrorKey.REALTIME_DB_INIT_WATCH_FAIL_TIMEOUT_ERROR_TOTAL_CONNECTION:p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL_TIMEOUT_ERROR_TOTAL_CONNECTION,!0);break;case"queryEventCacheClientTimeout":t||(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL_TIMEOUT_ERROR_QUERY_EVENT_CACHE,!0)}return}return(0,c.isCancelledError)(e)?void(0,f.reportIDKey)(p.ErrorID,t?p.ErrorKey.REALTIME_DB_INIT_WATCH_FAIL_CANCELLED_ERROR:p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL_CANCELLED_ERROR,!0):void(0,f.reportIDKey)(p.ErrorID,t?p.ErrorKey.REALTIME_DB_INIT_WATCH_FAIL_UNKNOWN_ERROR:p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL_UNKNOWN_ERROR,!0)}switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":(0,f.reportIDKey)(p.ErrorID,t?p.ErrorKey.REALTIME_DB_INIT_WATCH_FAIL_SERVER_SIGN_ERROR:p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL_SERVER_SIGN_ERROR,!0);break;default:(0,f.reportIDKey)(p.ErrorID,t?p.ErrorKey.REALTIME_DB_INIT_WATCH_FAIL_SERVER_OTHER_ERROR:p.ErrorKey.REALTIME_DB_REBUILD_WATCH_FAIL_SERVER_OTHER_ERROR,!0)}},this._errors.push(e),this.handleCommonError(e,{onSignError:function(){s._loginInvalidated=!0,s._fsm.transition(s.initialized?o.VWSEvent.REBUILD_WATCH_FAIL:o.VWSEvent.INIT_WATCH_FAIL)},onTimeoutError:function(e){e.payload&&!e.payload.retryable?i(e):s._fsm.transition(s.initialized?o.VWSEvent.REBUILD_WATCH_FAIL:o.VWSEvent.INIT_WATCH_FAIL)},onNotRetryableError:i,onCancelledError:function(e){s._fsm.transition(s.initialized?o.VWSEvent.REBUILD_WATCH_FAIL:o.VWSEvent.INIT_WATCH_FAIL)},onUnknownError:function(){s._fsm.transition(s.initialized?o.VWSEvent.REBUILD_WATCH_FAIL:o.VWSEvent.INIT_WATCH_FAIL)}}),[2]})})},this.closeWatch=function(){return n.__awaiter(t,void 0,void 0,function(){var e,t;return n.__generator(this,function(r){switch(r.label){case 0:if(this.closeWatchInvoked=!0,e=this.sessionInfo?this.sessionInfo.queryID:"",this._fsm.currentState===o.VWSState.CLOSED)return[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),this._fsm.transition(o.VWSEvent.CLOSE),[4,this.sendCloseWatch()];case 2:return r.sent(),[3,5];case 3:return t=r.sent(),console.warn("[realtime] non-fatal error while closing watch: ".concat(t)),[3,5];case 4:return this.sessionInfo=void 0,this.onWatchClose(this,e),this._cleanup(),[7];case 5:return[2]}})})},this.sendCloseWatch=function(){return n.__awaiter(t,void 0,void 0,function(){var e;return n.__generator(this,function(t){switch(t.label){case 0:return e={watchId:this.watchId,requestId:(0,u.genRequestId)(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:e})];case 1:return t.sent(),[2]}})})},this.scheduleSendACK=function(){t.clearACKSchedule(),t._ackTimeoutId=setTimeout(function(){t._waitExpectedTimeoutId?t.scheduleSendACK():t.sendACK()},v)},this.clearACKSchedule=function(){t._ackTimeoutId&&clearTimeout(t._ackTimeoutId)},this.sendACK=function(){return n.__awaiter(t,void 0,void 0,function(){var e,t,r;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this._fsm.currentState!==o.VWSState.INIT_WATCH_SUCCESS&&this._fsm.currentState!==o.VWSState.REBUILD_WATCH_SUCCESS?(this.scheduleSendACK(),[2]):this.sessionInfo?(e={watchId:this.watchId,requestId:(0,u.genRequestId)(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:e})]):(console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),[2]);case 1:return n.sent(),this.scheduleSendACK(),[3,3];case 2:if(t=n.sent(),(0,E.isRealtimeErrorMessageError)(t))switch((r=t.payload).msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this._loginInvalidated=!0,this._fsm.currentState!==o.VWSState.INIT_WATCH_SUCCESS&&this._fsm.currentState!==o.VWSState.REBUILD_WATCH_SUCCESS||this._fsm.transition(o.VWSEvent.NEED_REBUILD_WATCH),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code})),[2]}return this._availableRetries.CHECK_LAST&&this._availableRetries.CHECK_LAST>0?(this._availableRetries.CHECK_LAST--,this.scheduleSendACK()):this.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:t})),[3,3];case 3:return[2]}})})},this.handleCommonError=function(e,t){if((0,E.isRealtimeErrorMessageError)(e)){switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":default:return void t.onNotRetryableError(e)}}else{if((0,c.isTimeoutError)(e))return void t.onTimeoutError(e);if((0,c.isCancelledError)(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this._parentFSM=e.parentFSM,this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.queryType=e.queryType,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.getEJSON=e.getEJSON,this.getServiceContext=e.getServiceContext,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.timing=e.timing,this.debug=e.debug,this._availableRetries={INIT_WATCH:m,REBUILD_WATCH:m,CHECK_LAST:g},this._fsm=new a.FSM({initialState:o.VWSState.UNINIT,states:o.VWSStates,history:!0}),this._subscribeParentFSMEvents(),this._subscribeFSMEvents(),this.listener=new _.RealtimeListener({close:this.closeWatch,onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this._parentFSM.currentState===s.WSState.CONNECTED&&this._login(),e.debug&&(this.wsclient=e.wsclient)}return Object.defineProperty(e.prototype,"initialized",{get:function(){return Boolean(this.sessionInfo)},enumerable:!1,configurable:!0}),e.prototype._cleanup=function(){this._parentFSM.unsubscribe(this._parentFSMListener)},e.prototype._subscribeParentFSMEvents=function(){var e=this;this._parentFSMListener=function(t){var r=t.event;t.from,t.to;if(e._fsm.currentState!==o.VWSState.CLOSED)if(r.type===s.WSEvent.DISCONNECT||r.type===s.WSEvent.CONNECTION_FAIL)switch(e._fsm.currentState){case o.VWSState.UNINIT:case o.VWSState.INIT_LOGGING_IN:case o.VWSState.INIT_LOGIN_FAIL:case o.VWSState.INIT_LOGGED_IN:case o.VWSState.INIT_WATCH_PENDING:case o.VWSState.INIT_WATCH_FAIL:e.closeWithError(r.error||new Error("websocket connection fail"),!1);break;default:r.type===s.WSEvent.DISCONNECT?(e._wsDisconnectionTS||(e._wsDisconnectionTS=Date.now()),e._fsm.transition(o.VWSEvent.WS_DISCONNECTED)):e.closeWithError(r.error||new Error("websocket connection fail"),!1)}else if(r.type===s.WSEvent.CONNECTION_SUCCESS)switch(e._fsm.currentState){case o.VWSState.UNINIT:case o.VWSState.PAUSED:e._login();break;case o.VWSState.CLOSED:break;default:console.warn("[realtime] current state should not be ".concat(e._fsm.currentState," (parent event ").concat(r,")"))}},this._parentFSM.subscribe(this._parentFSMListener)},e.prototype._subscribeFSMEvents=function(){var e=this;this._FSMListener=function(t){var r=t.event,n=t.from;t.to;switch(r.type){case o.VWSEvent.WS_CONNECTED:e._login().catch(A);break;case o.VWSEvent.LOGIN_SUCCESS:n===o.VWSState.INIT_LOGGING_IN?e.initWatch().catch(A):n===o.VWSState.REBUILD_LOGGING_IN?e.rebuildWatch().catch(A):e.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:"unexpected state: event ".concat(r.type," from ").concat(n)}));break;case o.VWSEvent.LOGIN_FAIL:n===o.VWSState.INIT_LOGGING_IN?e.useRetryTicket("INIT_WATCH")?e._login().catch(A):e.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:"login fail ".concat(e._errors[e._errors.length-1])})):n===o.VWSState.REBUILD_LOGGING_IN?e.useRetryTicket("REBUILD_WATCH")?e._login().catch(A):e.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:"login fail ".concat(e._errors[e._errors.length-1])})):e.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:"unexpected state: event ".concat(r.type," from ").concat(n)}));break;case o.VWSEvent.INIT_WATCH_SUCCESS:e._availableRetries.INIT_WATCH=m,e._errors=[];break;case o.VWSEvent.INIT_WATCH_FAIL:e.useRetryTicket("INIT_WATCH")?e._login().catch(A):e.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:"init watch fail ".concat(e._errors[e._errors.length-1])}));break;case o.VWSEvent.REBUILD_WATCH_SUCCESS:e._availableRetries.REBUILD_WATCH=m,e._errors=[];break;case o.VWSEvent.REBUILD_WATCH_FAIL:e.useRetryTicket("REBUILD_WATCH")?e._login().catch(A):e.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:"init watch fail ".concat(e._errors[e._errors.length-1])}));break;case o.VWSEvent.NEED_REBUILD_WATCH:e._login().catch(A)}},this._fsm.subscribe(this._FSMListener)},e.prototype.useRetryTicket=function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,!0)},e.prototype.assertAsyncTaskStatus=function(){if(this.closeWatchInvoked)throw new c.CancelledError("closeWatch",{subtype:"closeWatch"});switch(this._fsm.currentState){case o.VWSState.PAUSED:throw new c.CancelledError("pause",{subtype:"pause"});case o.VWSState.CLOSED:throw new c.CancelledError("close",{subtype:"close"})}},e.prototype.handleServerEvents=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this._handleServerEvents(e)];case 1:return r.sent(),this._postHandleServerEventsValidityCheck(e),[3,3];case 2:throw t=r.sent(),(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_HANDLE_EVENT_ERROR,!0),t;case 3:return[2]}})})},e.prototype._handleServerEvents=function(e){return n.__awaiter(this,void 0,void 0,function(){var t,r,s,a,u,_,E,m,g,v,S=this;return n.__generator(this,function(y){if(t=e.requestId,!(r=e.msgData.events).length||!this.sessionInfo)return[2];s=this.sessionInfo;try{a=r.map(C)}catch(e){return this.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:e})),[2]}for(u=n.__spreadArray([],n.__read(s.currentDocs),!1),_=!1,E=function(r,E){var g,v,y=a[r];if(s.currentEventId>=y.id)return!a[r-1]||y.id>a[r-1].id?(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_RECV_DUPLICATE_EVENT,!0):(console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(t,")")),(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_RECV_DUPLICATE_EVENT_AND_EVENT_OUT_OF_ORDER,!0)),"continue";if(s.currentEventId===y.id-1){switch(y.dataType){case"update":if(!y.doc)switch(y.queueType){case"update":case"dequeue":if(I=u.find(function(e){return e._id===y.docId})){var T=JSON.parse(JSON.stringify(I));if(y.updatedFields)for(var A in y.updatedFields)(0,i.set)(T,A,y.updatedFields[A]);if(y.removedFields)try{for(var b=(g=void 0,n.__values(y.removedFields)),C=b.next();!C.done;C=b.next()){A=C.value;(0,i.unset)(T,A)}}catch(e){g={error:e}}finally{try{C&&!C.done&&(v=b.return)&&v.call(b)}finally{if(g)throw g.error}}y.doc=T}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated."),(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_UNEXPECTED_EVENT_DATATYPE_UPDATE_NO_ASSOCIATED_DOC,!0);break;case"enqueue":var O=new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(e.requestId,")")});throw m.closeWithError(O),O}break;case"limit":if(!y.doc)switch(y.queueType){case"dequeue":var I;(I=u.find(function(e){return e._id===y.docId}))?y.doc=I:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType dequeue queueType event where no doc is associated.")}break;case"replace":if(!y.doc){O=new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(e.requestId,")")});throw m.closeWithError(O),O}break;case"remove":(T=u.find(function(e){return e._id===y.docId}))?y.doc=T:(console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_UNEXPECTED_EVENT_REMOVE_NO_ASSOCIATED_DOC,!0))}switch(y.queueType){case"init":_?u.push(y.doc):(_=!0,u=[y.doc]);break;case"enqueue":u.push(y.doc);break;case"dequeue":(R=u.findIndex(function(e){return e._id===y.docId}))>-1?u.splice(R,1):(console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_UNEXPECTED_EVENT_DEQUEUE_NO_ASSOCIATED_DOC,!0));break;case"update":var R;(R=u.findIndex(function(e){return e._id===y.docId}))>-1?u[R]=y.doc:(console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_UNEXPECTED_EVENT_QUEUETYPE_UPDATE_NO_ASSOCIATED_DOC,!0))}if(r===E-1||a[r+1]&&a[r+1].id!==y.id){var w=n.__spreadArray([],n.__read(u),!1),N=a.slice(0,r+1).filter(function(e){return e.id===y.id});m.sessionInfo.currentEventId=y.id,m.sessionInfo.currentDocs=u,m.sessionInfo.currentEventTS=Date.now();var D=new h.Snapshot({id:y.id,type:"init"===N[0].queueType?"init":void 0,docChanges:m.getEJSON().deserialize(N),docs:m.getEJSON().deserialize(w),EJSON:m.getEJSON(),requestId:t,watchId:m.watchId});d.default.surroundThirdByTryCatch(function(){return S.listener.onChange(D)})(),m.debug&&m._snapshotHistory.push(D)}}else(0,f.reportIDKey)(p.ErrorID,p.ErrorKey.REALTIME_DB_EVENT_OUT_OF_ORDER,!0),m._fsm.transition(o.VWSEvent.NEED_REBUILD_WATCH)},m=this,g=0,v=a.length;g<v;g++)E(g,v);return[2]})})},e.prototype._postHandleServerEventsValidityCheck=function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId ".concat(this.sessionInfo.currentEventId," does not match with server event id after server event handling ").concat(e.msgData.currEvent," (requestId ").concat(e.requestId,")"))):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur. (requestId ".concat(e.requestId,")"))},e.prototype.clearWaitExpectedEvent=function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)},e.prototype.onMessage=function(e){var t=this;switch(this._fsm.currentState){case o.VWSState.INIT_WATCH_SUCCESS:case o.VWSState.REBUILD_WATCH_SUCCESS:break;case o.VWSState.PAUSED:if("ERROR"!==e.msgType)return;break;default:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while state is ".concat(this._fsm.currentState))}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":0,this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout(function(){t._fsm.transition(o.VWSEvent.NEED_REBUILD_WATCH)},this.getWaitExpectedTimeoutLength()));break;case"ERROR":this.closeWithError(new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break;default:0}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")},e.prototype.closeWithError=function(e,t){var r=this;if(void 0===t&&(t=!0),this._fsm.currentState!==o.VWSState.CLOSED&&this._fsm.transition(o.VWSEvent.CLOSE),!this.userOnErrorInvoked){var n=this._fsm.getHistoryRepresentation({limit:20});(0,c.isSDKError)(e)?(e.errMsg+="\nhistory ".concat(n),e.history=n):e&&((e=new c.CloudSDKError({errCode:l.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:"".concat(e," \nhistory ").concat(n)})).history=n),this.clearACKSchedule(),d.default.surroundThirdByTryCatch(function(){return r.listener.onError(e)})(),this.userOnErrorInvoked=!0,this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),t&&this.sendCloseWatch().catch(A),this.sessionInfo=void 0}},e}();function C(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=e.removedFields?JSON.parse(e.removedFields):JSON.parse(e.RemovedFields))),t}t.VirtualWebSocketClient=b},"./src/services/database/api/database/realtime/websocket-client.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RealtimeWebSocketClient=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/externals/public-lib/appserviceSdk.ts"),o=r("./src/services/database/api/database/realtime/fsm/ws.ts"),s=r("./src/services/database/api/database/realtime/virtual-websocket-client.ts"),a=r("./src/utils/fsm.ts"),u=r("./src/utils/utils.ts"),c=r("./src/services/database/internal/backend-api/backend-api.ts"),l=r("./src/services/database/api/database/realtime/message.ts"),d=r("./src/services/database/api/database/realtime/ws-event.ts"),f=r("./src/utils/error.ts"),p=r("./src/services/database/api/database/realtime/error.ts"),_=r("./src/config/error.config.ts"),h=r("./src/externals/globals/wxconfig.ts"),E=r("./src/utils/report.ts"),m=r("./src/config/report.config.ts"),g=r("./src/utils/report.ts"),v=r("./src/externals/public-lib/reporter.ts"),S={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},y=3,T=5e3,A=1e4,b=5e3,C=100,O=function(){function e(e){var t=this;this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._signatures=new Map,this._wsResponseWait=new Map,this._rttObserved=[],this._closedWatches=new Set,this.initWebSocketConnection=function(e,s){return void 0===s&&(s=t._maxReconnect),n.__awaiter(t,void 0,void 0,function(){var t,s,a,c,l,d,p,v,S,y=this;return n.__generator(this,function(T){switch(T.label){case 0:if(this._EJSON||(t=function(){return n.__awaiter(this,void 0,void 0,function(){var e,t;return n.__generator(this,function(n){return e=Date.now(),t=r("./src/vendor/bson.bundle.js"),(0,g.reportAPISpeed)({apiName:"_realtime.importBSON",apiStartTime:e,apiEndTime:Date.now()}),[2,t.EJSON]})})}().then(function(e){return y._EJSON=e})),this._fsm.currentState!==o.WSState.DISCONNECTED)return[2];this._fsm.transition(o.WSEvent.CONNECTION_START),this._logins=new Map,this._wsResponseWait=new Map,s=!1,a=[],c=!1,!this._totalConnectionTimeoutId&&this._totalConnectionTimeout&&this._totalConnectionTimeout!==1/0&&(l=this._totalConnectionTimeout,this._totalConnectionTimeoutId=setTimeout(function(){c=!0,y._totalConnectionTimeoutId=void 0;var e=new f.TimeoutError("reconnect timeout (reach totalConnectionTimeout ".concat(l,"s)"),{subtype:"totalConnectionTimeout",retryable:!1});(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_TOTAL_CONNECTION_TIMEOUT,!0),y._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:e})},1e3*l)),d=function(r){var l,d,f,E;return n.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,11,,17]),[4,(0,u.getNetworkStatus)()];case 1:return r.sent().isConnected?[3,5]:e?[3,2]:(p._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:new Error("network offline")}),[2,{value:void 0}]);case 2:return[4,(0,u.onceNetworkOnline)()];case 3:return r.sent(),0===p._virtualWSClient.size?(p.clearTotalReconnectTimeout(),[2,{value:void 0}]):(0,h.isDevTools)()?[4,(0,u.sleep)(C)]:[3,5];case 4:r.sent(),r.label=5;case 5:return c?[2,{value:void 0}]:[4,p.getSignature(p._connectionEnvId)];case 6:return l=r.sent(),c?[2,{value:void 0}]:(d=Date.now(),[4,new Promise(function(e,t){y._ws=(0,i.getSDK)(y._context.identifiers).connectSocket({url:l.wsUrl,header:{"content-type":"application/json"},perMessageDeflate:!0,success:e,fail:t})})]);case 7:return r.sent(),c?[2,{value:void 0}]:((0,g.reportAPISpeed)({apiName:"_realtime.connectSocket",apiStartTime:d,apiEndTime:Date.now()}),[4,p.initWebSocketEvent()]);case 8:return r.sent(),c?[2,{value:void 0}]:t?[4,t]:[3,10];case 9:if(r.sent(),c)return[2,{value:void 0}];r.label=10;case 10:return s=!0,[2,"break"];case 11:return f=r.sent(),a.unshift(f),f.errCode===_.ERR_CODE.TCB_PERMISSION_DENIED?[2,"break"]:[4,(0,u.getNetworkStatus)()];case 12:return E=r.sent().isConnected,c?[2,{value:void 0}]:E?[4,(0,u.sleep)(p._reconnectInterval)]:[3,14];case 13:if(r.sent(),c)return[2,{value:void 0}];r.label=14;case 14:return(0,h.isDevTools)()?[4,(0,u.sleep)(0)]:[3,16];case 15:if(r.sent(),c)return[2,{value:void 0}];r.label=16;case 16:return[3,17];case 17:return[2]}})},p=this,v=this._maxReconnect,T.label=1;case 1:return v>=0?[5,d(v)]:[3,4];case 2:if("object"==typeof(S=T.sent()))return[2,S.value];if("break"===S)return[3,4];T.label=3;case 3:return v--,[3,1];case 4:return s?(this.clearTotalReconnectTimeout(),(0,E.reportIDKey)(m.ErrorID,e?m.ErrorKey.REALTIME_DB_RECONNECT_WS_SUCCESS:m.ErrorKey.REALTIME_DB_INIT_WS_SUCCESS,!0),this._fsm.transition(o.WSEvent.CONNECTION_SUCCESS),[2]):(this.clearTotalReconnectTimeout(),(0,E.reportIDKey)(m.ErrorID,e?m.ErrorKey.REALTIME_DB_RECONNECT_WS_FAIL:m.ErrorKey.REALTIME_DB_INIT_WS_FAIL,!0),e?this._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:new f.CloudSDKError({errCode:_.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL,errMsg:"errors of each retry (latest to oldest): ".concat(JSON.stringify(a.map(function(e){return e+""})))})}):this._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:new f.CloudSDKError({errCode:_.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL,errMsg:"errors of each retry (latest to oldest): ".concat(JSON.stringify(a.map(function(e){return e+""})))})}),[2])}})})},this.initWebSocketEvent=function(){return new Promise(function(e,r){if(!t._ws)throw new Error("can not initWebSocketEvent, ws not exists");var n=!1;t._ws.onOpen(function(r){t._context.debug&&console.warn("[realtime] ws event: open",r),n=!0,e()});var i=null;t._ws.onError(function(e){i=e,t._logins=new Map,n?(t._context.debug&&console.error("[realtime] ws event: error",e),t.clearHeartbeat(),(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONERROR_WHILE_ACTIVE,!0)):(t._context.debug&&console.error("[realtime] ws open failed with ws event: error",e),r(e),(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONERROR_BEFORE_OPEN,!0))}),t._ws.onClose(function(e){t._logins=new Map,t.clearHeartbeat();var r=i||(0,d.getWSCloseError)(e.code);switch(e.code){case d.CLOSE_EVENT_CODE.ReconnectOnServerUpgrade:case d.CLOSE_EVENT_CODE.ReconnectWebSocket:case d.CLOSE_EVENT_CODE.NoRealtimeListeners:t._fsm.transition({type:o.WSEvent.DISCONNECT,error:r});break;case d.CLOSE_EVENT_CODE.HeartbeatPingError:case d.CLOSE_EVENT_CODE.HeartbeatPongTimeoutError:case d.CLOSE_EVENT_CODE.NormalClosure:case d.CLOSE_EVENT_CODE.AbnormalClosure:t._maxReconnect>0?(t._fsm.transition({type:o.WSEvent.DISCONNECT,error:r}),t.initWebSocketConnection(!0)):t._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:r}),e.code===d.CLOSE_EVENT_CODE.HeartbeatPingError?(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE_HEARTBEAT_PING_FAIL,!0):e.code===d.CLOSE_EVENT_CODE.HeartbeatPongTimeoutError?(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE_HEARTBEAT_PONG_TIMEOUT,!0):(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE_AB_NORMAL_CLOSURE,!0);break;case d.CLOSE_EVENT_CODE.UnauthenticatedIdleConnection:t._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:(0,d.getWSCloseError)(e.code,e.reason)}),(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE_SERVER_CLOSE_NO_AUTH,!0);break;case d.CLOSE_EVENT_CODE.ServerUpgrade:t._fsm.transition({type:o.WSEvent.DISCONNECT,error:r}),t.initWebSocketConnection(!0),(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE_SERVER_CLOSE_FOR_UPGRADE,!0);break;default:t._maxReconnect>0?(t._fsm.transition({type:o.WSEvent.DISCONNECT,error:r}),t.initWebSocketConnection(!0)):t._fsm.transition({type:o.WSEvent.CONNECTION_FAIL,error:(0,d.getWSCloseError)(e.code,e.reason)}),(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE_UNKNOWN_ORIGIN,!0)}(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_WS_ONCLOSE,!0)});var s={timing:{},startKey:"apiStartTime",endKey:"apiEndTime",samplePicker:E.socketOnMessageSamplePicker,autoReport:"_realtime.onSocketMessage"};t._ws.onMessage((0,E.wrapTiming)(t.onSocketMessage,s)),t.heartbeat()})},this.isWSConnected=function(){return Boolean(t._ws&&t._ws.readyState===S.OPEN)},this.onSocketMessage=function(e){var r,n=e.data;t.heartbeat();try{r=JSON.parse(n)}catch(e){throw new Error("[realtime] onMessage parse res.data error: ".concat(e))}t._context.debug&&console.log("[realtime] onMessage ".concat(r.msgType," (").concat((new Date).toLocaleString(),")"),r);var i=t._wsResponseWait.get(r.requestId);if(i){try{"ERROR"===r.msgType?i.reject(new p.RealtimeErrorMessageError(r)):i.resolve(r)}catch(e){t._context.debug&&console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{t._wsResponseWait.delete(r.requestId)}if(i.skipOnMessage)return}if("PONG"!==r.msgType){var o=r.watchId&&t._watchIdClientMap.get(r.watchId);if(o)o.onMessage(r);else switch(r.watchId?t._closedWatches.has(r.watchId)?(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_RECV_MSG_WITH_CLOSED_WATCHID,!0):(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_RECV_MSG_WITH_UNKNOWN_WATCHID,!0):(0,E.reportIDKey)(m.ErrorID,m.ErrorKey.REALTIME_DB_RECV_MSG_WITHOUT_WATCHID,!0),r.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(o=t._queryIdClientMap.get(r.msgData.queryID))&&o.onMessage(r)}}else if(t._lastPingSendTS){var s=Date.now()-t._lastPingSendTS;if(s>A)return void(t._context.debug&&console.warn("[realtime] untrusted rtt observed: ".concat(s)));t._rttObserved.length>=y&&t._rttObserved.splice(0,t._rttObserved.length-y+1),t._rttObserved.push(s)}},this.login=function(e,r,i){return n.__awaiter(t,void 0,void 0,function(){var t,o,s,a,c,d,f,p,_=this;return n.__generator(this,function(h){switch(h.label){case 0:if(e=e||this._context.env||this._defaultEnvId,!r)if(e){if(t=this._logins.get(e)){if(t.loggedIn&&t.loginResult)return[2,t.loginResult];if(t.loggingInPromise)return[2,t.loggingInPromise]}}else if((o=this._logins.get(""))&&o.loggingInPromise)return[2,o.loggingInPromise];0,s=new Promise(function(t,o){return n.__awaiter(_,void 0,void 0,function(){var s,a,c,d,f;return n.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,i?(0,E.wrapTiming)(this.getSignature(e,r),{timing:i,startKey:"tunnelStartTime",endKey:"tunnelEndTime",condition:{emptyKey:!0}}):this.getSignature(e,r)];case 1:return s=n.sent(),a=(0,u.getWXVersion)(),c={watchId:void 0,requestId:(0,l.genRequestId)(),msgType:"LOGIN",msgData:{envId:s.envId,signStr:s.signStr,secretVersion:s.secretVersion,referrer:"mp",sdkVersion:a.version,dataVersion:a.updateDateInDashes}},[4,this.send({msg:c,waitResponse:!0,skipOnMessage:!0,timeout:b})];case 2:return(d=n.sent()).msgData.code?o(new Error("".concat(d.msgData.code," ").concat(d.msgData.message))):t({envId:s.envId}),[3,4];case 3:return f=n.sent(),o(f),[3,4];case 4:return[2]}})})}),a=e&&this._logins.get(e),c=Date.now(),a?(a.loggedIn=!1,a.loggingInPromise=s,a.loginStartTS=c):(a={loggedIn:!1,loggingInPromise:s,loginStartTS:c},this._logins.set(e||"",a)),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,s];case 2:if(d=h.sent(),(f=this._logins.get(e||""))&&f===a&&f.loginStartTS===c)return a.loggedIn=!0,a.loggingInPromise=void 0,a.loginStartTS=void 0,a.loginResult=d,[2,d];if(f){if(f.loggedIn&&f.loginResult)return[2,f.loginResult];if(f.loggingInPromise)return[2,f.loggingInPromise];throw new Error("ws unexpected login info")}throw new Error("ws login info reset");case 3:throw p=h.sent(),a.loggedIn=!1,a.loggingInPromise=void 0,a.loginStartTS=void 0,a.loginResult=void 0,p;case 4:return[2]}})})},this.getSignature=function(e,r){return n.__awaiter(t,void 0,void 0,function(){var t,i,o,s;return n.__generator(this,function(a){switch(a.label){case 0:if(e=e||this._context.env||this._defaultEnvId,!r&&e&&this._signatures.has(e)){if(t=this._signatures.get(e),Date.now()<t.expireTS)return[2,t]}else 0;return i=Date.now()+6e4,[4,(0,c.getRealtimeConnectionSignature)(this._context,e)];case 1:return o=a.sent(),Date.now()-i>6e4?[2,this.getSignature(e,r)]:(s=n.__assign(n.__assign({},o),{expireTS:i}),this._signatures.set(s.envId,s),e||(this._defaultEnvId=s.envId),[2,s])}})})},this.getWaitExpectedTimeoutLength=function(){return t._rttObserved.length?t._rttObserved.reduce(function(e,t){return e+t})/t._rttObserved.length*1.5:T},this.ping=function(){return n.__awaiter(t,void 0,void 0,function(){var e;return n.__generator(this,function(t){switch(t.label){case 0:return e={watchId:void 0,requestId:(0,l.genRequestId)(),msgType:"PING",msgData:null},[4,this.send({msg:e})];case 1:return t.sent(),this._context.debug&&console.log("ping sent"),[2]}})})},this.send=function(e){return new Promise(function(r,i){return n.__awaiter(t,void 0,void 0,function(){var t,s,a,c,l,d=this;return n.__generator(this,function(p){if(this._fsm.currentState!==o.WSState.CONNECTED)return[2,i(new Error("websocket not connected"))];s=!1,a=!1,c=function(e){s=!0,t&&clearTimeout(t),r(e)},l=function(e){a=!0,t&&clearTimeout(t),i(e)},e.timeout&&(t=setTimeout(function(){return n.__awaiter(d,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return s&&a?[3,2]:[4,(0,u.sleep)(0)];case 1:e.sent(),s&&a||l(new f.TimeoutError("wsclient.send timedout")),e.label=2;case 2:return[2]}})})},e.timeout));try{if(this._context.debug&&console.log("[realtime] ws send ".concat(e.msg.msgType," (").concat((new Date).toLocaleString(),"): "),e),!this._ws)return l(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this._ws.readyState!==S.OPEN)return l(new Error("ws readyState invalid: ".concat(this._ws.readyState,", can not send message"))),[2];e.waitResponse&&this._wsResponseWait.set(e.msg.requestId,{resolve:c,reject:l,skipOnMessage:e.skipOnMessage}),this._ws.send({data:JSON.stringify(e.msg),success:function(t){e.waitResponse||c(t)},fail:function(t){l(t),e.waitResponse&&d._wsResponseWait.delete(e.msg.requestId)}})}catch(e){l(e)}return[2]})})})},this.onWatchStart=function(e,r){t._queryIdClientMap.set(r,e)},this.onWatchClose=function(e,r){r&&t._queryIdClientMap.delete(r),t._watchIdClientMap.delete(e.watchId),t._virtualWSClient.delete(e),t._closedWatches.add(e.watchId),t._virtualWSClient.size||t.close(d.CLOSE_EVENT_CODE.NoRealtimeListeners)},this.getEJSON=function(){return t._EJSON},this._fsm=new a.FSM({initialState:o.WSState.DISCONNECTED,states:o.WSStates}),this._serviceContext=e.serviceContext}return Object.defineProperty(e.prototype,"_context",{get:function(){return this._serviceContext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_maxReconnect",{get:function(){return this._context.appConfig.realtimeMaxReconnect},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_reconnectInterval",{get:function(){return this._context.appConfig.realtimeReconnectInterval},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_totalConnectionTimeout",{get:function(){return this._context.appConfig.realtimeTotalConnectionTimeout},enumerable:!1,configurable:!0}),e.prototype.heartbeat=function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(function(){return n.__awaiter(t,void 0,void 0,function(){var e=this;return n.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this._ws&&this._ws.readyState===S.OPEN?(this._lastPingSendTS=Date.now(),[4,this.ping()]):[2];case 1:return t.sent(),this._pingFailed=0,this._pongTimeoutId=setTimeout(function(){e._context.debug&&console.error("pong timed out"),e._pongMissed<2?(e._pongMissed++,e.heartbeat(!0)):e.close(d.CLOSE_EVENT_CODE.HeartbeatPongTimeoutError)},this._context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return t.sent(),this._pingFailed<2?(this._pingFailed++,this.heartbeat()):this.close(d.CLOSE_EVENT_CODE.HeartbeatPingError),[3,3];case 3:return[2]}})})},e?0:this._context.appConfig.realtimePingInterval)},e.prototype.clearHeartbeat=function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)},e.prototype.clearTotalReconnectTimeout=function(){this._totalConnectionTimeoutId&&clearTimeout(this._totalConnectionTimeoutId)},e.prototype.close=function(e){this.clearHeartbeat(),this._ws&&(this._ws.close({code:e,reason:d.CLOSE_EVENT_CODE_INFO[e].name}),this._ws=void 0)},e.prototype.watch=function(e){var t=this,r={apiStartTime:Date.now()},i=!1,a=function(){(0,g.reportAPISpeed)(n.__assign(n.__assign({},r),{apiName:e.reportAPIName}))},u=e.onChange,c=e.onError;this._fsm.currentState===o.WSState.DISCONNECTED&&(this._connectionEnvId=e.envId,this.initWebSocketConnection(!1));var l=new s.VirtualWebSocketClient(n.__assign(n.__assign({},e),{parentFSM:this._fsm,send:this.send,login:this.login,isWSConnected:this.isWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,getEJSON:this.getEJSON,getServiceContext:function(){return t._context},onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,timing:r,debug:this._context.debug,wsclient:this,onChange:f,onError:p}));this._virtualWSClient.add(l),this._watchIdClientMap.set(l.watchId,l);var d=l.listener;return d;function f(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i||(i=!0,r.apiEndTime=Date.now(),a()),_(),v.default.surroundThirdByTryCatch(function(){return d.onChange.apply(e,t)})()}function p(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i||(i=!0,r.apiEndTime=Date.now(),a()),_(),v.default.surroundThirdByTryCatch(function(){return d.onError.apply(e,t)})()}function _(){d.onChange===f&&(d.onChange=u),d.onError===p&&(d.onError=c)}},e}();t.RealtimeWebSocketClient=O},"./src/services/database/api/database/realtime/ws-event.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getWSCloseError=t.CLOSE_EVENT_CODE=t.CLOSE_EVENT_CODE_INFO=void 0;var n=r("./src/utils/error.ts"),i=r("./src/config/error.config.ts");t.CLOSE_EVENT_CODE_INFO={1000:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3000:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3004:{code:3004,name:"Client Reconnect on Server Upgrade",description:"The client is terminating the connection in response to server upgrade"},3050:{code:3050,name:"Server Close Unauthenticated Idle Connection",description:"The server is terminating the connection because the connection is idle and not authenticated"},3051:{code:3051,name:"Server Upgrade",description:"The server is terminating the connection because it is upgrading"},3052:{code:3052,name:"Server Requires Authentication",description:"The server is terminating the connection because it has not received authentication message as the connection's first message"}},function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.ReconnectOnServerUpgrade=3004]="ReconnectOnServerUpgrade",e[e.UnauthenticatedIdleConnection=3050]="UnauthenticatedIdleConnection",e[e.ServerUpgrade=3051]="ServerUpgrade",e[e.AuthenticationRequired=3052]="AuthenticationRequired"}(t.CLOSE_EVENT_CODE||(t.CLOSE_EVENT_CODE={}));t.getWSCloseError=function(e,r){var o=t.CLOSE_EVENT_CODE_INFO[e],s=o?"".concat(o.name,", code ").concat(e,", reason ").concat(r||o.description):"code ".concat(e);return new n.CloudSDKError({errCode:i.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:s})}},"./src/services/database/api/database/regexp.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RegExp=t.regExp=void 0;var n=r("./src/services/database/api/database/helper/symbol.ts"),i=r("./src/utils/assert.ts");t.regExp=function(e){return new o(e)};var o=function(){function e(e){(0,i.assertType)(e,{regexp:"string"},"RegExp options"),e.options&&(0,i.assertType)(e.options,"string"),this.regexp=e.regexp,this.options=e.options||""}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return n.SYMBOL_REGEXP},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return{$regex:this.regexp,$options:this.options}},e}();t.RegExp=o},"./src/services/database/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerService=void 0;var n=r("./src/services/database/api/api.ts"),i="database";t.registerService=function(e){e.registerService(function(e){var t={name:i,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get env(){return e.getEnvForService(i)},appConfig:{get docSizeLimit(){return e.appConfig.db_doc_size_limit},get realtimePingInterval(){return e.appConfig.db_realtime_ping_interval},get realtimePongWaitTimeout(){return e.appConfig.db_realtime_pong_wait_timeout},get realtimeMaxReconnect(){return e.config.database.realtime.maxReconnect},get realtimeReconnectInterval(){return e.config.database.realtime.reconnectInterval},get realtimeTotalConnectionTimeout(){return e.config.database.realtime.totalConnectionTimeout},get realtimeQueryEventCacheTimeout(){return e.appConfig.db_realtime_query_event_cache_timeout}}};return{name:i,context:t,getAPIs:n.getAPIs.bind(null,t)}}(e))}},"./src/services/database/internal/backend-api/backend-api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getRealtimeConnectionSignature=t.runAggregate=t.countDocument=t.setDocument=t.updateDocument=t.queryDocument=t.removeDocument=t.addDocument=t.ORDER_DIRECTION=t._ID_TYPE=t.QUERY_TYPE=void 0;var n,i,o=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),s=r("./src/utils/assert.ts"),a=r("./src/utils/type.ts"),u=r("./src/externals/globals/wxconfig.ts");!function(e){e[e.WHERE=0]="WHERE",e[e.DOC=1]="DOC"}(n=t.QUERY_TYPE||(t.QUERY_TYPE={})),function(e){e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(i=t._ID_TYPE||(t._ID_TYPE={})),function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(t.ORDER_DIRECTION||(t.ORDER_DIRECTION={})),t.addDocument=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,r,n,a,u,c,l,d,f,p;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.env,r=e.collectionName,n=e.data,a=e.instanceContext,u=e.timing,c=JSON.stringify(n),(0,s.assertStringLength)({input:c,max:a.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:"".concat((a.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)," KB")}),l={collection_name:r,data:c},d=JSON.stringify(l),u.tunnelStartTime=+new Date,[4,a.serviceContext.request({apiName:"tcbapi_db_adddocument",serviceName:a.serviceContext.name,serializedReqData:d,requireDataNotEmpty:!0,env:t||a.serviceContext.env})];case 1:return f=o.sent(),u.tunnelEndTime=+new Date,p=f.data,u.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time,[2,{_id:p._id_type===i.NUMBER?p._id_number:p._id}]}})})},t.removeDocument=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,i,s,a,c,l,d,f,p,_,h;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.collectionName,i=e.query,s=e.options,a=e.instanceContext,c=e.timing,l=e.env,d=(0,u.isDevTools)()?e.explain:void 0,f=s&&s.multi,p=JSON.stringify({collection_name:t,query:JSON.stringify(i),multi:f,query_type:f?n.WHERE:n.DOC,explain:d}),c.tunnelStartTime=+new Date,[4,a.serviceContext.request({apiName:"tcbapi_db_deletedocument",serviceName:a.serviceContext.name,serializedReqData:p,requireDataNotEmpty:!0,env:l||a.serviceContext.env})];case 1:return _=o.sent(),c.tunnelEndTime=+new Date,d?[2,r("./src/vendor/bson.bundle.js").EJSON.deserialize(_.data)]:(h=_.data,c.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,[2,{removed:h.deleted}])}})})},t.queryDocument=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,i,s,a,c,l,d,f,p,_,h,E,m;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.env,n=e.collectionName,i=e.query,s=e.options,a=void 0===s?{}:s,c=e.instanceContext,l=e.timing,d=e.queryType,f=(0,u.isDevTools)()?e.explain:void 0,p={collection_name:n,query:JSON.stringify(i),query_type:d,explain:f},a.offset&&(p.offset=a.offset),a.limit&&(p.limit=a.limit),a.order&&(p.order=a.order),a.projection&&(p.projection=JSON.stringify(a.projection)),_=JSON.stringify(p),l.tunnelStartTime=+new Date,[4,c.serviceContext.request({apiName:"tcbapi_db_querydocument",serviceName:c.serviceContext.name,serializedReqData:_,requireDataNotEmpty:!0,env:t||c.serviceContext.env})];case 1:return h=o.sent(),l.tunnelEndTime=+new Date,f?[2,r("./src/vendor/bson.bundle.js").EJSON.deserialize(h.data)]:(E=h.data,l.tunnelTimeNoCSNetCost=E.baseresponse.stat.qbase_cost_time,m=E.data_list?JSON.parse(E.data_list):[],[2,{list:m=c.engine.Decoder.decode(m),offset:E.offset,limit:E.limit,total:E.total}])}})})},t.updateDocument=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,i,a,c,l,d,f,p,_,h,E,m,g,v;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.env,n=e.collectionName,i=e.query,a=e.data,c=e.options,l=void 0===c?{}:c,d=e.instanceContext,f=e.timing,p=e.queryType,_=(0,u.isDevTools)()?e.explain:void 0,h=JSON.stringify(a),(0,s.assertStringLength)({input:h,max:d.serviceContext.appConfig.docSizeLimit,name:"update expression",maxWording:"".concat((d.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)," KB")}),(E={collection_name:n,query:JSON.stringify(i),data:h,query_type:p,explain:_}).multi=!1!==l.multi,E.merge=!1!==l.merge,l.upsert&&(E.upsert=l.upsert),m=JSON.stringify(E),f.tunnelStartTime=+new Date,[4,d.serviceContext.request({apiName:"tcbapi_db_updatedocument",serviceName:d.serviceContext.name,serializedReqData:m,requireDataNotEmpty:!0,env:t||d.serviceContext.env})];case 1:return g=o.sent(),f.tunnelEndTime=+new Date,_?[2,r("./src/vendor/bson.bundle.js").EJSON.deserialize(g.data)]:(v=g.data,f.tunnelTimeNoCSNetCost=v.baseresponse.stat.qbase_cost_time,[2,{updated:v.updated}])}})})},t.setDocument=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,r,n,u,c,l,d,f,p,_,h,E;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.env,r=e.collectionName,n=e._id,u=e.data,e.options,c=e.instanceContext,l=e.timing,d=JSON.stringify(u),(0,s.assertStringLength)({input:d,max:c.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:"".concat((c.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)," KB")}),f=(0,a.isNumber)(n),p={collection_name:r,_id_type:f?i.NUMBER:i.STRING,data:d},f?p._id_number=n:p._id=n,_=JSON.stringify(p),l.tunnelStartTime=+new Date,[4,c.serviceContext.request({apiName:"tcbapi_db_setdocument",serviceName:c.serviceContext.name,serializedReqData:_,requireDataNotEmpty:!0,env:t||c.serviceContext.env})];case 1:return h=o.sent(),l.tunnelEndTime=+new Date,E=h.data,l.tunnelTimeNoCSNetCost=E.baseresponse.stat.qbase_cost_time,[2,{_id:E._id_type===i.NUMBER?E._id_number:E._id,updated:E._id?0:1,created:E._id?1:0}]}})})},t.countDocument=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,i,s,a,c,l,d,f,p,_;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.env,i=e.collectionName,s=e.query,a=e.instanceContext,c=e.timing,l=(0,u.isDevTools)()?e.explain:void 0,d={collection_name:i,query:JSON.stringify(s),query_type:n.WHERE,explain:l},f=JSON.stringify(d),c.tunnelStartTime=+new Date,[4,a.serviceContext.request({apiName:"tcbapi_db_countdocument",serviceName:a.serviceContext.name,serializedReqData:f,requireDataNotEmpty:!0,env:t||a.serviceContext.env})];case 1:return p=o.sent(),c.tunnelEndTime=+new Date,l?[2,r("./src/vendor/bson.bundle.js").EJSON.deserialize(p.data)]:(_=p.data,c.tunnelTimeNoCSNetCost=_.baseresponse.stat.qbase_cost_time,[2,{total:_.total}])}})})},t.runAggregate=function(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,i,s,a,c,l,d,f,p,_;return o.__generator(this,function(o){switch(o.label){case 0:return t=e.env,n=e.collectionName,i=e.stages,s=e.instanceContext,a=e.timing,c=(0,u.isDevTools)()?e.explain:void 0,l={collection_name:n,stages:i.map(function(e){for(var t in e)return{stage_key:t,stage_value:JSON.stringify(e[t])};throw new Error("empty encoded stage (".concat(JSON.stringify(e),")"))}),explain:c},d=JSON.stringify(l),a.tunnelStartTime=+new Date,[4,s.serviceContext.request({apiName:"tcbapi_db_aggregate",serviceName:s.serviceContext.name,serializedReqData:d,requireDataNotEmpty:!0,env:t||s.serviceContext.env})];case 1:return f=o.sent(),a.tunnelEndTime=+new Date,c?[2,r("./src/vendor/bson.bundle.js").EJSON.deserialize(f.data)]:(p=f.data,a.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time,_=r("./src/vendor/bson.bundle.js").EJSON,[2,{list:JSON.parse(p.list).map(function(e){return _.parse(e)})}])}})})},t.getRealtimeConnectionSignature=function(e,t){return o.__awaiter(this,void 0,void 0,function(){var r,n;return o.__generator(this,function(i){switch(i.label){case 0:return[4,e.request({apiName:"tcbapi_db_get_realtime_connection",env:t||e.env,serviceName:e.name,serializedReqData:JSON.stringify({}),requireDataNotEmpty:!0})];case 1:return r=i.sent(),[2,{envId:(n=r.data).env_id,secretVersion:n.secret_version,signStr:n.sign_str,wsUrl:n.ws_url}]}})})}},"./src/services/database/internal/grammar/default/extractor.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectionDefinition=t.extractQueryOptions=void 0;var n=r("./src/services/database/api/database/query.ts"),i=r("./src/services/database/internal/backend-api/backend-api.ts"),o=r("./src/services/database/internal/grammar/default/serializer/common.ts");t.extractQueryOptions=function(e,t){return{limit:e._query.limit,offset:e._query.offset,order:function(e){return e.map(function(e){return{field:e.fieldPath,direction:e.order===n.ORDER_DIRECTION.DESC?i.ORDER_DIRECTION.DESC:i.ORDER_DIRECTION.ASC}})}(e._query.order||[]),projection:t.engine.ProjectionSerializer.encode(e._field)}},t.getProjectionDefinition=function(e){var t=(0,o.flattenObject)(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:delete t[r];return t}},"./src/services/database/internal/grammar/default/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/internal/grammar/default/extractor.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/operator-map.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer.ts"),t)},"./src/services/database/internal/grammar/default/operator-map.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.aggregateOperatorToString=t.operatorToString=t.AggregateOperatorMap=t.OperatorMap=void 0;var n=r("./src/services/database/api/database/commands/query.ts"),i=r("./src/services/database/api/database/commands/logic.ts"),o=r("./src/services/database/api/database/commands/update.ts"),s=r("./src/services/database/api/database/commands/aggregate.ts");for(var a in t.OperatorMap={},t.AggregateOperatorMap={},n.QUERY_COMMANDS_LITERAL)t.OperatorMap[n.QUERY_COMMANDS_LITERAL[a]]="$".concat(n.QUERY_COMMANDS_LITERAL[a]);for(var a in i.LOGIC_COMMANDS_LITERAL)t.OperatorMap[i.LOGIC_COMMANDS_LITERAL[a]]="$".concat(i.LOGIC_COMMANDS_LITERAL[a]);for(var a in o.UPDATE_COMMANDS_LITERAL)t.OperatorMap[o.UPDATE_COMMANDS_LITERAL[a]]="$".concat(o.UPDATE_COMMANDS_LITERAL[a]);for(var a in s.AGGREGATE_COMMANDS_LITERAL)t.AggregateOperatorMap[s.AGGREGATE_COMMANDS_LITERAL[a]]="$".concat(s.AGGREGATE_COMMANDS_LITERAL[a]);t.OperatorMap[n.QUERY_COMMANDS_LITERAL.NEQ]="$ne",t.OperatorMap[o.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",t.OperatorMap[o.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",t.OperatorMap[o.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push",t.OperatorMap[n.QUERY_COMMANDS_LITERAL.GEO_NEAR]="$nearSphere",t.OperatorMap[n.QUERY_COMMANDS_LITERAL.GEO_WITHIN]="$geoWithin",t.OperatorMap[n.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS]="$geoIntersects",t.operatorToString=function(e){return t.OperatorMap[e]||"$".concat(e.toLowerCase())},t.aggregateOperatorToString=function(e){return t.AggregateOperatorMap[e]||"$".concat(e.toLowerCase())}},"./src/services/database/internal/grammar/default/serializer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js");n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/query.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/update.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/projection.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/decoder.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/aggregate.ts"),t),n.__exportStar(r("./src/services/database/internal/grammar/default/serializer/common.ts"),t)},"./src/services/database/internal/grammar/default/serializer/aggregate.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateSerializer=void 0;var n=r("./src/services/database/internal/grammar/default/serializer/common.ts"),i=r("./src/services/database/api/database/aggregate.ts"),o=r("./src/services/database/api/database/commands/aggregate.ts"),s=r("./src/utils/type.ts"),a=r("./src/services/database/internal/grammar/default/operator-map.ts"),u=r("./src/services/database/internal/grammar/default/serializer/query.ts"),c=function(){function e(){}return e.encodeStages=function(e){return(new l).encodeStages(e)},e.encode=function(e){return(new l).encodeAny(e)},e}();t.AggregateSerializer=c;var l=function(){function e(){}return e.prototype.encodeStages=function(e){var t=this;return e.map(function(e){return t.encodePipelineStage(e)})},e.prototype.encodeAny=function(e){var t=this;return(0,n.isConversionRequired)(e)?(0,i.isPipeline)(e)?this.encodePipeline(e):(0,i.isPipelineStage)(e)?this.encodePipelineStage(e):(0,o.isAggregateCommand)(e)?this.encodeAggregateCommand(e):(0,n.encodeInternalDataType)(e):(0,s.isObject)(e)?this.encodeObject(e):(0,s.isArray)(e)?e.map(function(e){return t.encodeAny(e)}):e},e.prototype.encodeObject=function(e){var t={};for(var r in e)t[r]=this.encodeAny(e[r]);return t},e.prototype.encodePipeline=function(e){var t=this;return e._stages.map(function(e){return t.encodeAny(e)})},e.prototype.encodePipelineStage=function(e){var t,r,n="$".concat(e.stage);switch(e.stage){case"match":return(t={})[n]=u.QuerySerializer.encode(e.val),t;default:return(r={})[n]=this.encodeAny(e.val),r}},e.prototype.encodeAggregateCommand=function(e){var t;return(t={})[(0,a.aggregateOperatorToString)(e.operator)]=this.encodeAny(e.operands[0]),t},e}()},"./src/services/database/internal/grammar/default/serializer/common.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeInternalDataType=t.encodeInternalDataType=t.isConversionRequired=t.mergeConditionAfterEncode=t.flattenObject=t.flattenQueryObject=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/error.ts"),o=r("./src/config/error.config.ts"),s=r("./src/utils/type.ts"),a=r("./src/services/database/internal/grammar/default/serializer/datatype.ts");function u(e,t,r,a){var c=n.__assign({},e);for(var l in e)if(!/^\$/.test(l)){var d=e[l];if(d&&(0,s.isObject)(d)&&!t(d)){if(a.indexOf(d)>-1)throw new i.CloudSDKError({errCode:o.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var f=u(d,t,n.__spreadArray(n.__spreadArray([],n.__read(r),!1),[l],!1),n.__spreadArray(n.__spreadArray([],n.__read(a),!1),[d],!1));c[l]=f;var p=!1;for(var _ in f)/^\$/.test(_)?p=!0:(c["".concat(l,".").concat(_)]=f[_],delete c[l][_]);p||delete c[l]}}return c}function c(e){return(0,s.isInternalObject)(e)||(0,s.isDate)(e)||(0,s.isRegExp)(e)}t.flattenQueryObject=function(e){return u(e,c,[],[e])},t.flattenObject=function(e){return u(e,function(e){return!1},[],[e])},t.mergeConditionAfterEncode=function(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?(0,s.isArray)(e[n])?e[n].push(t[n]):(0,s.isObject)(e[n])?(0,s.isObject)(t[n])?Object.assign(e[n],t[n]):(console.warn("unmergable condition, query is object but condition is ".concat((0,s.getType)(t),", can only overwrite"),t,r),e[n]=t[n]):(console.warn("to-merge query is of type ".concat((0,s.getType)(e),", can only overwrite"),e,t,r),e[n]=t[n]):e[n]=t[n]},t.isConversionRequired=c,t.encodeInternalDataType=function(e){return(0,a.serialize)(e)},t.decodeInternalDataType=function(e){return(0,a.deserialize)(e)}},"./src/services/database/internal/grammar/default/serializer/datatype.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/services/database/api/database/helper/symbol.ts"),o=r("./src/utils/type.ts"),s=r("./src/services/database/api/database/date.ts"),a=r("./src/utils/error.ts"),u=r("./src/config/error.config.ts"),c=r("./src/services/database/api/database/helper/geojson.ts");t.serialize=function(e){return function e(t,r){if(!(0,o.isInternalObject)(t)){if((0,o.isDate)(t))return{$date:+t};if((0,o.isRegExp)(t))return{$regex:t.source,$options:t.flags};if((0,o.isArray)(t))return t.map(function(t){if(r.indexOf(t)>-1)throw new a.CloudSDKError({errCode:u.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return e(t,n.__spreadArray(n.__spreadArray([],n.__read(r),!1),[t],!1))});if((0,o.isObject)(t)){var s=n.__assign({},t);for(var c in s){if(r.indexOf(s[c])>-1)throw new a.CloudSDKError({errCode:u.ERR_CODE.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});s[c]=e(s[c],n.__spreadArray(n.__spreadArray([],n.__read(r),!1),[s[c]],!1))}return s}return t}switch(t._internalType){case i.SYMBOL_GEO_POINT:case i.SYMBOL_GEO_MULTIPOINT:case i.SYMBOL_GEO_LINESTRING:case i.SYMBOL_GEO_MULTILINESTRING:case i.SYMBOL_GEO_POLYGON:case i.SYMBOL_GEO_MULTIPOLYGON:return t.toJSON();case i.SYMBOL_SERVER_DATE:return{$date:t.options};case i.SYMBOL_REGEXP:return{$regex:t.regexp,$options:t.options};default:return t.toJSON?t.toJSON():t}}(e,[e])},t.deserialize=function(e){var t=n.__assign({},e);for(var r in t)switch(r){case"$date":switch((0,o.getType)(t[r])){case"number":return new Date(t[r]);case"object":return(0,s.serverDate)(t[r])}break;case"type":switch(t.coordinates,t.type){case"Point":if((0,c.isGeoJSONPoint)(t))return(0,c.toPoint)(t);break;case"MultiPoint":if((0,c.isGeoJSONMultiPoint)(t))return(0,c.toMultiPoint)(t);break;case"LineString":if((0,c.isGeoJSONLineString)(t))return(0,c.toLineString)(t);break;case"MultiLineString":if((0,c.isGeoJSONMultiLineString)(t))return(0,c.toMultiLineString)(t);break;case"Polygon":if((0,c.isGeoJSONPolygon)(t))return(0,c.toPolygon)(t);break;case"MultiPolygon":if((0,c.isGeoJSONMultiPolygon)(t))return(0,c.toMultiPolygon)(t)}}return e}},"./src/services/database/internal/grammar/default/serializer/decoder.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/type.ts"),o=r("./src/services/database/internal/grammar/default/serializer/common.ts"),s=function(){function e(){}return e.decode=function(t){return(new e).decodeData(t)},e.prototype.decodeData=function(e){var t=this;switch((0,i.getType)(e)){case"object":return this.decodeObject(e);case"array":return e.map(function(e){if((0,i.isObject)(e)){var r=(0,o.decodeInternalDataType)(e);return r!==e?r:t.decodeObject(e)}return e});default:return e}},e.prototype.decodeObject=function(e){var t=n.__assign({},e);for(var r in t){var s=t[r];switch((0,i.getType)(s)){case"object":var a=(0,o.decodeInternalDataType)(s);t[r]=a!==s?a:this.decodeObject(t[r]);break;case"array":(a=this.decodeData(s))!==s&&(t[r]=a);break;default:continue}}return t},e}();t.Decoder=s},"./src/services/database/internal/grammar/default/serializer/projection.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectionSerializer=void 0;var n=r("./src/services/database/api/database/commands/projection.ts"),i=r("./src/utils/type.ts"),o=r("./src/services/database/internal/grammar/default/operator-map.ts"),s=r("./src/services/database/internal/grammar/default/serializer/common.ts"),a=function(){function e(){}return e.encode=function(t){return(new e).encodeProjection(t)},e.prototype.encodeProjection=function(e){return(0,n.isProjectionCommand)(e)?this.encodeProjectionCommand(e):"object"===(0,i.getType)(e)?this.encodeProjectionObject(e):e},e.prototype.encodeProjectionCommand=function(e){var t,r=(0,o.operatorToString)(e.operator);switch(e.operator){case n.PROJECTION_COMMANDS_LITERAL.SLICE:default:return(t={})[r]=e.operands[0],t}},e.prototype.encodeProjectionObject=function(e){var t=(0,s.flattenQueryObject)(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:(0,n.isProjectionCommand)(t[r])?t[r]=this.encodeProjectionCommand(t[r]):delete t[r];return t},e}();t.ProjectionSerializer=a},"./src/services/database/internal/grammar/default/serializer/query.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.QuerySerializer=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/type.ts"),o=r("./src/services/database/api/database/commands/logic.ts"),s=r("./src/services/database/api/database/commands/query.ts"),a=r("./src/services/database/internal/grammar/default/operator-map.ts"),u=r("./src/services/database/internal/grammar/default/serializer/common.ts"),c=r("./src/services/database/internal/grammar/default/serializer/aggregate.ts"),l=r("./src/services/database/api/database/aggregate.ts"),d=r("./src/services/database/api/database/commands/aggregate.ts"),f=function(){function e(){}return e.encode=function(e){return(0,t.encode)(e)},e}();t.QuerySerializer=f;t.encode=function(e){return(0,o.isLogicCommand)(e)?_(e):(0,s.isQueryCommand)(e)?h(e):(0,l.isPipeline)(e)||(0,d.isAggregateCommand)(e)||(0,l.isPipelineStage)(e)?c.AggregateSerializer.encode(e):(0,i.isObject)(e)?p(e):(0,u.encodeInternalDataType)(e)};var p=function(e){var r,n=(0,u.flattenQueryObject)(e),i=[],c=((r={})[o.LOGIC_COMMANDS_LITERAL.OR]=0,r[o.LOGIC_COMMANDS_LITERAL.NOR]=0,r[o.LOGIC_COMMANDS_LITERAL.AND]=0,r[o.LOGIC_COMMANDS_LITERAL.NOT]=0,r),l=function(e){var r,l,d,f,p,E=n[e];if((0,o.isLogicCommand)(E))switch(E.operator){case o.LOGIC_COMMANDS_LITERAL.OR:case o.LOGIC_COMMANDS_LITERAL.NOR:case o.LOGIC_COMMANDS_LITERAL.AND:c[E.operator]++,i.push(((r={})[(0,a.operatorToString)(E.operator)]=E.operands.map(function(r){var n;return(0,t.encode)(((n={})[e]=r,n))}),r));break;case o.LOGIC_COMMANDS_LITERAL.NOT:var m=E.operands[0];if((0,o.isLogicCommand)(m))switch(m.operator){case o.LOGIC_COMMANDS_LITERAL.AND:c[o.LOGIC_COMMANDS_LITERAL.OR]++,i.push(_(new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.OR,m.operands.map(function(t){var r;return(r={})[e]=new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.NOT,[t]),r}))));break;case o.LOGIC_COMMANDS_LITERAL.OR:c[o.LOGIC_COMMANDS_LITERAL.NOR]++,i.push(_(new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.NOR,m.operands.map(function(t){var r;return(r={})[e]=t,r}))));break;case o.LOGIC_COMMANDS_LITERAL.NOR:c[o.LOGIC_COMMANDS_LITERAL.OR]++,i.push(_(new o.LogicCommmand(o.LOGIC_COMMANDS_LITERAL.OR,m.operands.map(function(t){var r;return(r={})[e]=t,r}))));break;case o.LOGIC_COMMANDS_LITERAL.NOT:i.push((0,t.encode)(((l={})[e]=m.operands[0],l)))}else i.push(((d={})[e]=_(E),d))}else(0,s.isQueryCommand)(E)?i.push(((f={})[e]=h(E),f)):i.push(((p={})[e]=(0,u.encodeInternalDataType)(E),p))};for(var d in n)l(d);return E(i)},_=function(e){var r,i,u,c,l,d;switch(e.operator){case o.LOGIC_COMMANDS_LITERAL.AND:if(e.operands.every(function(e){return(0,s.isQueryCommand)(e)})){var f={};try{for(var p=n.__values(e.operands),_=p.next();!_.done;_=p.next()){var E=_.value;Object.assign(f,h(E))}}catch(e){r={error:e}}finally{try{_&&!_.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return f}var m=(0,a.operatorToString)(e.operator),g=e.operands.map(t.encode);return(u={})[m]=g,u;case o.LOGIC_COMMANDS_LITERAL.OR:case o.LOGIC_COMMANDS_LITERAL.NOR:m=(0,a.operatorToString)(e.operator),g=e.operands.map(t.encode);return(c={})[m]=g,c;case o.LOGIC_COMMANDS_LITERAL.NOT:m=(0,a.operatorToString)(e.operator),E=e.operands[0];return(l={})[m]=(0,t.encode)(E),l;default:m=(0,a.operatorToString)(e.operator),g=e.operands.map(t.encode);return(d={})[m]=g,d}},h=function(e){var r,n,i,o,c,l,d,f,p=(0,a.operatorToString)(e.operator);switch(e.operator){case s.QUERY_COMMANDS_LITERAL.EQ:case s.QUERY_COMMANDS_LITERAL.NEQ:case s.QUERY_COMMANDS_LITERAL.LT:case s.QUERY_COMMANDS_LITERAL.LTE:case s.QUERY_COMMANDS_LITERAL.GT:case s.QUERY_COMMANDS_LITERAL.GTE:case s.QUERY_COMMANDS_LITERAL.EXISTS:case s.QUERY_COMMANDS_LITERAL.SIZE:return(r={})[p]=(0,u.encodeInternalDataType)(e.operands[0]),r;case s.QUERY_COMMANDS_LITERAL.IN:case s.QUERY_COMMANDS_LITERAL.NIN:case s.QUERY_COMMANDS_LITERAL.MOD:return(n={})[p]=(0,u.encodeInternalDataType)(e.operands),n;case s.QUERY_COMMANDS_LITERAL.ALL:return(i={})[p]=e.operands.map(t.encode),i;case s.QUERY_COMMANDS_LITERAL.ELEM_MATCH:case s.QUERY_COMMANDS_LITERAL.EXPR:return(o={})[p]=(0,t.encode)(e.operands[0]),o;case s.QUERY_COMMANDS_LITERAL.GEO_NEAR:return(c={})[p]={$geometry:(0,u.encodeInternalDataType)(e.operands[0].geometry),$maxDistance:e.operands[0].maxDistance,$minDistance:e.operands[0].minDistance},c;case s.QUERY_COMMANDS_LITERAL.GEO_WITHIN:var _={};return e.operands[0].geometry&&(_.$geometry=(0,u.encodeInternalDataType)(e.operands[0].geometry)),e.operands[0].centerSphere&&(_.$centerSphere=(0,u.encodeInternalDataType)(e.operands[0].centerSphere)),(l={})[p]=_,l;case s.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS:return(d={})[p]={$geometry:(0,u.encodeInternalDataType)(e.operands[0].geometry)},d;default:return(f={})[p]=e.operands.length>1?e.operands.map(t.encode):(0,t.encode)(e.operands[0]),f}},E=function(e){var t,r,i,o,s={$and:0,$or:0,$nor:0};try{for(var a=n.__values(e),u=a.next();!u.done;u=a.next()){(_=u.value).$and&&s.$and++,_.$or&&s.$or++,_.$nor&&s.$nor++}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}var c=s.$and>1||s.$or>1||s.$nor>1,l=!1,d={};try{for(var f=n.__values(e),p=f.next();!p.done;p=f.next()){var _=p.value;for(var h in _){var E=_[h];c?l?d.$and.push(_):"$and"===h||"$or"===h||"$nor"===h?(l=!0,d.$and=[_]):d[h]=E:d[h]=E}}}catch(e){i={error:e}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return d}},"./src/services/database/internal/grammar/default/serializer/update.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateSerializer=void 0;var n=r("./src/utils/type.ts"),i=r("./src/services/database/api/database/commands/update.ts"),o=r("./src/services/database/internal/grammar/default/operator-map.ts"),s=r("./src/services/database/internal/grammar/default/serializer/common.ts"),a=r("./src/services/database/internal/grammar/default/serializer/query.ts"),u=function(){function e(){}return e.encode=function(e){return c(e)},e}();t.UpdateSerializer=u;var c=function(e){return l(e)},l=function(e){var t=(0,s.flattenQueryObject)(e),r={};for(var u in t){var c=t[u];if((0,i.isUpdateCommand)(c)){var l=(0,o.operatorToString)(c.operator);switch(r[l]||(r[l]={}),c.operator){case i.UPDATE_COMMANDS_LITERAL.SET:case i.UPDATE_COMMANDS_LITERAL.INC:case i.UPDATE_COMMANDS_LITERAL.MUL:case i.UPDATE_COMMANDS_LITERAL.MIN:case i.UPDATE_COMMANDS_LITERAL.MAX:case i.UPDATE_COMMANDS_LITERAL.RENAME:case i.UPDATE_COMMANDS_LITERAL.BIT:r[l][u]=(0,s.encodeInternalDataType)(c.operands[0]);break;case i.UPDATE_COMMANDS_LITERAL.REMOVE:r[l][u]="";break;case i.UPDATE_COMMANDS_LITERAL.PUSH:var d=void 0;d=1===c.operands.length&&(0,n.isObject)(c.operands[0])?{$each:c.operands[0].each.map(s.encodeInternalDataType),$position:c.operands[0].position,$slice:c.operands[0].slice,$sort:c.operands[0].sort}:{$each:c.operands.map(s.encodeInternalDataType)},r[l][u]=d;break;case i.UPDATE_COMMANDS_LITERAL.UNSHIFT:d={$each:c.operands.map(s.encodeInternalDataType),$position:0};r[l][u]=d;break;case i.UPDATE_COMMANDS_LITERAL.POP:r[l][u]=1;break;case i.UPDATE_COMMANDS_LITERAL.SHIFT:r[l][u]=-1;break;case i.UPDATE_COMMANDS_LITERAL.ADD_TO_SET:r[l][u]=(0,n.isObject)(c.operands[0])&&c.operands[0].each?{$each:c.operands[0].each}:c.operands[0];break;case i.UPDATE_COMMANDS_LITERAL.PULL:r[l][u]=a.QuerySerializer.encode(c.operands[0]);break;case i.UPDATE_COMMANDS_LITERAL.PULL_ALL:default:r[l][u]=(0,s.encodeInternalDataType)(c.operands[0])}}else r.$set||(r.$set={}),r.$set[u]=(0,s.encodeInternalDataType)(c)}return r}},"./src/services/database/internal/grammar/engine.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getEngine=t.ENGINES=void 0;var n,i=r("./src/services/database/internal/grammar/default/index.ts");!function(e){e[e.DEFAULT=0]="DEFAULT"}(n=t.ENGINES||(t.ENGINES={})),t.getEngine=function(e){return void 0===e&&(e=n.DEFAULT),i}},"./src/services/functions/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIs=void 0;var n=r("./src/services/functions/api/callFunction.ts");t.getAPIs=function(e){return{callFunction:(0,n.default)(e)}}},"./src/services/functions/api/callFunction.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.API_NAME_V2=t.API_NAME=t.ResultStatus=t.SlowCallScene=t.SlowCallAction=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/hook/invoke.ts"),o=r("./src/utils/assert.ts"),s=r("./src/utils/error.ts"),a=r("./src/utils/fail-safe.ts"),u=r("./src/utils/fn/clone.ts"),c=r("./src/utils/report.ts"),l=r("./src/services/functions/api/callFunction/sync.ts"),d=r("./src/services/functions/api/callFunction/slow.ts"),f=r("./src/services/functions/api/callFunction/slow.v2.ts"),p=r("./src/utils/serializer.ts"),_=r("./src/utils/cdn.ts"),h=r("./src/externals/globals/devtools.ts"),E=r("./src/externals/globals/wxconfig.ts");!function(e){e[e.CALL=1]="CALL",e[e.POLL=2]="POLL"}(t.SlowCallAction||(t.SlowCallAction={})),function(e){e[e.INITIATE_CALL=1]="INITIATE_CALL",e[e.NORMAL_POLL_RETRY=2]="NORMAL_POLL_RETRY",e[e.SYSTEM_ERROR_RETRY=3]="SYSTEM_ERROR_RETRY",e[e.TIMEOUT_RETRY=4]="TIMEOUT_RETRY"}(t.SlowCallScene||(t.SlowCallScene={})),function(e){e[e.PENDING=0]="PENDING",e[e.DONE=1]="DONE",e[e.TIMEOUT=2]="TIMEOUT"}(t.ResultStatus||(t.ResultStatus={})),t.API_NAME="cloud.callFunction",t.API_NAME_V2="cloud.callFunction_real_v2",t.default=function(e){var r,m,g;return function(e){var r=+new Date;(0,o.assertType)(e,"object");var n=(0,u.shallowClone)(e);return n.data||(n.data={}),n.context={tunnelTimeNoCSNetCost:0,funcName:e.name},n.context.apiStartTime=r,(0,i.hasAPICallback)(n)?function(e){(0,a.wrapParamCallbacksWithTryCatch)({apiName:t.API_NAME,param:e}),v(e).then(function(r){(0,i.invokeSuccessCompleteCallbacks)(t.API_NAME,e,r)}).catch(function(r){(0,i.invokeFailCompleteCallbacks)(t.API_NAME,e,r)})}(n):v(n)};function v(i){return n.__awaiter(this,void 0,void 0,function(){function a(){return 1===i.version}var u,v,S;return n.__generator(this,function(y){switch(y.label){case 0:return y.trys.push([0,5,6,7]),function(e){(0,o.assertType)(e,{name:"string"}),e.data&&(0,o.assertType)(e.data,"object"),e.config&&e.config.env&&(0,o.assertType)(e.config.env,"string")}(i),i.cdnMapPromise=_.collect(i.data),u=void 0,u=a()?(r||(r=(0,d.default)(e)),r)(i):(m||(m=(0,f.default)(e)),m)(i),(0,E.isDevTools)()&&(v=Date.now(),(0,h.autoDevtoolsNetworkLog)(u,function(){var t;return{url:"wx.cloud.callFunction.".concat(i.name),headers:{Env:e.isInstance?e.env:(null===(t=i.config)||void 0===t?void 0:t.env)||e.env},reqBody:(0,p.serialize)(i.data),timestampMs:v,console:e.debug}})),[4,u];case 1:return[2,y.sent()];case 2:return[4,(g||(g=(0,l.default)(e)),g)(i)];case 3:return[2,y.sent()];case 4:return[3,7];case 5:throw S=y.sent(),(0,s.returnAsFinalCloudSDKError)(S,t.API_NAME);case 6:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},i.context),{apiEndTime:+new Date,apiName:a()?t.API_NAME:t.API_NAME_V2})),[7];case 7:return[2]}})})}}},"./src/services/functions/api/callFunction/slow.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/config/error.config.ts"),o=r("./src/externals/public-lib/appserviceSdk.ts"),s=r("./src/utils/assert.ts"),a=r("./src/utils/error.ts"),u=r("./src/utils/msg.ts"),c=r("./src/utils/serializer.ts"),l=r("./src/services/functions/utils/extract.ts"),d=r("./src/services/functions/api/callFunction.ts");t.default=function(e){return function(t){return n.__awaiter(this,void 0,void 0,function(){function r(t){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(r){return[2,new Promise(function(r,s){!function t(r,s,u,l){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(n){return(0,o.getSDK)(e.identifiers).request({url:r,success:function(e){try{if(200!==e.statusCode)return l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:"polling status code ".concat(e.statusCode)},d.API_NAME));var n=e.data;if(!n)return l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:i.ERR_CODE[i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},d.API_NAME));if(n.base_resp&&0===n.base_resp.ret){if(0!==n.status){if(1===n.status){if(0!==n.service_errcode){var o=(0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:"requestID ".concat(n.func_req_id,", cloud function service error code ").concat(n.service_errcode||"unknown",", error message ").concat(n.service_errmsg||"unknown")},d.API_NAME);return o.requestID=n.func_req_id,l(o)}var f=n.content;try{f=(0,c.deserialize)(f)}catch(e){try{f=JSON.parse(f)}catch(e){}}return u({result:f,requestID:n.func_req_id})}return l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},d.API_NAME))}if(!(s>=0))return l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:i.ERR_CODE[i.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},d.API_NAME));t(r,s-1,u,l)}else{if(!n.base_resp)return l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:i.ERR_CODE[i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},d.API_NAME));if(0!==n.base_resp.ret)return l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:"polling base_resp.ret ".concat(n.base_resp.ret)},d.API_NAME))}}catch(e){l((0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_ERROR,errMsg:"polling catch error: ".concat(e)},d.API_NAME))}},fail:function(e){l((0,a.returnAsFinalCloudSDKError)(e,d.API_NAME))}}),[2]})})}(t,e.appConfig.maxPollRetry||50,r,s)})]})})}var f,p,_,h,E,m,g,v,S,y,T,A,b,C,O,I;return n.__generator(this,function(o){switch(o.label){case 0:if(f=n.__assign({},t.data),(p=(0,l.extractCloudID)(f).map(function(e){return{key_name:e.key,cloud_id:e.cloudID}})).length)try{for(_=n.__values(p),h=_.next();!h.done;h=_.next())E=h.value,delete f[E.key_name]}catch(e){O={error:e}}finally{try{h&&!h.done&&(I=_.return)&&I.call(_)}finally{if(O)throw O.error}}return[4,t.cdnMapPromise];case 1:return m=o.sent(),g=(0,c.serialize)(f,m),(0,s.assertStringLength)({input:g,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:"".concat(e.appConfig.maxReqDataSize/1024," KB")}),v={function_name:t.name,data:g,cloudid_list:p},S=(0,c.serialize)(v),t.context.tunnelStartTime=+new Date,[4,e.request(n.__assign(n.__assign({},t.config),{apiName:"tcbapi_slowcallfunction",serviceName:e.name,serializedReqData:S,env:t.config&&t.config.env||e.env}))];case 2:if(y=o.sent(),t.context.tunnelEndTime=+new Date,!(T=y.data))throw(0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:i.ERR_CODE[i.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},d.API_NAME);if(T.event_id,!T.poll_url)throw(0,a.returnAsFinalCloudSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:i.ERR_CODE[i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_URL]},d.API_NAME);return T.poll_url.indexOf("?")>-1?T.poll_url+="&devtools_ignore=true&skip_domain_check=true":T.poll_url+="?devtools_ignore=true&skip_domain_check=true",t.context.pollStartTime=+new Date,[4,r(T.poll_url)];case 3:return A=o.sent(),b=A.result,C=A.requestID,t.context.pollEndTime=+new Date,[2,{errMsg:(0,u.apiSuccessMsg)(d.API_NAME),result:b,requestID:C}]}})})}}},"./src/services/functions/api/callFunction/slow.v2.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/config/error.config.ts"),o=r("./src/utils/assert.ts"),s=r("./src/utils/error.ts"),a=r("./src/utils/msg.ts"),u=r("./src/utils/serializer.ts"),c=r("./src/services/functions/utils/extract.ts"),l=r("./src/utils/utils.ts"),d=r("./src/externals/globals/wxconfig.ts"),f=r("./src/services/functions/api/callFunction.ts"),p=20,_=2,h=2,E=2e4,m=function(e){var t=new Date;return"".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()," ").concat(e)},g=function(e){return e.join("->")};t.default=function(e){return function(t){return n.__awaiter(this,void 0,void 0,function(){function r(t,r,i,o){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(n){return[2,new Promise(function(n,s){var a=[m("start")],u=function(e,t,r){var n=function(t){e.push(m("app ".concat(t)))};return(0,l.onAppVisibilityChange)(n),{resolve:function(e){(0,l.offAppVisibilityChange)(n),t(e)},reject:function(e){(0,l.offAppVisibilityChange)(n),r(e)}}}(a,n,s),c=u.resolve,d=u.reject;v({param:t,functionName:t.name,data:r,cloudIDList:i,callID:o,action:f.SlowCallAction.CALL,scene:f.SlowCallScene.INITIATE_CALL,tryCount:e.appConfig.maxPollRetry||p,systemErrorRetry:_,timeoutErrorRetry:h,trace:a,resolve:c,reject:d})})]})})}function v(r){return n.__awaiter(this,void 0,void 0,function(){function o(e){try{if(N)return;L(),U(e);var t=e.data;if(!t)return T.push(m("empty resp")),O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_CALL_RESULT},f.API_NAME));if(!t.baseresponse||0!==t.baseresponse.errcode)return t.baseresponse?0!==t.baseresponse.errcode?O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:"polling base_resp.errcode ".concat(t.baseresponse.errcode," errmsg ").concat(t.baseresponse.errmsg," (callId: ").concat(p,")")},f.API_NAME)):O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:"polling base_resp ".concat(JSON.stringify(t.baseresponse)," (callId: ").concat(p,")")},f.API_NAME)):O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP},f.API_NAME));if(0!==t.status){if(1===t.status){if(0!==t.service_errcode){if(t.service_errcode===i.ERR_CODE.TCB_FUNCTIONS_EXEC_FAIL){var o=t.service_errmsg||"";try{for(var a=o.split("\n"),c=[],l=0;l<a.length;l++)a[l].startsWith("Error: ")&&c.push([a[l],l]);if(c.length%2==1){var d=c[Math.floor(c.length/2)][1];o=a.slice(d).join("\n")}}catch(e){}return(_=(0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:"云函数执行错误\n云端堆栈信息(error stack)(".concat(t.func_request_id?"requestId ".concat(t.func_request_id,", "):"","callid ").concat(p,"):\n").concat(o)},f.API_NAME)).stack="Error: ".concat(_.message),_.requestID=t.func_request_id,O(_)}var _;return(_=(0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:"\n云函数调用失败(".concat(t.func_request_id?"requestId ".concat(t.func_request_id,", "):"","callid ").concat(p,"):\n").concat(t.service_errcode," ").concat(t.service_errmsg)},f.API_NAME)).stack="Error: ".concat(_.message),_.requestID=t.func_request_id,O(_)}var h=t.data;try{h=(0,u.deserialize)(h)}catch(e){try{h=JSON.parse(h)}catch(e){}}return C({result:h,requestID:t.func_request_id})}return T.push(m("poll result expired")),O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching, result cannot be fetched anymore (callId: ".concat(p,") (trace: ").concat(g(T),")")},f.API_NAME))}if(!(S>=0))return T.push(m("too many polls, abort")),O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:"(callId: ".concat(p,") (trace: ").concat(g(T),")")},f.API_NAME));T.push(m("normal poll")),v(n.__assign(n.__assign({},r),{action:f.SlowCallAction.POLL,scene:f.SlowCallScene.NORMAL_POLL_RETRY,tryCount:S-1}))}catch(e){O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_ERROR,errMsg:"polling catch error: ".concat(e," (callId: ").concat(p,")")},f.API_NAME))}}var a,c,p,_,h,S,T,A,b,C,O,I,R,w,N,D,L,M,P,U,x=this;return n.__generator(this,function(B){return a=r.functionName,c=r.data,p=r.callID,_=r.action,h=r.scene,S=r.tryCount,T=r.trace,A=r.systemErrorRetry,b=r.timeoutErrorRetry,C=r.resolve,O=r.reject,I=_===f.SlowCallAction.CALL&&(0,d.isDevTools)()?t.localDebugNoTimeout:void 0,R={function_name:a,data:_===f.SlowCallAction.CALL?c:void 0,action:_,scene:h,call_id:p,cloudid_list:_===f.SlowCallAction.CALL?y:[],local_debug_no_timeout:I},w=(0,u.serialize)(R),N=!1,D=!1,L=function(){clearTimeout(P),D=!0},M=+new Date,P=I?void 0:setTimeout(function(){return n.__awaiter(x,void 0,void 0,function(){var t;return n.__generator(this,function(o){switch(o.label){case 0:return t=e.appConfig.clientPollTimeout||E,+new Date-M>t?[4,(0,l.sleep)()]:[3,2];case 1:if(o.sent(),D)return[2];o.label=2;case 2:return!(0,d.isDevTools)()&&+new Date-M>e.appConfig.maxStartRetryGap?(T.push(m("timeout, exceed max retry gap")),[2,O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for retry, cannot retry fetching the result anymore (callId: ".concat(p,") (trace: ").concat(g(T),")")},f.API_NAME))]):(N=!0,r.timeoutErrorRetry>0?(T.push(m("timeout, retry")),v(n.__assign(n.__assign({},r),{scene:f.SlowCallScene.TIMEOUT_RETRY,tryCount:S-1,timeoutErrorRetry:b-1}))):(T.push(m("timeout, abort")),O((0,s.toSDKError)({errCode:i.ERR_CODE.SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:"(callId: ".concat(p,") (trace: ").concat(g(T),")")},f.API_NAME))),[2])}})})},e.appConfig.clientPollTimeout||E),U=function(e){var r,n=e.data;n&&n.baseresponse&&n.baseresponse.stat&&(n.baseresponse.stat.qbase_cost_time&&(t.context.tunnelTimeNoCSNetCost+=n.baseresponse.stat.qbase_cost_time),n.baseresponse.stat.func_exec_cost_time&&(t.context.funcExecTime=n.baseresponse.stat.func_exec_cost_time)),t.context.channelType=null!==(r=e.channelType)&&void 0!==r?r:0,e.profile&&(null===l._wxConsole||void 0===l._wxConsole||l._wxConsole.log("callFunction profile",e.profile))},e.request(n.__assign(n.__assign({},t.config),{apiName:"tcbapi_slowcallfunction_v2",serviceName:e.name,serializedReqData:w,env:t.config&&t.config.env||e.env,stdpriv:!0})).then(o).catch(function(e){N||(L(),e&&e.operateWXDataFail&&A>0?(T.push(m("system error (".concat(e,"), retry"))),v(n.__assign(n.__assign({},r),{scene:f.SlowCallScene.SYSTEM_ERROR_RETRY,tryCount:S-1,systemErrorRetry:A-1}))):(T.push(m("system error (".concat(e,"), abort"))),O((0,s.toSDKError)("".concat(e," (callId: ").concat(p,") (trace: ").concat(g(T),")"),f.API_NAME))))}),[2]})})}var S,y,T,A,b,C,O,I,R,w,N,D,L;return n.__generator(this,function(i){switch(i.label){case 0:if(S=n.__assign({},t.data),(y=(0,c.extractCloudID)(S).map(function(e){return{key_name:e.key,cloud_id:e.cloudID}})).length)try{for(T=n.__values(y),A=T.next();!A.done;A=T.next())b=A.value,delete S[b.key_name]}catch(e){D={error:e}}finally{try{A&&!A.done&&(L=T.return)&&L.call(T)}finally{if(D)throw D.error}}return[4,t.cdnMapPromise];case 1:return C=i.sent(),O=(0,u.serialize)(S,C),(0,o.assertStringLength)({input:O,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:"".concat(e.appConfig.maxReqDataSize/1024," KB")}),I="".concat(+new Date,"-").concat(Math.random()),t.context.tunnelStartTime=+new Date,[4,r(t,O,y,I)];case 2:return R=i.sent(),w=R.result,N=R.requestID,t.context.tunnelEndTime=+new Date,[2,{errMsg:(0,a.apiSuccessMsg)(f.API_NAME),result:w,requestID:N}]}})})}}},"./src/services/functions/api/callFunction/sync.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/msg.ts"),o=r("./src/utils/serializer.ts"),s=r("./src/services/functions/api/callFunction.ts");t.default=function(e){return function(t){return n.__awaiter(this,void 0,void 0,function(){var r,a,u,c,l;return n.__generator(this,function(n){switch(n.label){case 0:return r={function_name:t.name,data:(0,o.serialize)(t.data),cloudid_list:[]},a=(0,o.serialize)(r),[4,e.request({apiName:"tcbapi_callfunction",serviceName:e.name,serializedReqData:a,env:t.config&&t.config.env||e.env})];case 1:if(u=n.sent(),c=u.data,l=c&&c.data)try{l=JSON.parse(l)}catch(e){}return[2,{errMsg:(0,i.apiSuccessMsg)(s.API_NAME),result:l}]}})})}}},"./src/services/functions/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerService=t.FUNCTIONS_SERVICE_NAME=void 0;var n=r("./src/services/functions/api/api.ts");t.FUNCTIONS_SERVICE_NAME="functions",t.registerService=function(e){e.registerService(function(e){var r={name:t.FUNCTIONS_SERVICE_NAME,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get env(){return e.getEnvForService(t.FUNCTIONS_SERVICE_NAME)},appConfig:{get maxReqDataSize(){return e.appConfig.call_function_max_req_data_size},get maxPollRetry(){return e.appConfig.call_function_poll_max_retry},get maxStartRetryGap(){return e.appConfig.call_function_valid_start_retry_gap},get clientPollTimeout(){return e.appConfig.call_function_client_poll_timeout}}};return{name:t.FUNCTIONS_SERVICE_NAME,context:r,getAPIs:n.getAPIs.bind(null,r)}}(e))}},"./src/services/functions/utils/extract.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.extractCloudID=void 0;var n=r("./src/utils/symbol.ts"),i=r("./src/utils/type.ts");t.extractCloudID=function(e){var t=[];for(var r in e)(0,i.isObject)(e[r])&&e[r]._internalType===n.SYMBOL_CLOUD_ID&&t.push({key:r,cloudID:e[r].cloudID});return t}},"./src/services/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerServices=void 0;var n=r("./src/services/functions/index.ts"),i=r("./src/services/container/index.ts"),o=r("./src/services/storage/index.ts"),s=r("./src/services/database/index.ts"),a=r("./src/services/utils/index.ts");t.registerServices=function(e){(0,n.registerService)(e),(0,o.registerService)(e),(0,s.registerService)(e),(0,a.registerService)(e),(0,i.registerService)(e)}},"./src/services/storage/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIs=void 0;var n=r("./src/services/storage/api/uploadFile.ts"),i=r("./src/services/storage/api/downloadFile.ts"),o=r("./src/services/storage/api/getTempFileURL.ts"),s=r("./src/services/storage/api/deleteFile.ts");t.getAPIs=function(e){return{uploadFile:(0,n.default)(e),downloadFile:(0,i.default)(e),getTempFileURL:(0,o.default)(e),deleteFile:(0,s.default)(e)}}},"./src/services/storage/api/deleteFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/assert.ts"),o=r("./src/utils/error.ts"),s=r("./src/hook/invoke.ts"),a=r("./src/utils/msg.ts"),u=r("./src/utils/fn/clone.ts"),c=r("./src/utils/report.ts"),l=r("./src/config/error.config.ts"),d="cloud.deleteFile";t.default=function(e){return function(e){var r=(0,u.shallowClone)(e);return r.timing={apiStartTime:+new Date},(0,s.hasAPICallback)(r)?function(e){t(e).then(function(t){(0,s.invokeSuccessCompleteCallbacks)(d,e,t)}).catch(function(t){(0,s.invokeFailCompleteCallbacks)(d,e,t)})}(r):t(r)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,3,4]),function(t){(0,i.assertType)(t,{fileList:"array"}),t.config&&t.config.env&&(0,i.assertType)(t.config.env,"string");for(var r=0,n=t.fileList.length;r<n;r++)(0,i.assertType)(t.fileList[r],"string","parameter.fileList[".concat(r,"]"));if(e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new o.CloudSDKError({errCode:l.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length ".concat(e.appConfig.getTempFileURLMaxReq)})}(t),t.fileList.length?[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i,o,s;return n.__generator(this,function(n){switch(n.label){case 0:return r={fileid_list:t.fileList},i=JSON.stringify(r),t.timing.tunnelStartTime=+new Date,[4,e.request({apiName:"tcbapi_deletefile",serviceName:e.name,serializedReqData:i,env:t.config&&t.config.env||e.env})];case 1:return o=n.sent(),t.timing.tunnelEndTime=+new Date,s=o.data,t.timing.tunnelTimeNoCSNetCost=s.baseresponse.stat.qbase_cost_time,[2,{errMsg:(0,a.apiSuccessMsg)(d),fileList:s.delete_list.map(function(e){return{fileID:e.fileid,status:e.status,errMsg:e.errmsg}})}]}})})}(t)]:[2,{errMsg:(0,a.apiSuccessMsg)(d),fileList:[]}];case 1:return[2,s.sent()];case 2:throw r=s.sent(),(0,o.returnAsFinalCloudSDKError)(r,d);case 3:return(0,c.reportAPISpeed)(n.__assign(n.__assign({},t.timing),{apiEndTime:+new Date,apiName:d})),[7];case 4:return[2]}})})}}},"./src/services/storage/api/downloadFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/assert.ts"),o=r("./src/utils/type.ts"),s=r("./src/utils/fn/clone.ts"),a=r("./src/utils/error.ts"),u=r("./src/hook/invoke.ts"),c=r("./src/externals/public-lib/appserviceSdk.ts"),l=r("./src/utils/report.ts"),d=r("./src/config/error.config.ts"),f="cloud.downloadFile";t.default=function(e){return function(e){if(e=(0,s.shallowClone)(e),(0,u.hasAPICallback)(e))return function(e){var r={aborted:!1},i=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),o={apiStartTime:+new Date};return t(n.__assign(n.__assign({},e),{context:r,timing:o,downloadTaskAgent:i})).then(function(t){(0,u.invokeSuccessCompleteCallbacks)(f,e,t)}).catch(function(t){(0,u.invokeFailCompleteCallbacks)(f,e,t)}),i}(e);var r={apiStartTime:+new Date};return t(n.__assign(n.__assign({},e),{timing:r}))};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r=this;return n.__generator(this,function(s){return[2,new Promise(function(s,u){return n.__awaiter(r,void 0,void 0,function(){var r,p;return n.__generator(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,3,4]),function(e){(0,i.assertType)(e,{fileID:"string"}),e.config&&e.config.env&&(0,i.assertType)(e.config.env,"string")}(t),t.context&&(t.context.abort=function(){u((0,a.returnAsFinalCloudSDKError)({errMsg:"abort"},f))},t.context.aborted)?[2,u((0,a.returnAsFinalCloudSDKError)({errMsg:"abort"},f))]:[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i;return n.__generator(this,function(s){switch(s.label){case 0:return r=(0,c.getSDK)(e.identifiers),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i,o,s;return n.__generator(this,function(n){switch(n.label){case 0:return r=JSON.stringify({fileid:t.fileID}),i=+new Date,[4,e.request({apiName:"tcbapi_downloadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})];case 1:if(o=n.sent(),s=o.data,t.timing&&(t.timing.tunnelStartTime=i,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=s.baseresponse.stat.qbase_cost_time),!s.download_url)throw new a.CloudSDKError({errCode:d.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL,errMsg:d.ERR_CODE[d.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL]});return s.download_url.indexOf("?")>-1?s.download_url+="&skip_domain_check=true":s.download_url+="?skip_domain_check=true",[2,s.download_url]}})})}(t)];case 1:return i=s.sent(),[2,new Promise(function(e,n){if(t.context&&t.context.aborted)return n((0,a.returnAsFinalCloudSDKError)({errMsg:"abort"},f));var s=r.downloadFile({url:i,success:function(t){e(t)},fail:function(e){n(e)}});s&&(s.onProgressUpdate(function(){t.downloadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&(0,o.isFunction)(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r.downloadFile,arguments)}),t.context&&(t.context.abort=s.abort.bind(s)))})]}})})}(t)];case 1:return r=_.sent(),s(r),[3,4];case 2:return p=_.sent(),u((0,a.returnAsFinalCloudSDKError)(p,f)),[3,4];case 3:return(0,l.reportAPISpeed)(n.__assign(n.__assign({},t.timing),{apiEndTime:+new Date,apiName:f})),[7];case 4:return[2]}})})})]})})}}},"./src/services/storage/api/getTempFileURL.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/assert.ts"),o=r("./src/utils/error.ts"),s=r("./src/hook/invoke.ts"),a=r("./src/utils/msg.ts"),u=r("./src/utils/fn/clone.ts"),c=r("./src/utils/type.ts"),l=r("./src/utils/report.ts"),d=r("./src/config/error.config.ts"),f="cloud.getTempFileURL";t.default=function(e){return function(e){var r=(0,u.shallowClone)(e);return r.timing={apiStartTime:+new Date},(0,s.hasAPICallback)(r)?function(e){t(e).then(function(t){(0,s.invokeSuccessCompleteCallbacks)(f,e,t)}).catch(function(t){(0,s.invokeFailCompleteCallbacks)(f,e,t)})}(r):t(r)};function t(t){return n.__awaiter(this,void 0,void 0,function(){var r;return n.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,3,4]),function(t){if((0,i.assertType)(t,{fileList:"array"}),t.config&&t.config.env&&(0,i.assertType)(t.config.env,"string"),e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new o.CloudSDKError({errCode:d.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter.fileList exceed max length ".concat(e.appConfig.getTempFileURLMaxReq)})}(t),t.fileList.length?[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i,o,s;return n.__generator(this,function(n){switch(n.label){case 0:return r={file_list:t.fileList.map(function(e){return(0,c.isString)(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}})},i=JSON.stringify(r),t.timing.tunnelStartTime=+new Date,[4,e.request({apiName:"tcbapi_gettempfileurl",serviceName:e.name,serializedReqData:i,env:t.config&&t.config.env||e.env})];case 1:return o=n.sent(),t.timing.tunnelEndTime=+new Date,s=o.data,t.timing.tunnelTimeNoCSNetCost=s.baseresponse.stat.qbase_cost_time,[2,{errMsg:(0,a.apiSuccessMsg)(f),fileList:s.download_list.map(function(e){return{fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg}})}]}})})}(t)]:[2,{errMsg:(0,a.apiSuccessMsg)(f),fileList:[]}];case 1:return[2,s.sent()];case 2:throw r=s.sent(),(0,o.returnAsFinalCloudSDKError)(r,f);case 3:return(0,l.reportAPISpeed)(n.__assign(n.__assign({},t.timing),{apiEndTime:+new Date,apiName:f})),[7];case 4:return[2]}})})}}},"./src/services/storage/api/uploadFile.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/assert.ts"),o=r("./src/utils/error.ts"),s=r("./src/utils/type.ts"),a=r("./src/utils/fn/clone.ts"),u=r("./src/hook/invoke.ts"),c=r("./src/utils/msg.ts"),l=r("./src/externals/public-lib/appserviceSdk.ts"),d=r("./src/utils/report.ts"),f=r("./src/config/error.config.ts"),p=r("./src/runtime/runtime.ts"),_="cloud.uploadFile",h="cloud.uploadFile_v2";t.default=function(e){return function(e){if(e=(0,a.shallowClone)(e),(0,u.hasAPICallback)(e))return function(e){var r={aborted:!1},i=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),o={apiStartTime:+new Date};return t(n.__assign(n.__assign({},e),{context:r,timing:o,uploadTaskAgent:i})).then(function(t){(0,u.invokeSuccessCompleteCallbacks)(_,e,t)}).catch(function(t){(0,u.invokeFailCompleteCallbacks)(_,e,t)}),i}(e);var r={apiStartTime:+new Date};return t(n.__assign(n.__assign({},e),{timing:r}))};function t(t){var r=this;return new Promise(function(a,u){return n.__awaiter(r,void 0,void 0,function(){var r,E;return n.__generator(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,3,4]),function(e){(0,i.assertType)(e,{cloudPath:"string"}),"miniprogram"===(0,p.getRuntimeInfo)().env?(0,i.assertType)(e,{filePath:"string"}):(0,i.assertRequiredParam)(e,"file","uploadFile")}(t),t.context&&(t.context.abort=function(){u((0,o.returnAsFinalCloudSDKError)({errMsg:"abort"},_))},t.context.aborted)?[2,u((0,o.returnAsFinalCloudSDKError)({errMsg:"abort"},_))]:[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i;return n.__generator(this,function(a){switch(a.label){case 0:return r=(0,l.getSDK)(e.identifiers),[4,function(t){return n.__awaiter(this,void 0,void 0,function(){var r,i,s,a;return n.__generator(this,function(n){switch(n.label){case 0:return r=JSON.stringify({path:t.cloudPath}),i=+new Date,[4,e.request({apiName:"tcbapi_cos_uploadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})];case 1:if(s=n.sent(),a=s.data,t.timing&&(t.timing.tunnelStartTime=i,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=a.baseresponse.stat.qbase_cost_time),!a.url)throw new o.CloudSDKError({errCode:f.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL,errMsg:f.ERR_CODE[f.ERR_CODE.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL]});return[2,a]}})})}(t)];case 1:return i=a.sent(),[2,new Promise(function(e,a){if(t.context&&t.context.aborted)return a((0,o.returnAsFinalCloudSDKError)({errMsg:"abort"},_));var u,l,d=(0,p.getRuntimeInfo)();if("web"===d.env){var f=new FormData;f.append("key",t.cloudPath),f.append("signature",i.authorization),f.append("x-cos-security-token",i.token),f.append("x-cos-meta-fileid",i.cos_file_id),f.append("file",t.file),u={url:i.url,timeout:t.timeout,filePath:"",header:t.header,name:"",formData:f}}else u={url:i.url,timeout:t.timeout,filePath:t.filePath,header:t.header,name:"file",formData:{key:t.cloudPath,signature:i.authorization,"x-cos-security-token":i.token,"x-cos-meta-fileid":i.cos_file_id}};(l=r.uploadFile(n.__assign(n.__assign({},u),{success:function(t){try{if(t.statusCode>=200&&t.statusCode<300)e({errMsg:(0,c.apiSuccessMsg)(_),fileID:i.file_id,statusCode:t.statusCode});else{var r=new o.CloudSDKError({errMsg:"status ".concat(t.statusCode,", error: ").concat(t.data,";")});a(r)}}catch(r){var n=new o.CloudSDKError({errMsg:"Error : ".concat(t.data,";")});a(n)}},fail:function(e){a(e)}})))&&(l.onProgressUpdate(function(){t.uploadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&(0,s.isFunction)(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r.uploadFile,arguments)}),t.context&&(t.context.abort=l.abort.bind(l)))})]}})})}(t)];case 1:return r=m.sent(),a(r),[3,4];case 2:return E=m.sent(),u((0,o.returnAsFinalCloudSDKError)(E,_)),[3,4];case 3:return(0,d.reportAPISpeed)(n.__assign(n.__assign({},t.timing),{apiEndTime:+new Date,apiName:h})),[7];case 4:return[2]}})})})}}},"./src/services/storage/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerService=t.STORAGE_SERVICE_NAME=void 0;var n=r("./src/services/storage/api/api.ts");t.STORAGE_SERVICE_NAME="storage",t.registerService=function(e){e.registerService(function(e){var r={name:t.STORAGE_SERVICE_NAME,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get env(){return e.getEnvForService(t.STORAGE_SERVICE_NAME)},get debug(){return e.debug},appConfig:{get uploadMaxFileSize(){return e.appConfig.upload_max_file_size},get getTempFileURLMaxReq(){return e.appConfig.get_temp_file_url_max_requests}}};return{name:t.STORAGE_SERVICE_NAME,context:r,getAPIs:n.getAPIs.bind(null,r)}}(e))}},"./src/services/utils/api/CDN.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/symbol.ts");t.default=function(e){var t=function(){function e(e){this._internalType=n.SYMBOL_CDN,this.target=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}return e.prototype.toString=function(){return JSON.stringify({target:this.target})},e}();return function(e){return new t(e)}}},"./src/services/utils/api/CloudID.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("./src/utils/symbol.ts");t.default=function(e){var t=function(){function e(e){this._internalType=n.SYMBOL_CLOUD_ID,this.cloudID=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}return e.prototype.toJSON=function(){return this.cloudID},e.prototype.toString=function(){return this.cloudID},e}();return function(e){return new t(e)}}},"./src/services/utils/api/api.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getAPIs=void 0;var n=r("./src/services/utils/api/CloudID.ts"),i=r("./src/services/utils/api/CDN.ts");t.getAPIs=function(e){return{CloudID:(0,n.default)(e),CDN:(0,i.default)(e)}}},"./src/services/utils/index.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.registerService=t.UTILS_SERVICE_NAME=void 0;var n=r("./src/services/utils/api/api.ts");t.UTILS_SERVICE_NAME="utils",t.registerService=function(e){e.registerService(function(e){var r={name:t.UTILS_SERVICE_NAME,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug}};return{name:t.UTILS_SERVICE_NAME,context:r,getAPIs:n.getAPIs.bind(null,r)}}(e))}},"./src/utils/asmcrypto.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AES_CBC=void 0;var n=r("./src/vendor/asmcrypto.aes_cbc.js");Object.defineProperty(t,"AES_CBC",{enumerable:!0,get:function(){return n.AES_CBC}})},"./src/utils/assert.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.assertObjectNotEmpty=t.assertStringLength=t.assertRequiredParam=t.assertType=t.validType=void 0;var n=r("./src/utils/type.ts"),i=r("./src/utils/error.ts"),o=r("./src/config/error.config.ts");function s(e,t,r){void 0===r&&(r="parameter");var i=function e(t,r,i){var o=(0,n.getType)(t),s=(0,n.getType)(r);if("string"===s)return o!==r?"".concat(i," should be ").concat(r," instead of ").concat(o,";"):"";if(o!==s)return"".concat(i," should be ").concat(s," instead of ").concat(o,"; ");var a="";switch(o){case"object":for(var u in r)a+=e(t[u],r[u],"".concat(i,".").concat(u));break;case"array":for(var c=0;c<r.length;c++)a+=e(t[c],r[c],"".concat(i,"[").concat(c,"]"))}return a}(e,t,r);return{passed:!i,reason:i}}t.validType=s,t.assertType=function(e,t,r,n){void 0===r&&(r="parameter"),void 0===n&&(n=i.CloudSDKError);var a=s(e,t,r);if(!a.passed)throw new n({errCode:o.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:a.reason})},t.assertRequiredParam=function(e,t,r,n){if(void 0===n&&(n=i.CloudSDKError),void 0===e||null===e)throw new n({errCode:o.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"parameter ".concat(t," of function ").concat(r," must be provided")})},t.assertStringLength=function(e){var t=e.name,r=e.input,n=e.max,s=e.maxWording,a=void 0===s?"":s,u=e.ErrorClass,c=void 0===u?i.CloudSDKError:u;if(r.length>n)throw new c({errCode:o.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"".concat(t," size must be less than ").concat(a||n)})},t.assertObjectNotEmpty=function(e){var t=e.target,r=e.name,n=e.ErrorClass,s=void 0===n?i.CloudSDKError:n;if(0===Object.keys(t).length)throw new s({errCode:o.ERR_CODE.SDK_API_PARAMETER_ERROR,errMsg:"".concat(r," must not be empty")})}},"./src/utils/cdn.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.uploadToCommonCDN=t.populateAndSerialize=t.collect=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/symbol.ts"),o=r("./src/utils/type.ts"),s=r("./src/externals/public-lib/appserviceSdk.ts");function a(e){var t=new WeakMap,r=[];if(e&&(JSON.stringify(e,function(e,n){return n&&n._internalType===i.SYMBOL_CDN?void r.push(new Promise(function(e,r){var i={appType:301,fileType:20303,fileKey:"file_".concat(Math.random())},s=n;switch((0,o.getType)(s.target)){case"object":if(!s.target.filePath)throw new Error("filePath must be provided");i.filePath=s.target.filePath;break;default:i.fileData=s.target}e(u(i).then(function(e){t.set(n,e.fileUrl)}))})):n}),r.length))return Promise.all(r).then(function(){return t})}function u(e){return new Promise(function(t,r){var i=n.__assign(n.__assign({},e),{appType:e.appType||301,fileType:e.fileType||20303,fileKey:e.fileKey||"file_".concat(Math.random())});(0,s.getSDK)().uploadToCommonCDN(n.__assign(n.__assign({},i),{success:t,fail:r}))})}t.collect=a,t.populateAndSerialize=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(r){switch(r.label){case 0:return e?[4,a(e)]:[3,2];case 1:return t=r.sent(),[2,JSON.stringify(e,function(e,r){return r&&r.symbol===i.SYMBOL_CDN&&(null===t||void 0===t?void 0:t.has(r))?t.get(r):r})];case 2:return[2,JSON.stringify(e)]}})})},t.uploadToCommonCDN=u},"./src/utils/error.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isCancelledError=t.CancelledError=t.isTimeoutError=t.TimeoutError=t.isGenericError=t.toSDKError=t.returnAsFinalCloudSDKError=t.returnAsCloudSDKError=t.isSDKError=t.CloudSDKError=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/type.ts"),o=r("./src/config/error.config.ts"),s=function(e){function t(t){var r=e.call(this,t.errMsg)||this;return r.errCode=-1,Object.defineProperties(r,{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(o.ERR_CODE[this.errCode]||""," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}}),r.errCode=t.errCode||-1,r.errMsg=t.errMsg,r}return n.__extends(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: ".concat(this.errCode," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e},enumerable:!1,configurable:!0}),t}(Error);function a(e){return e&&e instanceof Error&&(0,i.isString)(e.errMsg)}function u(e,t){if(e){if(a(e))return e;var r,n="".concat(t,":fail ");if(e instanceof Error)e.message="".concat(n).concat(e.message),e.stack=e.stack?e.stack.slice(0,7)+n+e.stack.slice(7):e.stack,(r=e).errCode=-1;else if("string"==typeof e)(r=new Error("".concat(n).concat(e))).errCode=-1;else{var i=e.errMsg||"";(r=new Error("".concat(t,":fail ").concat(e.errCode," ").concat(o.ERR_CODE[e.errCode]||"",". ").concat(i))).errCode=e.errCode||-1}return r.errMsg=r.message+"",r}var s=new Error("".concat(t,":fail"));return s.errCode=-1,s.errMsg=s.message+"",s}t.CloudSDKError=s,t.isSDKError=a,t.returnAsCloudSDKError=function(e,t){if(void 0===t&&(t=""),e){if(a(e))return t&&(e.errMsg+="; "+t),e;var r=e?e.errCode:void 0,n=(e&&e.errMsg||e.toString()||"unknown error")+"; "+t;return new s({errCode:r,errMsg:n})}return new s({errMsg:t})},t.returnAsFinalCloudSDKError=function(e,t){return u(e,t)},t.toSDKError=u;t.isGenericError=function(e){return e.generic};var c=function(e){function t(t,r){var n=e.call(this,t)||this;return n.type="timeout",n.generic=!0,n.payload=r,n}return n.__extends(t,e),t}(Error);t.TimeoutError=c;t.isTimeoutError=function(e){return"timeout"===e.type};var l=function(e){function t(t,r){var n=e.call(this,t)||this;return n.type="cancelled",n.generic=!0,n.payload=r,n}return n.__extends(t,e),t}(Error);t.CancelledError=l;t.isCancelledError=function(e){return"cancelled"===e.type}},"./src/utils/expire.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPessimisticExpireTs=void 0,t.getPessimisticExpireTs=function(e){if(void 0===e||!e.timestamp||!e.expires_in)return 0;var t=Date.now()-e.timestamp,r=.8*e.expires_in,n=Math.min(e.timestamp,Date.now())+1e3*r;return t>1e3*r?Date.now()+1e3*r:n}},"./src/utils/fail-safe.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapParamCallbacksWithTryCatch=t.wrapWithTryCatch=t.tryCatch=void 0;var n=r("./src/utils/error.ts"),i=r("./src/utils/type.ts"),o=r("./src/externals/public-lib/reporter.ts");function s(e,t){void 0===t&&(t="");try{return e()}catch(e){if((0,n.isSDKError)(e))return e.errMsg+=t,e;var r=(e?e.toString():"")+t;return new n.CloudSDKError({errMsg:r})}}t.tryCatch=s,t.wrapWithTryCatch=function(e,t){return void 0===t&&(t=""),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return s(function(){return e.apply(e,r)},t)}},t.wrapParamCallbacksWithTryCatch=function(e){var t=e.param;t&&(t.success&&(0,i.isFunction)(t.success)&&(t.success=o.default.surroundThirdByTryCatch(t.success,"at api ".concat(e.apiName," success callback function"))),t.fail&&(0,i.isFunction)(t.fail)&&(t.fail=o.default.surroundThirdByTryCatch(t.fail,"at api ".concat(e.apiName," fail callback function"))),t.complete&&(0,i.isFunction)(t.complete)&&(t.complete=o.default.surroundThirdByTryCatch(t.complete,"at api ".concat(e.apiName," complete callback function"))))}},"./src/utils/fn/clone.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.shallowClone=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/type.ts");t.shallowClone=function(e,t){if(void 0===t&&(t=!1),t)return function(e){switch((0,i.getType)(e)){case"object":return n.__assign({},e);case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if((0,i.isPlainObject)(e))return n.__assign({},e);switch((0,i.getType)(e)){case"object":return e;case"array":return e.slice();default:return e}}},"./src/utils/fsm.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isFSMTransitionError=t.FSMTransitionError=t.FSM=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=function(){function e(e){for(var t in this.listeners=new Set,this.currentState=e.initialState,this.states=new Map,e.states)this.states.set(t,{name:t,transitions:new Map(e.states[t].transitions.map(function(e){return[e.accept,e.to]}))});this.history={options:{enable:!1,limit:100},transitions:[]},e.history&&("boolean"==typeof e.history?e.history&&(this.history.options.enable=!0):Boolean(e.history.enable)&&(void 0===e.history.limit||null===e.history.limit?this.history.options={enable:!0,limit:100}:e.history.limit>0&&(this.history.options={enable:!0,limit:e.history.limit}))),this.history.options.enable&&this.history.transitions.push({state:this.currentState})}return e.prototype.transition=function(e,t){var r=this;if(t&&(t instanceof Set?!t.has(this.currentState):t!==this.currentState))throw new o("current state (".concat(this.currentState,") != expected from state (").concat(t instanceof Set?JSON.stringify(n.__spreadArray([],n.__read(t),!1)):t,")"),"unexpectedFromState");var i="string"==typeof e?{type:e}:e,s=this.states.get(this.currentState),a=s.transitions.get(i.type);if(!a)throw new o("current state (".concat(this.currentState,') does not accept "').concat(i.type,'"'),"unexpectedInput");this.currentState=a,this.history.options.enable&&(this.history.transitions.push({event:i.type,state:this.currentState}),this.history.transitions.length>this.history.options.limit&&(this.history.transitions.length===this.history.options.limit+1?this.history.transitions.shift():this.history.transitions.splice(0,this.history.transitions.length-this.history.options.limit))),this.listeners.forEach(function(e){try{e({event:i,from:s.name,to:r.currentState})}catch(e){console.error("FSM listener exec error: ",e)}})},e.prototype.canAccept=function(e){return this.states.get(this.currentState).transitions.has(e)},e.prototype.subscribe=function(e){this.listeners.add(e)},e.prototype.unsubscribe=function(e){this.listeners.delete(e)},e.prototype.getHistoryRepresentation=function(e){if(!this.history.options.enable)return"";var t=e.limit?this.history.transitions.slice(-e.limit):this.history.transitions;return"states: ".concat(t.map(function(e){var t=e.state,r=e.event;return"".concat(r?"-(".concat(r,")->"):"").concat(t)}).join(""))},e}();t.FSM=i;var o=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.type="transition",i.generic=!0,i.subtype=r,i.payload=n,i}return n.__extends(t,e),t}(Error);t.FSMTransitionError=o;t.isFSMTransitionError=function(e){return"transition"===e.type}},"./src/utils/merge.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js");function i(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}t.default=function e(t,r){var o,s;if(t===r)return t;try{for(var a=n.__values(Object.keys(r)),u=a.next();!u.done;u=a.next()){var c=u.value,l=i(r,c),d=i(t,c),f=void 0;"object"==typeof l?e(f=d||{},l):f=l,t[c]=f}}catch(e){o={error:e}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return t}},"./src/utils/msg.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.apiFailMsg=t.apiCancelMsg=t.apiSuccessMsg=void 0,t.apiSuccessMsg=function(e){return"".concat(e,":ok")},t.apiCancelMsg=function(e,t){return"".concat(e,":cancel ").concat(t)},t.apiFailMsg=function(e,t){return"".concat(e,":fail ").concat(t)}},"./src/utils/report.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.socketOnMessageSamplePicker=t.wrapTiming=t.reportMMData=t.setReportToken=t.reportIDKey=t.reportAPISpeed=t.init=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/externals/public-lib/reporter.ts"),o=r("./src/externals/public-lib/appserviceSdk.ts"),s=r("./src/utils/throttle.ts"),a=r("./src/utils/service-endpoint.ts"),u=r("./src/externals/globals/wxconfig.ts"),c=r("./src/utils/type.ts"),l=!1,d=[],f=Date.now(),p=Date.now(),_="unknown";u.default.onReady(function(){f=Date.now(),p=Date.now()});t.init=function(){if(!l)try{var e=(0,o.getSDK)();e.wx.onAppShow&&e.wx.onAppShow(function(){p=Date.now()}),e.wx.getNetworkType({success:function(e){_=e.networkType},complete:function(){l=!0,h()}}),e.wx.onNetworkStatusChange(function(e){l||(l=!0,h()),_=e.networkType})}catch(e){}};var h=function(){var e,t;try{for(var r=n.__values(d),i=r.next();!i.done;i=r.next()){var o=i.value;try{o()}catch(e){0}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}d=[]};t.reportAPISpeed=function(e){setTimeout(function(){var r;try{if(!function(e){return!(e.tunnelStartTime&&e.tunnelEndTime&&e.tunnelEndTime<e.tunnelStartTime||!(e.apiStartTime&&e.apiEndTime&&e.apiEndTime>e.apiStartTime))}(e))return;if(!l&&d.length<100)return void d.push(t.reportAPISpeed.bind(null,e));var n=Date.now(),o=e.apiEndTime-e.apiStartTime,s=e.tunnelEndTime?e.tunnelEndTime-e.tunnelStartTime:0,a=[0,e.apiName,o,s,(e.pollStartTime&&e.pollEndTime&&e.pollEndTime>e.pollStartTime?e.pollEndTime-e.pollStartTime:0)||0,_,e.tunnelTimeNoCSNetCost?o-e.tunnelTimeNoCSNetCost:0,e.tunnelTimeNoCSNetCost?s-e.tunnelTimeNoCSNetCost:0,e.funcExecTime?e.funcExecTime:0,null!==(r=e.channelType)&&void 0!==r?r:0,e.funcName||"",n-f,n-p];i.default.fake?(0,t.reportMMData)(16588,6,a.join(",")):i.default.reportKeyValue({key:"CloudReport",value:a.join(","),force:!0})}catch(e){}})};var E;t.reportIDKey=function(e,t,r,n){i.default.reportIDKeyDirectly({id:e,key:t,force:r,immediately:n})};t.setReportToken=function(e){return E=e};var m=[];t.reportMMData=function(e,t,r){m.push({log_id:e,version:t,user_log_list:r}),E&&g()};var g=(0,s.default)(function(){(0,o.getSDK)().request({url:"https://servicewechat.com/wxa-qbase/report?token=".concat(E),method:"POST",header:{},enableHttp2:!0,dataType:"json",data:JSON.stringify({report_info_list:m}),success:function(e){for(var t in e.header)"x-wx-system-error"===t.toLocaleLowerCase()&&"85104"===e.header[t]&&a.ServiceEndpoint.invalidateService("container")}}),m=[],(0,a.keepAlive)()},3e4);t.wrapTiming=function(e,r){var i=(0,c.isFunction)(e);function o(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(r.samplePicker&&!r.samplePicker.next())return i?e.apply(this,t):e;var o=Date.now(),a=!0;try{if(r.condition&&r.condition.emptyKey&&r.timing[r.startKey])return i?e.apply(this,t):e;var u=void 0;if(i){var l=e.apply(this,t);if(!(0,c.isPromise)(l))return a=!1,l;u=l}else u=e;return u.then(function(){return s(o)}).catch(function(){return s(o)}),u}catch(e){throw a=!1,e}finally{a||s(o)}}function s(e){r.timing[r.startKey]=e,r.timing[r.endKey]=Date.now(),r.autoReport&&(0,t.reportAPISpeed)(n.__assign(n.__assign({},r.timing),{apiName:r.autoReport}))}return i?o:o()};t.socketOnMessageSamplePicker=function(e,t){return function(){var r,i;return n.__generator(this,function(n){switch(n.label){case 0:r=function(){return parseInt(Math.round(2*Math.random()*e),10)},i=t?0:r(),n.label=1;case 1:return i>0?(i--,[4,!1]):[3,3];case 2:return n.sent(),[3,5];case 3:return i=r(),[4,!0];case 4:n.sent(),n.label=5;case 5:return[3,1];case 6:return[2]}})}}(10,!0)()},"./src/utils/serializer.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.toJSONSerializable=t.stringifyReplacer=t.serialize=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/utils/error.ts"),o=r("./src/config/error.config.ts"),s=r("./src/utils/type.ts");function a(e){switch((0,s.getType)(e)){case"object":return function e(t){var r=t;var n=u(r);if(r!==n)return n;for(var i in r){var o=r[i],c=(0,s.getType)(o);switch(c){case"object":var l=u(o);r[i]=l!==o?l:e(r[i]);break;case"array":var l=a(o);l!==o&&(r[i]=l);break;default:continue}}return r}(e);case"array":return e.map(a);default:return e}}function u(e){for(var t in e)switch(t){case"type":switch(e.type){case"Buffer":if((0,s.isArray)(e.data)&&(0,s.isNumber)(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}}}return e}t.serialize=function(e,t){return JSON.stringify(e,function(e,r){if(t&&t.has(r))return t.get(r);switch((0,s.getType)(r)){case"arraybuffer":var i=new Uint8Array(r);return{type:"Buffer",data:n.__spreadArray([],n.__read(i),!1)}}return r})},t.stringifyReplacer=function(e,t){switch((0,s.getType)(t)){case"arraybuffer":var r=new Uint8Array(t);return{type:"Buffer",data:n.__spreadArray([],n.__read(r),!1)}}return t},t.toJSONSerializable=function e(t,r){if(void 0===r&&(r="data"),null!==t&&void 0!==t){if(!0===t||!1===t)return t;switch((0,s.getType)(t)){case"number":if(isFinite(t))return t;break;case"string":return t;case"array":return t.map(function(t,n){return e(t,"".concat(r,"[").concat(n,"]"))});case"object":var a={};for(var u in t)t.hasOwnProperty(u)&&(a[u]=e(t[u],"".concat(r,".").concat(u)));return a;case"arraybuffer":var c=new Uint8Array(t);return{type:"Buffer",data:n.__spreadArray([],n.__read(c),!1)}}if("function"==typeof t)return t;!function(e){throw new i.CloudSDKError({errCode:o.ERR_CODE.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"".concat(e," is not JSON-serializable")})}(r)}},t.deserialize=function(e){return a(JSON.parse(e))}},"./src/utils/service-endpoint.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.keepAlive=t.getCloudServiceURL=t.ServiceEndpoint=void 0;var n=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),i=r("./src/network/tunnel.ts"),o=r("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/debounce.js"),s=r("./src/externals/public-lib/appserviceSdk.ts"),a=r("./src/utils/report.ts"),u=r("./src/utils/report.ts"),c=r("./src/utils/utils.ts"),l=r("./src/utils/expire.ts"),d=/https:\/\/servicewechat\.com/,f={},p={},_={},h="".concat(Math.random(),"_").concat(Date.now()),E="servicewechat.com",m=!1,g=function(){function e(e){this.identifiers=e}return e.prototype.setMetaData=function(e){this._meta=e},e.prototype.setTunnelRequest=function(e){this._tunnelRequest=e},e.prototype.getEndpointSync=function(e){var t=f[e];if("container"===e){if((null===t||void 0===t?void 0:t.url)&&(null===t||void 0===t?void 0:t.expiresTs)&&Date.now()<t.expiresTs)return t;this.getEndpoint(e)}},e.prototype.getEndpoint=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(r){return t=f[e],"container"===e?(null===t||void 0===t?void 0:t.url)&&(null===t||void 0===t?void 0:t.expiresTs)&&Date.now()<t.expiresTs?[2,t]:[2,this.refreshContainerServiceEndpoint()]:[2,null]})})},e.prototype.refreshContainerServiceEndpoint=function(){return n.__awaiter(this,void 0,void 0,function(){var r=this;return n.__generator(this,function(o){return p.container?[2,p.container]:(f.container&&e.invalidateService("container"),clearTimeout(_.container),p.container=new Promise(function(e,o){return n.__awaiter(r,void 0,void 0,function(){var r,u,d,g,y,A,b,C,O,I,R,w,N,D,L=this;return n.__generator(this,function(M){switch(M.label){case 0:return!(0,s.getSDK)().private_getBackgroundFetchData||m?[3,2]:(m=!0,[4,(0,c.privateGetBackgroundFetchData)(500,this.identifiers)]);case 1:if((r=M.sent())&&r.expiresTs>Date.now()&&r.url_info)return f.container={url:(null===(R=r.url_info)||void 0===R?void 0:R.cloudrun_url)?"".concat(r.url_info.cloudrun_url,"?token=").concat(r.token):"https://".concat(r.domain,"/wxa-qbase/container_service?token=").concat(r.token),cloudServiceUrl:(null===(w=r.url_info)||void 0===w?void 0:w.cloudbase_url)?"".concat(r.url_info.cloudbase_url,"?token=").concat(r.token):void 0,domain:r.domain||"servicewechat.com",token:r.token,http:!0,key:r.key,timestamp:r.timestamp,expiresTs:r.expiresTs},e(f.container),delete p.container,[2];M.label=2;case 2:u=[],d=0,M.label=3;case 3:if(!(d<3))return[3,11];M.label=4;case 4:return M.trys.push([4,9,,10]),g=Date.now(),y=(0,c.getSystemInfo)(),this._tunnelRequest?[4,this._tunnelRequest({apiName:"tcbapi_get_service_info",serializedReqData:JSON.stringify({client_random:h,system:y.system,wx_app_version:y.version})})]:[3,6];case 5:return A=M.sent(),[3,8];case 6:return[4,(0,i.default)({apiName:"qbase_commapi",data:{qbase_api_name:"tcbapi_get_service_info",qbase_req:JSON.stringify({client_random:h,system:y.system,wx_app_version:y.version}),qbase_options:{},qbase_meta:this._meta,cli_req_id:"".concat(+new Date,"_").concat(Math.random())}})];case 7:A=M.sent(),M.label=8;case 8:return b=A.data,Date.now()-g>1e3*b.expires_in?(u.push("result already expired (startTs ".concat(g," resultTs ").concat(Date.now(),")")),[3,10]):(C=(0,l.getPessimisticExpireTs)(b),O=b.domain||"servicewechat.com",f.container={url:(null===(N=b.url_info)||void 0===N?void 0:N.cloudrun_url)?"".concat(b.url_info.cloudrun_url,"?token=").concat(b.token):"https://".concat(O,"/wxa-qbase/container_service?token=").concat(b.token),cloudServiceUrl:(null===(D=b.url_info)||void 0===D?void 0:D.cloudbase_url)?"".concat(b.url_info.cloudbase_url,"?token=").concat(b.token):void 0,domain:O,token:b.token,http:b.http,key:b.key,timestamp:b.timestamp,ip:b.ip,vip:b.vip,expiresTs:C},e(f.container),delete p.container,(0,a.setReportToken)(b.token),E=f.container.domain||"servicewechat.com",function(){var e;n.__awaiter(this,void 0,void 0,function(){var r,i,o=this;return n.__generator(this,function(a){return v?[2]:(v=!0,(r=function(){v&&setTimeout(function(){return n.__awaiter(o,void 0,void 0,function(){return n.__generator(this,function(e){switch(e.label){case 0:return[4,(0,t.keepAlive)()];case 1:return e.sent(),r(),[2]}})})},2e4)})(),S||(S=!0,i=(0,s.getSDK)(),(null===(e=i.wx)||void 0===e?void 0:e.onAppHide)&&i.wx.onAppHide(function(){v=!1})),T(),[2,(0,t.keepAlive)()])})})}(),clearTimeout(_.container),_.container=setTimeout(function(){L.refreshContainerServiceEndpoint()},C-Date.now()),[2]);case 9:return I=M.sent(),u.push(I+""),[3,10];case 10:return d++,[3,3];case 11:return o("get container service endpoints errors: ".concat(u.join("\n"))),delete p.container,[2]}})})}),[2,p.container])})})},e.invalidateService=function(e){delete f[e]},e}();t.ServiceEndpoint=g,t.getCloudServiceURL=function(e){var t=f.container;if(t&&t.cloudServiceUrl)return e.rdm?t.cloudServiceUrl.replace(d,"https://wxardm.weixin.qq.com"):t.cloudServiceUrl};var v=!1,S=!1,y=0;var T=function(){return new Promise(function(e){var t=Date.now(),r=!/^\d+/.test(E);(0,s.getSDK)().request({url:"".concat(r?"https":"http","://").concat(E,"/wxa-qbase/keepalive"),header:r?{}:{host:"servicewechat.com"},method:"GET",dataType:"text",enableHttp2:r,success:function(){e(),y++%4==0&&(0,u.reportMMData)(22990,1,["privateHttpKeepAlive",E,t,Date.now(),Date.now()-t].join(","))},fail:function(){e()}})})};t.keepAlive=(0,o.default)(T,2e4)},"./src/utils/set.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unset=t.set=void 0;var r=function(e){var t=new Map;return function(r){return t.has(r)||t.set(r,e(r)),t.get(r)}}(function(e){return e.replace(/\[(\d+)\]/g,".[$1]").split(".").map(function(e){return/^\[(\d+)\]$/.test(e)?parseInt(e.substring(1,e.length-1)):e})});t.set=function(e,t,n){if(e){if(!Object.prototype.hasOwnProperty.call(e,t)){for(var i=r(t),o=e,s=0;s<i.length-1;++s){var a=i[s];o[a]||(o[a]="string"==typeof i[s+1]?{}:[]),o=o[a]}return o[i[i.length-1]]=n,e}e[t]=n}},t.unset=function(e,t){if(e){if(!Object.prototype.hasOwnProperty.call(e,t)){for(var n=r(t),i=e,o=0;o<n.length-1;++o){var s=n[o];if(!i[s])return;i=i[s]}return delete i[n[n.length-1]],e}delete e[t]}}},"./src/utils/symbol.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SYMBOL_CDN=t.SYMBOL_CLOUD_ID=void 0,t.SYMBOL_CLOUD_ID=Symbol.for("CLOUD_ID"),t.SYMBOL_CDN=Symbol("CDN")},"./src/utils/throttle.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var r=null,n=!1,i=function(){r?n=!0:(e(),r=setTimeout(function(){clearTimeout(r),r=null,n&&(n=!1,i())},t))};return i}},"./src/utils/type.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.isInternalObject=t.isRegExp=t.isDate=t.isArray=t.isFunction=t.isPromise=t.isNumber=t.isString=t.isObject=t.getType=void 0;t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()};t.isObject=function(e){return"object"===(0,t.getType)(e)};t.isString=function(e){return"string"===(0,t.getType)(e)};t.isNumber=function(e){return"number"===(0,t.getType)(e)};t.isPromise=function(e){return"promise"===(0,t.getType)(e)};t.isFunction=function(e){return"function"==typeof e};t.isArray=function(e){return Array.isArray(e)};t.isDate=function(e){return"date"===(0,t.getType)(e)};t.isRegExp=function(e){return"regexp"===(0,t.getType)(e)};t.isInternalObject=function(e){return e&&"symbol"===(0,t.getType)(e._internalType)};t.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},"./src/utils/userAgent.ts":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getUA=void 0;var n,i=r("./src/externals/public-lib/appserviceSdk.ts");t.getUA=function(){return n||(0,i.getSDK)().private_getUserAgent(function(e){n=e}),n}},"./src/utils/utils.ts":function(e,t,r){(function(e){var n=this;Object.defineProperty(t,"__esModule",{value:!0}),t.stringToUtf8Array=t.stringToArrayBuffer=t.arrayBufferToString=t.base64ToArrayBuffer=t.arrayBufferToBase64=t.encodeWithDecode=t.tryDecodeURIComponent=t.tryJSONParse=t.privateGetBackgroundFetchData=t.getSystemInfo=t.offAppVisibilityChange=t.onAppVisibilityChange=t.onceNetworkOnline=t.throwErrorIfNetworkOffline=t.getNetworkStatus=t.getWXVersion=t.autoCount=t.nextLoop=t.sleep=t._wxConsole=void 0;var i=r("../../node_modules/.pnpm/tslib@2.4.0/node_modules/tslib/tslib.es6.js"),o=r("./src/externals/public-lib/appserviceSdk.ts"),s=r("./src/utils/report.ts"),a=r("./src/utils/expire.ts");t._wxConsole="undefined"!=typeof wxConsole?wxConsole:void 0;t.sleep=function(e){return void 0===e&&(e=0),new Promise(function(t){return setTimeout(t,e)})};t.nextLoop=function(){return new Promise(function(t){return e(t)})};var u={};t.autoCount=function(e){return void 0===e&&(e="any"),u[e]||(u[e]=0),u[e]++};var c;t.getWXVersion=function(){var e,t,r=(0,o.getSDK)().wx;if(r&&r.version){e=r.version.version,t=r.version.updateTime;var n=r.version.updateTime.match(/^(\d+)\.(\d+)\.(\d+)/);return{version:e,updateTime:t,updateDateInDashes:n?"".concat(n[1],"-").concat(n[2],"-").concat(n[3]):"unknown"}}return{version:"unknown",updateTime:"unknown",updateDateInDashes:"unknown"}};var l=!1,d=[];t.getNetworkStatus=function(){return new Promise(function(e,t){if(c)e(c);else try{(0,o.getSDK)().wx.getNetworkType({success:function(t){c={networkType:t.networkType,isConnected:"none"!==t.networkType},e(c),l||((0,o.getSDK)().wx.onNetworkStatusChange(function(e){if(c.networkType=e.networkType,c.isConnected=e.isConnected,e.isConnected&&d.length)for(;d.length;)try{d.shift()()}catch(e){}}),l=!0)},fail:t})}catch(e){t(e)}})};t.throwErrorIfNetworkOffline=function(){return new Promise(function(e,r){return i.__awaiter(n,void 0,void 0,function(){return i.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,t.getNetworkStatus)()];case 1:return n.sent().isConnected?e():r("network offline"),[3,3];case 2:return n.sent(),e(),[3,3];case 3:return[2]}})})})};t.onceNetworkOnline=function(){return new Promise(function(e){c&&c.isConnected?e():d.push(e)})};var f,p=!1,_=new Set;t.onAppVisibilityChange=function(e){(0,o.getSDK)().wx.onAppShow&&(p||(function(){var e=(0,o.getSDK)().wx;e.onAppShow&&e.onAppHide&&(e.onAppShow(function(){var e,t;"visible";try{for(var r=i.__values(_),n=r.next();!n.done;n=r.next()){var o=n.value;try{o("show")}catch(e){}}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}),e.onAppHide(function(){var e,t;"hidden";try{for(var r=i.__values(_),n=r.next();!n.done;n=r.next()){var o=n.value;try{o("hide")}catch(e){}}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}))}(),p=!0),_.size>50&&_.clear(),_.add(e))},t.offAppVisibilityChange=function(e){_.delete(e)},t.getSystemInfo=function(){if(f)return f;var e=(0,o.getSDK)().wx;return f=e.getSystemInfoSync()};var h,E=!1,m=void 0;function g(e){try{return decodeURIComponent(e)}catch(t){return e}}t.privateGetBackgroundFetchData=function(e,r){return void 0===e&&(e=500),void 0===r&&(r={}),i.__awaiter(this,void 0,void 0,function(){var n,u;return i.__generator(this,function(i){switch(i.label){case 0:return(0,o.getSDK)().private_getBackgroundFetchData?r.pluginId?[2]:m?[2,m]:h?[2,h.then(function(){return m})]:E?[2]:(E=!0,n=Date.now(),[4,h=Promise.race([(0,t.sleep)(e).then(function(){return{error:"bg fetch timeout"}}),new Promise(function(e,t){(0,o.getSDK)().private_getBackgroundFetchData({fetchType:0,success:function(t){try{(m=JSON.parse(t.fetchedData)).expiresTs=(0,a.getPessimisticExpireTs)(m),e(m),(0,s.reportAPISpeed)({apiName:"private_getBackgroundFetchData",apiStartTime:n,apiEndTime:Date.now()})}catch(t){e({error:t})}},fail:function(t){e({error:t})}})})])]):[2];case 1:return u=i.sent(),h=void 0,null===t._wxConsole||void 0===t._wxConsole||t._wxConsole.log("wrap_private_getBackgroundFetchData",JSON.stringify(u)),u.error?[2,void 0]:[2,u]}})})},t.tryJSONParse=function(e){try{return JSON.parse(e)}catch(t){return e}},t.tryDecodeURIComponent=g,t.encodeWithDecode=function(e){return encodeURIComponent(g(e))};var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function S(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}t.arrayBufferToBase64=function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return function(e){for(var t=String(e),r="",n=void 0,i=void 0,o=0,s=v;t.charAt(0|o)||(s="=",o%1);r+=s.charAt(63&n>>8-o%1*8)){if((i=t.charCodeAt(o+=.75))>255)throw new Error('"btoa" failed');n=n<<8|i}return r}(t)},t.base64ToArrayBuffer=function(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n=0,i=void 0,o=void 0,s=0;o=t.charAt(s++);~o&&(i=n%4?64*i+o:o,n++%4)?r+=String.fromCharCode(255&i>>(-2*n&6)):0)o=v.indexOf(o);return r}(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer},t.arrayBufferToString=function(e){return y(new Uint8Array(e))},t.stringToArrayBuffer=function(e){return S(e).buffer},t.stringToUtf8Array=S;var y=function(){var e=new Array(128),t=String.fromCodePoint||String.fromCharCode,r=[];return function(n){var i,o,s=n.length;r.length=0;for(var a=0;a<s;)(o=n[a++])<=127?i=o:o<=223?i=(31&o)<<6|63&n[a++]:o<=239?i=(15&o)<<12|(63&n[a++])<<6|63&n[a++]:String.fromCodePoint?i=(7&o)<<18|(63&n[a++])<<12|(63&n[a++])<<6|63&n[a++]:(i=63,a+=3),r.push(e[i]||(e[i]=t(i)));return r.join("")}}()}).call(this,r("../../node_modules/.pnpm/timers-browserify@2.0.12/node_modules/timers-browserify/main.js").setImmediate)},"./src/vendor/asmcrypto.aes_cbc.js":function(e,t,r){function n(e){return e instanceof Uint8Array}function i(e,t,r,n,i){var o=e.length-t,s=o<i?o:i;return e.set(r.subarray(n,n+s),t),s}r.r(t),r.d(t,"AES_CBC",function(){return d});var o=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}}),e})(),s=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"SecurityError"}}),e})(),a=(()=>{var e,t,r,n,i,o,s=!1;function a(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}function u(){function u(r){var n,i,o;for(i=o=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)o^=i=255&(i<<1|i>>>7);return o^=99}s||function(){e=[],t=[];var r,n,i=1;for(r=0;r<255;r++)e[r]=i,n=128&i,i<<=1,i&=255,128===n&&(i^=27),i^=e[r],t[e[r]]=r;e[255]=e[0],t[0]=0,s=!0}(),r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]];for(var c=0;c<256;c++){var l=u(c);r[c]=l,n[l]=c,i[0][c]=a(2,l)<<24|l<<16|l<<8|a(3,l),o[0][l]=a(14,c)<<24|a(9,c)<<16|a(13,c)<<8|a(11,c);for(var d=1;d<4;d++)i[d][c]=i[d-1][c]>>>8|i[d-1][c]<<24,o[d][l]=o[d-1][l]>>>8|o[d-1][l]<<24}}var c=function(e,t){u();var s=new Uint32Array(t);s.set(r,512),s.set(n,768);for(var a=0;a<4;a++)s.set(i[a],4096+1024*a>>2),s.set(o[a],8192+1024*a>>2);var c=function(e,t,r){"use asm";var n=0,i=0,o=0,s=0,a=0,u=0,c=0,l=0,d=0,f=0,p=0,_=0,h=0,E=0,m=0,g=0,v=0,S=0,y=0,T=0,A=0;var b=new e.Uint32Array(r),C=new e.Uint8Array(r);function O(e,t,r,a,u,c,l,d){e=e|0;t=t|0;r=r|0;a=a|0;u=u|0;c=c|0;l=l|0;d=d|0;var f=0,p=0,_=0,h=0,E=0,m=0,g=0,v=0;f=r|0x400,p=r|0x800,_=r|0xc00;u=u^b[(e|0)>>2],c=c^b[(e|4)>>2],l=l^b[(e|8)>>2],d=d^b[(e|12)>>2];for(v=16;(v|0)<=a<<4;v=v+16|0){h=b[(r|u>>22&1020)>>2]^b[(f|c>>14&1020)>>2]^b[(p|l>>6&1020)>>2]^b[(_|d<<2&1020)>>2]^b[(e|v|0)>>2],E=b[(r|c>>22&1020)>>2]^b[(f|l>>14&1020)>>2]^b[(p|d>>6&1020)>>2]^b[(_|u<<2&1020)>>2]^b[(e|v|4)>>2],m=b[(r|l>>22&1020)>>2]^b[(f|d>>14&1020)>>2]^b[(p|u>>6&1020)>>2]^b[(_|c<<2&1020)>>2]^b[(e|v|8)>>2],g=b[(r|d>>22&1020)>>2]^b[(f|u>>14&1020)>>2]^b[(p|c>>6&1020)>>2]^b[(_|l<<2&1020)>>2]^b[(e|v|12)>>2];u=h,c=E,l=m,d=g}n=b[(t|u>>22&1020)>>2]<<24^b[(t|c>>14&1020)>>2]<<16^b[(t|l>>6&1020)>>2]<<8^b[(t|d<<2&1020)>>2]^b[(e|v|0)>>2],i=b[(t|c>>22&1020)>>2]<<24^b[(t|l>>14&1020)>>2]<<16^b[(t|d>>6&1020)>>2]<<8^b[(t|u<<2&1020)>>2]^b[(e|v|4)>>2],o=b[(t|l>>22&1020)>>2]<<24^b[(t|d>>14&1020)>>2]<<16^b[(t|u>>6&1020)>>2]<<8^b[(t|c<<2&1020)>>2]^b[(e|v|8)>>2],s=b[(t|d>>22&1020)>>2]<<24^b[(t|u>>14&1020)>>2]<<16^b[(t|c>>6&1020)>>2]<<8^b[(t|l<<2&1020)>>2]^b[(e|v|12)>>2]}function I(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;O(0x0000,0x0800,0x1000,A,e,t,r,n)}function R(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var o=0;O(0x0400,0x0c00,0x2000,A,e,n,r,t);o=i,i=s,s=o}function w(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;O(0x0000,0x0800,0x1000,A,a^e,u^t,c^r,l^d);a=n,u=i,c=o,l=s}function N(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;var f=0;O(0x0400,0x0c00,0x2000,A,e,d,r,t);f=i,i=s,s=f;n=n^a,i=i^u,o=o^c,s=s^l;a=e,u=t,c=r,l=d}function D(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;O(0x0000,0x0800,0x1000,A,a,u,c,l);a=n=n^e,u=i=i^t,c=o=o^r,l=s=s^d}function L(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;O(0x0000,0x0800,0x1000,A,a,u,c,l);n=n^e,i=i^t,o=o^r,s=s^d;a=e,u=t,c=r,l=d}function M(e,t,r,d){e=e|0;t=t|0;r=r|0;d=d|0;O(0x0000,0x0800,0x1000,A,a,u,c,l);a=n,u=i,c=o,l=s;n=n^e,i=i^t,o=o^r,s=s^d}function P(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;O(0x0000,0x0800,0x1000,A,d,f,p,_);_=~g&_|g&_+1;p=~m&p|m&p+((_|0)==0);f=~E&f|E&f+((p|0)==0);d=~h&d|h&d+((f|0)==0);n=n^e;i=i^t;o=o^r;s=s^a}function U(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,o=0,s=0,d=0,f=0,p=0,_=0,h=0,E=0,m=0;e=e^a,t=t^u,r=r^c,n=n^l;i=v|0,o=S|0,s=y|0,d=T|0;for(;(E|0)<128;E=E+1|0){if(i>>>31){f=f^e,p=p^t,_=_^r,h=h^n}i=i<<1|o>>>31,o=o<<1|s>>>31,s=s<<1|d>>>31,d=d<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000}a=f,u=p,c=_,l=h}function x(e){e=e|0;A=e}function B(e,t,r,a){e=e|0;t=t|0;r=r|0;a=a|0;n=e,i=t,o=r,s=a}function k(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;a=e,u=t,c=r,l=n}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;d=e,f=t,p=r,_=n}function G(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;h=e,E=t,m=r,g=n}function q(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;_=~g&_|g&n,p=~m&p|m&r,f=~E&f|E&t,d=~h&d|h&e}function W(e){e=e|0;if(e&15)return-1;C[e|0]=n>>>24,C[e|1]=n>>>16&255,C[e|2]=n>>>8&255,C[e|3]=n&255,C[e|4]=i>>>24,C[e|5]=i>>>16&255,C[e|6]=i>>>8&255,C[e|7]=i&255,C[e|8]=o>>>24,C[e|9]=o>>>16&255,C[e|10]=o>>>8&255,C[e|11]=o&255,C[e|12]=s>>>24,C[e|13]=s>>>16&255,C[e|14]=s>>>8&255,C[e|15]=s&255;return 16}function F(e){e=e|0;if(e&15)return-1;C[e|0]=a>>>24,C[e|1]=a>>>16&255,C[e|2]=a>>>8&255,C[e|3]=a&255,C[e|4]=u>>>24,C[e|5]=u>>>16&255,C[e|6]=u>>>8&255,C[e|7]=u&255,C[e|8]=c>>>24,C[e|9]=c>>>16&255,C[e|10]=c>>>8&255,C[e|11]=c&255,C[e|12]=l>>>24,C[e|13]=l>>>16&255,C[e|14]=l>>>8&255,C[e|15]=l&255;return 16}function Y(){I(0,0,0,0);v=n,S=i,y=o,T=s}function K(e,t,r){e=e|0;t=t|0;r=r|0;var a=0;if(t&15)return-1;while((r|0)>=16){V[e&7](C[t|0]<<24|C[t|1]<<16|C[t|2]<<8|C[t|3],C[t|4]<<24|C[t|5]<<16|C[t|6]<<8|C[t|7],C[t|8]<<24|C[t|9]<<16|C[t|10]<<8|C[t|11],C[t|12]<<24|C[t|13]<<16|C[t|14]<<8|C[t|15]);C[t|0]=n>>>24,C[t|1]=n>>>16&255,C[t|2]=n>>>8&255,C[t|3]=n&255,C[t|4]=i>>>24,C[t|5]=i>>>16&255,C[t|6]=i>>>8&255,C[t|7]=i&255,C[t|8]=o>>>24,C[t|9]=o>>>16&255,C[t|10]=o>>>8&255,C[t|11]=o&255,C[t|12]=s>>>24,C[t|13]=s>>>16&255,C[t|14]=s>>>8&255,C[t|15]=s&255;a=a+16|0,t=t+16|0,r=r-16|0}return a|0}function H(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){J[e&1](C[t|0]<<24|C[t|1]<<16|C[t|2]<<8|C[t|3],C[t|4]<<24|C[t|5]<<16|C[t|6]<<8|C[t|7],C[t|8]<<24|C[t|9]<<16|C[t|10]<<8|C[t|11],C[t|12]<<24|C[t|13]<<16|C[t|14]<<8|C[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var V=[I,R,w,N,D,L,M,P];var J=[w,U];return{set_rounds:x,set_state:B,set_iv:k,set_nonce:j,set_mask:G,set_counter:q,get_state:W,get_iv:F,gcm_init:Y,cipher:K,mac:H}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},e,t);return c.set_key=function(e,t,n,i,a,u,l,d,f){var p=s.subarray(0,60),_=s.subarray(256,316);p.set([t,n,i,a,u,l,d,f]);for(var h=e,E=1;h<4*e+28;h++){var m=p[h-1];(h%e==0||8===e&&h%e==4)&&(m=r[m>>>24]<<24^r[m>>>16&255]<<16^r[m>>>8&255]<<8^r[255&m]),h%e==0&&(m=m<<8^m>>>24^E<<24,E=E<<1^(128&E?27:0)),p[h]=p[h-e]^m}for(var g=0;g<h;g+=4)for(var v=0;v<4;v++)m=p[h-(4+g)+(4-v)%4],_[g+v]=g<4||g>=h-4?m:o[0][r[m>>>24]]^o[1][r[m>>>16&255]]^o[2][r[m>>>8&255]]^o[3][r[255&m]];c.set_rounds(e+5)},c};return c.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},c.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},c.MAC={CBC:0,GCM:1},c.HEAP_DATA=16384,c})(),u=new Uint8Array(1048576),c=(()=>a(null,u.buffer))();class l{constructor(e,t,r,n,i){this.nonce=null,this.counter=0,this.counterSize=0,this.heap=function(e,t,r){var n=t?t.byteLength:r||65536;if(4095&n||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new e(new ArrayBuffer(n))}(Uint8Array,n).subarray(a.HEAP_DATA),this.asm=i||a(null,this.heap.buffer),this.mode=null,this.key=null,this.AES_reset(e,t,r)}AES_set_key(e){if(void 0!==e){if(!n(e))throw new TypeError("unexpected key type");var t=e.length;if(16!==t&&24!==t&&32!==t)throw new o("illegal key size");var r=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_key(t>>2,r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12),t>16?r.getUint32(16):0,t>16?r.getUint32(20):0,t>24?r.getUint32(24):0,t>24?r.getUint32(28):0),this.key=e}else if(!this.key)throw new Error("key is required")}AES_CTR_set_options(e,t,r){if(void 0!==r){if(r<8||r>48)throw new o("illegal counter size");this.counterSize=r;var i=Math.pow(2,r)-1;this.asm.set_mask(0,0,i/4294967296|0,0|i)}else this.counterSize=r=48,this.asm.set_mask(0,0,65535,4294967295);if(void 0===e)throw new Error("nonce is required");if(!n(e))throw new TypeError("unexpected nonce type");var s=e.length;if(!s||s>16)throw new o("illegal nonce size");this.nonce=e;var a=new DataView(new ArrayBuffer(16));if(new Uint8Array(a.buffer).set(e),this.asm.set_nonce(a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)),void 0!==t){if(!function(e){return"number"==typeof e}(t))throw new TypeError("unexpected counter type");if(t<0||t>=Math.pow(2,r))throw new o("illegal counter value");this.counter=t,this.asm.set_counter(0,0,t/4294967296|0,0|t)}else this.counter=0}AES_set_iv(e){if(void 0!==e){if(!n(e))throw new TypeError("unexpected iv type");if(16!==e.length)throw new o("illegal iv size");var t=new DataView(e.buffer,e.byteOffset,e.byteLength);this.iv=e,this.asm.set_iv(t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12))}else this.iv=null,this.asm.set_iv(0,0,0,0)}AES_set_padding(e){this.padding=void 0===e||!!e}AES_reset(e,t,r){return this.result=null,this.pos=0,this.len=0,this.AES_set_key(e),this.AES_set_iv(t),this.AES_set_padding(r),this}AES_Encrypt_process(e){if(!n(e))throw new TypeError("data isn't of expected type");for(var t=this.asm,r=this.heap,o=a.ENC[this.mode],s=a.HEAP_DATA,u=this.pos,c=this.len,l=0,d=e.length||0,f=0,p=0,_=new Uint8Array(c+d&-16);d>0;)c+=p=i(r,u+c,e,l,d),l+=p,d-=p,(p=t.cipher(o,s+u,c))&&_.set(r.subarray(u,u+p),f),f+=p,p<c?(u+=p,c-=p):(u=0,c=0);return this.result=_,this.pos=u,this.len=c,this}AES_Encrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Encrypt_process(e).result).length);var n=this.asm,i=this.heap,s=a.ENC[this.mode],u=a.HEAP_DATA,c=this.pos,l=this.len,d=16-l%16,f=l;if(this.hasOwnProperty("padding")){if(this.padding){for(var p=0;p<d;++p)i[c+l+p]=d;f=l+=d}else if(l%16)throw new o("data length must be a multiple of the block size")}else l+=d;var _=new Uint8Array(r+f);return r&&_.set(t),l&&n.cipher(s,u+c,l),f&&_.set(i.subarray(c,c+f),r),this.result=_,this.pos=0,this.len=0,this}AES_Decrypt_process(e){if(!n(e))throw new TypeError("data isn't of expected type");var t=this.asm,r=this.heap,o=a.DEC[this.mode],s=a.HEAP_DATA,u=this.pos,c=this.len,l=0,d=e.length||0,f=0,p=c+d&-16,_=0,h=0;this.padding&&(p-=_=c+d-p||16);for(var E=new Uint8Array(p);d>0;)c+=h=i(r,u+c,e,l,d),l+=h,d-=h,(h=t.cipher(o,s+u,c-(d?0:_)))&&E.set(r.subarray(u,u+h),f),f+=h,h<c?(u+=h,c-=h):(u=0,c=0);return this.result=E,this.pos=u,this.len=c,this}AES_Decrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Decrypt_process(e).result).length);var n=this.asm,i=this.heap,u=a.DEC[this.mode],c=a.HEAP_DATA,l=this.pos,d=this.len,f=d;if(d>0){if(d%16){if(this.hasOwnProperty("padding"))throw new o("data length must be a multiple of the block size");d+=16-d%16}if(n.cipher(u,c+l,d),this.hasOwnProperty("padding")&&this.padding){var p=i[l+f-1];if(p<1||p>16||p>f)throw new s("bad padding");for(var _=0,h=p;h>1;h--)_|=p^i[l+f-h];if(_)throw new s("bad padding");f-=p}}var E=new Uint8Array(r+f);return r>0&&E.set(t),f>0&&E.set(i.subarray(l,l+f),r),this.result=E,this.pos=0,this.len=0,this}}var d=(()=>{class e extends l{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0),this.mode="CBC",this.BLOCK_SIZE=16}encrypt(e){return this.AES_Encrypt_finish(e)}decrypt(e){return this.AES_Decrypt_finish(e)}}return e.encrypt=f,e.decrypt=p,e})();function f(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new d(t,n,r,u,c).encrypt(e).result}function p(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new d(t,n,r,u,c).decrypt(e).result}var _="undefined"!=typeof crypto?crypto:"undefined"!=typeof msCrypto?msCrypto:void 0;void 0!==_&&_.getRandomValues},"./src/vendor/bson.bundle.js":function(e,t,r){(function(e,r){var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s=!1;function a(){s=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)n[t]=e[t],i[e.charCodeAt(t)]=t;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}function u(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(u(n));return i.join("")}function l(e){var t;s||a();for(var r=e.length,i=r%3,o="",u=[],l=0,d=r-i;l<d;l+=16383)u.push(c(e,l,l+16383>d?d:l+16383));return 1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="="),u.push(o),u.join("")}function d(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)}function f(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,_=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(s++,u/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=255&a,p+=_,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+p]=255&s,p+=_,s/=256,c-=8);e[r+p-_]|=128*h}var p={}.toString,_=Array.isArray||function(e){return"[object Array]"==p.call(e)};g.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT||e.TYPED_ARRAY_SUPPORT;var h=E();function E(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(e,t){if(E()<t)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=g.prototype:(null===e&&(e=new g(t)),e.length=t),e}function g(e,t,r){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return y(this,e)}return v(this,e,t,r)}function v(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);g.TYPED_ARRAY_SUPPORT?(e=t).__proto__=g.prototype:e=T(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!g.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|C(t,r),i=(e=m(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(b(t)){var r=0|A(t.length);return 0===(e=m(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?m(e,0):T(e,t);if("Buffer"===t.type&&_(t.data))return T(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function S(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function y(e,t){if(S(t),e=m(e,t<0?0:0|A(t)),!g.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function T(e,t){var r=t.length<0?0:0|A(t.length);e=m(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function A(e){if(e>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|e}function b(e){return!(null==e||!e._isBuffer)}function C(e,t){if(b(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(n)return Q(e).length;t=(""+t).toLowerCase(),n=!0}}function O(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function I(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=g.from(t,n)),b(t))return 0===t.length?-1:R(e,t,r,n,i);if("number"==typeof t)return t&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):R(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function R(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function N(e,t,r,n){return Z(Q(t,e.length-r),e,r,n)}function D(e,t,r,n){return Z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function L(e,t,r,n){return D(e,t,r,n)}function M(e,t,r,n){return Z($(t),e,r,n)}function P(e,t,r,n){return Z(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function U(e,t,r){return 0===t&&r===e.length?l(e):l(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return function(e){var t=e.length;if(t<=B)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=B));return r}(n)}g.poolSize=8192,g._augment=function(e){return e.__proto__=g.prototype,e},g.from=function(e,t,r){return v(null,e,t,r)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array),g.alloc=function(e,t,r){return function(e,t,r,n){return S(t),t<=0?m(e,t):void 0!==r?"string"==typeof n?m(e,t).fill(r,n):m(e,t).fill(r):m(e,t)}(null,e,t,r)},g.allocUnsafe=function(e){return y(null,e)},g.allocUnsafeSlow=function(e){return y(null,e)},g.isBuffer=ee,g.compare=function(e,t){if(!b(e)||!b(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},g.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(e,t){if(!_(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return g.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=g.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!b(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},g.byteLength=C,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)O(this,t,t+1);return this},g.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)O(this,t,t+3),O(this,t+1,t+2);return this},g.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)O(this,t,t+7),O(this,t+1,t+6),O(this,t+2,t+5),O(this,t+3,t+4);return this},g.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return G(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return k(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return U(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},g.prototype.equals=function(e){if(!b(e))throw new TypeError("Argument must be a Buffer");return this===e||0===g.compare(this,e)},g.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},g.prototype.compare=function(e,t,r,n,i){if(!b(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},g.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},g.prototype.indexOf=function(e,t,r){return I(this,e,t,r,!0)},g.prototype.lastIndexOf=function(e,t,r){return I(this,e,t,r,!1)},g.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return N(this,e,t,r);case"ascii":return D(this,e,t,r);case"latin1":case"binary":return L(this,e,t,r);case"base64":return M(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function G(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=z(e[o]);return i}function q(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function W(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,o){if(!b(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Y(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function K(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function H(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,i){return i||H(e,0,r,4),f(e,t,r,n,23,4),r+4}function J(e,t,r,n,i){return i||H(e,0,r,8),f(e,t,r,n,52,8),r+8}g.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),g.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=g.prototype;else{var i=t-e;r=new g(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},g.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||W(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},g.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||W(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},g.prototype.readUInt8=function(e,t){return t||W(e,1,this.length),this[e]},g.prototype.readUInt16LE=function(e,t){return t||W(e,2,this.length),this[e]|this[e+1]<<8},g.prototype.readUInt16BE=function(e,t){return t||W(e,2,this.length),this[e]<<8|this[e+1]},g.prototype.readUInt32LE=function(e,t){return t||W(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},g.prototype.readUInt32BE=function(e,t){return t||W(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},g.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||W(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},g.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||W(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},g.prototype.readInt8=function(e,t){return t||W(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},g.prototype.readInt16LE=function(e,t){t||W(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt16BE=function(e,t){t||W(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt32LE=function(e,t){return t||W(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},g.prototype.readInt32BE=function(e,t){return t||W(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},g.prototype.readFloatLE=function(e,t){return t||W(e,4,this.length),d(this,e,!0,23,4)},g.prototype.readFloatBE=function(e,t){return t||W(e,4,this.length),d(this,e,!1,23,4)},g.prototype.readDoubleLE=function(e,t){return t||W(e,8,this.length),d(this,e,!0,52,8)},g.prototype.readDoubleBE=function(e,t){return t||W(e,8,this.length),d(this,e,!1,52,8)},g.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},g.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},g.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,255,0),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},g.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},g.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},g.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):K(this,e,t,!0),t+4},g.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):K(this,e,t,!1),t+4},g.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},g.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},g.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,127,-128),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},g.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},g.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},g.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):K(this,e,t,!0),t+4},g.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):K(this,e,t,!1),t+4},g.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},g.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},g.prototype.writeDoubleLE=function(e,t,r){return J(this,e,t,!0,r)},g.prototype.writeDoubleBE=function(e,t,r){return J(this,e,t,!1,r)},g.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!g.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},g.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!g.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=b(e)?e:Q(new g(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(e){return function(e){var t,r,n,u,c,l;s||a();var d=e.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");c="="===e[d-2]?2:"="===e[d-1]?1:0,l=new o(3*d/4-c),n=c>0?d-4:d;var f=0;for(t=0,r=0;t<n;t+=4,r+=3)u=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],l[f++]=u>>16&255,l[f++]=u>>8&255,l[f++]=255&u;return 2===c?(u=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,l[f++]=255&u):1===c&&(u=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,l[f++]=u>>8&255,l[f++]=255&u),l}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(X,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function ee(e){return null!=e&&(!!e._isBuffer||te(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&te(e.slice(0,0))}(e))}function te(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var re=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:h,Buffer:g,SlowBuffer:function(e){return+e!=e&&(e=0),g.alloc(+e)},isBuffer:ee});Map;var ne=function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=t;var r={},n={};function i(e,t){var i,o,a;return t?(a=0<=(e>>>=0)&&e<256)&&(o=n[e])?o:(i=s(e,(0|e)<0?-1:0,!0),a&&(n[e]=i),i):(a=-128<=(e|=0)&&e<128)&&(o=r[e])?o:(i=s(e,e<0?-1:0,!1),a&&(r[e]=i),i)}function o(e,t){if(isNaN(e))return t?h:_;if(t){if(e<0)return h;if(e>=d)return S}else{if(e<=-f)return y;if(e+1>=f)return v}return e<0?o(-e,t).neg():s(e%l|0,e/l|0,t)}function s(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=o,e.fromBits=s;var a=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return _;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return u(e.substring(1),t,r).neg();for(var i=o(a(r,8)),s=_,c=0;c<e.length;c+=8){var l=Math.min(8,e.length-c),d=parseInt(e.substring(c,c+l),r);if(l<8){var f=o(a(r,l));s=s.mul(f).add(o(d))}else s=(s=s.mul(i)).add(o(d))}return s.unsigned=t,s}function c(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?u(e,t):s(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.fromString=u,e.fromValue=c;var l=4294967296,d=l*l,f=d/2,p=i(1<<24),_=i(0);e.ZERO=_;var h=i(0,!0);e.UZERO=h;var E=i(1);e.ONE=E;var m=i(1,!0);e.UONE=m;var g=i(-1);e.NEG_ONE=g;var v=s(-1,2147483647,!1);e.MAX_VALUE=v;var S=s(-1,-1,!0);e.MAX_UNSIGNED_VALUE=S;var y=s(0,-2147483648,!1);e.MIN_VALUE=y;var T=e.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(y)){var t=o(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(a(e,6),this.unsigned),s=this,u="";;){var c=s.div(i),l=(s.sub(c.mul(i)).toInt()>>>0).toString(e);if((s=c).isZero())return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(y)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(y)?y:this.not().add(E)},T.neg=T.negate,T.add=function(e){t(e)||(e=c(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,l=e.low>>>16,d=0,f=0,p=0,_=0;return p+=(_+=o+(65535&e.low))>>>16,f+=(p+=i+l)>>>16,d+=(f+=n+u)>>>16,d+=r+a,s((p&=65535)<<16|(_&=65535),(d&=65535)<<16|(f&=65535),this.unsigned)},T.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return _;if(t(e)||(e=c(e)),e.isZero())return _;if(this.eq(y))return e.isOdd()?y:_;if(e.eq(y))return this.isOdd()?y:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(p)&&e.lt(p))return o(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,u=e.high>>>16,l=65535&e.high,d=e.low>>>16,f=65535&e.low,h=0,E=0,m=0,g=0;return m+=(g+=a*f)>>>16,E+=(m+=i*f)>>>16,m&=65535,E+=(m+=a*d)>>>16,h+=(E+=n*f)>>>16,E&=65535,h+=(E+=i*d)>>>16,E&=65535,h+=(E+=a*l)>>>16,h+=r*f+n*d+i*l+a*u,s((m&=65535)<<16|(g&=65535),(h&=65535)<<16|(E&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");var r,n,i;if(this.isZero())return this.unsigned?h:_;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return h;if(e.gt(this.shru(1)))return m;i=h}else{if(this.eq(y))return e.eq(E)||e.eq(g)?y:e.eq(y)?E:(r=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?E:g:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));else if(e.eq(y))return this.unsigned?h:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=_}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),u=s<=48?1:a(2,s-48),l=o(r),d=l.mul(e);d.isNegative()||d.gt(n);)d=(l=o(r-=u,this.unsigned)).mul(e);l.isZero()&&(l=E),i=i.add(l),n=n.sub(d)}return i},T.div=T.divide,T.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return s(~this.low,~this.high,this.unsigned)},T.and=function(e){return t(e)||(e=c(e)),s(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return t(e)||(e=c(e)),s(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return t(e)||(e=c(e)),s(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):s(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?s(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):s(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?s(this.low>>>e|r<<32-e,r>>>e,this.unsigned):s(32===e?r:r>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?s(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:s(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},Object.defineProperty(e.prototype,"_bsontype",{value:"Long"}),e}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,t,r){return t&&oe(e.prototype,t),r&&oe(e,r),e}var ae=function(){function e(t){ie(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return se(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Double"}),e}();function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fe=function(e){function t(e,r){return ie(this,t),ce(ne.isLong(e)?ce(this,le(t).call(this,e.low,e.high,!0)):ce(this,le(t).call(this,e,r,!0)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,ne),se(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new t(ne.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new t(ne.fromNumber(e,!0))}},{key:"fromBits",value:function(e,r){return new t(e,r)}},{key:"fromString",value:function(e,r){return new t(ne.fromString(e,r,!0))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),Object.defineProperty(t.prototype,"_bsontype",{value:"Timestamp"}),t.MAX_VALUE=t.MAX_UNSIGNED_VALUE,t}(),pe={};function _e(e){for(var t=new Uint8Array(e),r=0;r<e;++r)t[r]=Math.floor(256*Math.random());return t}var he={normalizedFunctionString:function(e){return e.toString().replace("function(","function (")},randomBytes:function(){var e=_e;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)e=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{e=pe.randomBytes}catch(e){}null==e&&(e=_e)}return e}()};new Date;var Ee=function(){function e(e,t){var r={seen:[],stylize:ge};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ae(t)?r.showHidden=t:t&&Pe(r,t),Ie(r.showHidden)&&(r.showHidden=!1),Ie(r.depth)&&(r.depth=2),Ie(r.colors)&&(r.colors=!1),Ie(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=me),ve(r,e,r.depth)}return e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e}();function me(e,t){var r=Ee.styles[t];return r?"["+Ee.colors[r][0]+"m"+e+"["+Ee.colors[r][1]+"m":e}function ge(e,t){return e}function ve(e,t,r){if(e.customInspect&&t&&Le(t.inspect)&&t.inspect!==Ee&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Oe(n)||(n=ve(e,n,r)),n}var i=function(e,t){if(Ie(t))return e.stylize("undefined","undefined");if(Oe(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Ce(t))return e.stylize(""+t,"number");if(Ae(t))return e.stylize(""+t,"boolean");if(be(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),De(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Se(t);if(0===o.length){if(Le(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Re(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Ne(t))return e.stylize(Date.prototype.toString.call(t),"date");if(De(t))return Se(t)}var u,c="",l=!1,d=["{","}"];(Te(t)&&(l=!0,d=["[","]"]),Le(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Re(t)&&(c=" "+RegExp.prototype.toString.call(t)),Ne(t)&&(c=" "+Date.prototype.toUTCString.call(t)),De(t)&&(c=" "+Se(t)),0!==o.length||l&&0!=t.length?r<0?Re(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=l?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)Ue(t,String(s))?o.push(ye(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(ye(e,t,r,n,i,!0))}),o}(e,t,r,s,o):o.map(function(n){return ye(e,t,r,s,n,l)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,c,d)):d[0]+c+d[1]}function Se(e){return"["+Error.prototype.toString.call(e)+"]"}function ye(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),Ue(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=be(r)?ve(e,u.value,null):ve(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),Ie(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function Te(e){return Array.isArray(e)}function Ae(e){return"boolean"==typeof e}function be(e){return null===e}function Ce(e){return"number"==typeof e}function Oe(e){return"string"==typeof e}function Ie(e){return void 0===e}function Re(e){return we(e)&&"[object RegExp]"===Me(e)}function we(e){return"object"===ue(e)&&null!==e}function Ne(e){return we(e)&&"[object Date]"===Me(e)}function De(e){return we(e)&&("[object Error]"===Me(e)||e instanceof Error)}function Le(e){return"function"==typeof e}function Me(e){return Object.prototype.toString.call(e)}function Pe(e,t){if(!t||!we(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var xe=Ee,Be=function t(r,n){if(Ie(e.process))return function(){return t(r,n).apply(this,arguments)};var i=!1;return function(){return i||(console.error(n),i=!0),r.apply(this,arguments)}},ke=(()=>re.Buffer)(),je=Be,Ge=(0,he.randomBytes)(5),qe=new RegExp("^[0-9a-fA-F]{24}$"),We=function(){var e=!1;try{ke&&ke.from&&(e=!0)}catch(t){e=!1}return e}(),Fe=function(){for(var e=[],t=0;t<256;t++)e[t]=(t<=15?"0":"")+t.toString(16);return e}(),Ye=function(){for(var e=[],t=0;t<10;)e[48+t]=t++;for(;t<16;)e[55+t]=e[87+t]=t++;return e}(),Ke=ke;function He(e,t){var r=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(r,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}var Ve=function(){function e(t){if(ie(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var r=e.isValid(t);if(!r&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(r&&"string"==typeof t&&24===t.length&&We)return new e(ke.from(t,"hex"));if(r&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return se(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof Ke)return t=function(e){return e.toString("hex")}(this.id),e.cacheHexString&&(this.__id=t),t;for(var r=0;r<this.id.length;r++){var n=Fe[this.id.charCodeAt(r)];if("string"!=typeof n)throw He(this.id,r);t+=n}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof Ke?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),n=ke.alloc(12);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,n[4]=Ge[0],n[5]=Ge[1],n[6]=Ge[2],n[7]=Ge[3],n[8]=Ge[4],n[11]=255&r,n[10]=r>>8&255,n[9]=r>>16&255,n}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var r=ke.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,new e(r)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(We)return new e(ke.from(t,"hex"));for(var r=new Ke(12),n=0,i=0;i<24;)r[n++]=Ye[t.charCodeAt(i++)]<<4|Ye[t.charCodeAt(i++)];return new e(r)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&qe.test(t):t instanceof e||(t instanceof Ke&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&qe.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e.get_inc=je(function(){return e.getInc()},"Please use the static `ObjectId.getInc()` instead"),e.prototype.get_inc=je(function(){return e.getInc()},"Please use the static `ObjectId.getInc()` instead"),e.prototype.getInc=je(function(){return e.getInc()},"Please use the static `ObjectId.getInc()` instead"),e.prototype.generate=je(function(t){return e.generate(t)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(e.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.prototype[xe.custom||"inspect"]=e.prototype.toString,e.index=~~(16777215*Math.random()),Object.defineProperty(e.prototype,"_bsontype",{value:"ObjectID"}),e}();var Je=function(){function e(t,r){ie(this,e),this.pattern=t||"",this.options=r?function(e){return e.split("").sort().join("")}(r):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option [".concat(this.options[n],"] is not supported"))}return se(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){return t.$regex?"BSONRegExp"===t.$regex._bsontype?t:new e(t.$regex,e.parseOptions(t.$options)):new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"BSONRegExp"}),e}(),Xe=function(){function e(t){ie(this,e),this.value=t}return se(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Symbol"}),e}(),ze=function(){function e(t){ie(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return se(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Int32"}),e}(),Qe=function(){function e(t,r){ie(this,e),this.code=t,this.scope=r}return se(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Code"}),e}(),$e=(()=>re.Buffer)(),Ze=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,et=/^(\+|-)?(Infinity|inf)$/i,tt=/^(\+|-)?NaN$/i,rt=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),nt=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),it=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),ot=/^([-+])?(\d+)?$/;function st(e){return!isNaN(parseInt(e,10))}function at(e){var t=ne.fromNumber(1e9),r=ne.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new ne(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function ut(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var ct=function(){function e(e){this.bytes=e}e.fromString=function(t){var r,n=!1,i=!1,o=!1,s=0,a=0,u=0,c=0,l=0,d=[0],f=0,p=0,_=0,h=0,E=0,m=0,g=[0,0],v=[0,0],S=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var y=t.match(Ze),T=t.match(et),A=t.match(tt);if(!y&&!T&&!A||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(y){var b=y[2],C=y[4],O=y[5],I=y[6];C&&void 0===I&&ut(t,"missing exponent power"),C&&void 0===b&&ut(t,"missing exponent base"),void 0===C&&(O||I)&&ut(t,"missing e before exponent")}if("+"!==t[S]&&"-"!==t[S]||(n="-"===t[S++]),!st(t[S])&&"."!==t[S]){if("i"===t[S]||"I"===t[S])return new e($e.from(n?nt:it));if("N"===t[S])return new e($e.from(rt))}for(;st(t[S])||"."===t[S];)"."!==t[S]?(f<34&&("0"!==t[S]||o)&&(o||(l=a),o=!0,d[p++]=parseInt(t[S],10),f+=1),o&&(u+=1),i&&(c+=1),a+=1,S+=1):(i&&ut(t,"contains multiple periods"),i=!0,S+=1);if(i&&!a)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[S]||"E"===t[S]){var R=t.substr(++S).match(ot);if(!R||!R[2])return new e($e.from(rt));E=parseInt(R[0],10),S+=R[0].length}if(t[S])return new e($e.from(rt));if(_=0,f){if(h=f-1,1!==(s=u))for(;"0"===t[l+s-1];)s-=1}else _=0,h=0,d[0]=0,u=1,f=1,s=0;for(E<=c&&c-E>16384?E=-6176:E-=c;E>6111;){if((h+=1)-_>34){if(d.join("").match(/^0+$/)){E=6111;break}ut(t,"overflow")}E-=1}for(;E<-6176||f<u;){if(0===h&&s<f){E=-6176,s=0;break}if(f<u?u-=1:h-=1,E<6111)E+=1;else{if(d.join("").match(/^0+$/)){E=6111;break}ut(t,"overflow")}}if(h-_+1<s){var w=a;i&&(l+=1,w+=1),n&&(l+=1,w+=1);var N=parseInt(t[l+h+1],10),D=0;if(N>=5&&(D=1,5===N))for(D=d[h]%2==1,m=l+h+2;m<w;m++)if(parseInt(t[m],10)){D=1;break}if(D)for(var L=h;L>=0;L--)if(++d[L]>9&&(d[L]=0,0===L)){if(!(E<6111))return new e($e.from(n?nt:it));E+=1,d[L]=1}}if(g=ne.fromNumber(0),v=ne.fromNumber(0),0===s)g=ne.fromNumber(0),v=ne.fromNumber(0);else if(h-_<17){var M=_;for(v=ne.fromNumber(d[M++]),g=new ne(0,0);M<=h;M++)v=(v=v.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[M]))}else{var P=_;for(g=ne.fromNumber(d[P++]);P<=h-17;P++)g=(g=g.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[P]));for(v=ne.fromNumber(d[P++]);P<=h;P++)v=(v=v.multiply(ne.fromNumber(10))).add(ne.fromNumber(d[P]))}var U=function(e,t){if(!e&&!t)return{high:ne.fromNumber(0),low:ne.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new ne(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new ne(t.getLowBits(),0),s=r.multiply(i),a=r.multiply(o),u=n.multiply(i),c=n.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new ne(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:c=a.shiftLeft(32).add(new ne(c.getLowBits(),0))}}(g,ne.fromString("100000000000000000"));U.low=U.low.add(v),function(e,t){var r=e.high>>>0,n=t.high>>>0;return r<n||r===n&&e.low>>>0<t.low>>>0}(U.low,v)&&(U.high=U.high.add(ne.fromNumber(1))),r=E+6176;var x={low:ne.fromNumber(0),high:ne.fromNumber(0)};U.high.shiftRightUnsigned(49).and(ne.fromNumber(1)).equals(ne.fromNumber(1))?(x.high=x.high.or(ne.fromNumber(3).shiftLeft(61)),x.high=x.high.or(ne.fromNumber(r).and(ne.fromNumber(16383).shiftLeft(47))),x.high=x.high.or(U.high.and(ne.fromNumber(0x7fffffffffff)))):(x.high=x.high.or(ne.fromNumber(16383&r).shiftLeft(49)),x.high=x.high.or(U.high.and(ne.fromNumber(562949953421311)))),x.low=U.low,n&&(x.high=x.high.or(ne.fromString("9223372036854775808")));var B=$e.alloc(16);return S=0,B[S++]=255&x.low.low,B[S++]=x.low.low>>8&255,B[S++]=x.low.low>>16&255,B[S++]=x.low.low>>24&255,B[S++]=255&x.low.high,B[S++]=x.low.high>>8&255,B[S++]=x.low.high>>16&255,B[S++]=x.low.high>>24&255,B[S++]=255&x.high.low,B[S++]=x.high.low>>8&255,B[S++]=x.high.low>>16&255,B[S++]=x.high.low>>24&255,B[S++]=255&x.high.high,B[S++]=x.high.high>>8&255,B[S++]=x.high.high>>16&255,B[S++]=x.high.high>>24&255,new e(B)};return e.prototype.toString=function(){for(var e,t,r,n,i,o,s=0,a=new Array(36),u=0;u<a.length;u++)a[u]=0;var c,l,d,f,p,_=0,h=!1,E={parts:new Array(4)},m=[];_=0;var g=this.bytes;if(n=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24,r=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24,t=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24,e=g[_++]|g[_++]<<8|g[_++]<<16|g[_++]<<24,_=0,{low:new ne(n,r),high:new ne(t,e)}.high.lessThan(ne.ZERO)&&m.push("-"),(i=e>>26&31)>>3==3){if(30===i)return m.join("")+"Infinity";if(31===i)return"NaN";o=e>>15&16383,d=8+(e>>14&1)}else d=e>>14&7,o=e>>17&16383;if(c=o-6176,E.parts[0]=(16383&e)+((15&d)<<14),E.parts[1]=t,E.parts[2]=r,E.parts[3]=n,0===E.parts[0]&&0===E.parts[1]&&0===E.parts[2]&&0===E.parts[3])h=!0;else for(p=3;p>=0;p--){var v=0,S=at(E);if(E=S.quotient,v=S.rem.low)for(f=8;f>=0;f--)a[9*p+f]=v%10,v=Math.floor(v/10)}if(h)s=1,a[_]=0;else for(s=36;!a[_];)s-=1,_+=1;if((l=s-1+c)>=34||l<=-7||c>0){if(s>34)return m.push(0),c>0?m.push("E+"+c):c<0&&m.push("E"+c),m.join("");m.push(a[_++]),(s-=1)&&m.push(".");for(var y=0;y<s;y++)m.push(a[_++]);m.push("E"),l>0?m.push("+"+l):m.push(l)}else if(c>=0)for(var T=0;T<s;T++)m.push(a[_++]);else{var A=s+c;if(A>0)for(var b=0;b<A;b++)m.push(a[_++]);else m.push("0");for(m.push(".");A++<0;)m.push("0");for(var C=0;C<s-Math.max(A-1,0);C++)m.push(a[_++])}return m.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},Object.defineProperty(e.prototype,"_bsontype",{value:"Decimal128"}),e}(),lt=function(){function e(){ie(this,e)}return se(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MinKey"}),e}(),dt=function(){function e(){ie(this,e)}return se(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MaxKey"}),e}(),ft=function(){function e(t,r,n,i){ie(this,e);var o=t.split(".");2===o.length&&(n=o.shift(),t=o.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return se(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))}}],[{key:"fromExtendedJSON",value:function(t){var r=Object.assign({},t);return["$ref","$id","$db"].forEach(function(e){return delete r[e]}),new e(t.$ref,t.$id,t.$db,r)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1}),e}(),pt=(()=>re.Buffer)(),_t=function(){function e(r,n){if(ie(this,e),!(null==r||"string"==typeof r||pt.isBuffer(r)||r instanceof Uint8Array||Array.isArray(r)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?t:n,this.position=0,null==r||r instanceof Number)void 0!==pt?this.buffer=pt.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof r)if(void 0!==pt)this.buffer=pt.from(r);else{if("undefined"==typeof Uint8Array&&!Array.isArray(r))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=function(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(r)}else this.buffer=r;this.position=r.length}}se(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==pt&&pt.isBuffer(this.buffer)){var i=pt.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=n}else{var o=null;o=r(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var s=0;s<this.buffer.length;s++)o[s]=this.buffer[s];this.buffer=o,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==pt&&pt.isBuffer(this.buffer))n=pt.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(r(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var i=0;i<this.position;i++)n[i]=this.buffer[i]}this.buffer=n}if(void 0!==pt&&pt.isBuffer(e)&&pt.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==pt&&"string"==typeof e&&pt.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(r(e)||Array.isArray(e)&&"string"!=typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var s=0;s<e.length;s++)this.buffer[t++]=e.charCodeAt(s);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var r="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),n=0;n<t;n++)r[n]=this.buffer[e++];return r}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==pt&&pt.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==pt&&pt.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=r(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return function(e,t,r){for(var n="",i=t;i<r;i++)n+=String.fromCharCode(e[i]);return n}(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=pt.isBuffer(this.buffer)?this.buffer.toString("base64"):pt.from(this.buffer).toString("base64"),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===r.length?"0"+r:r}:{$binary:{base64:t,subType:1===r.length?"0"+r:r}}}}],[{key:"fromExtendedJSON",value:function(t,r){var n,i;return(r=r||{}).legacy?(i=t.$type?parseInt(t.$type,16):0,n=pt.from(t.$binary,"base64")):(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=pt.from(t.$binary.base64,"base64")),new e(n,i)}}]);var t=0;function r(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}return e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,Object.defineProperty(e.prototype,"_bsontype",{value:"Binary"}),e}(),ht={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128},Et={$oid:Ve,$binary:_t,$symbol:Xe,$numberInt:ze,$numberDecimal:ct,$numberDouble:ae,$numberLong:ne,$minKey:lt,$maxKey:dt,$regex:Je,$regularExpression:Je,$timestamp:fe};function mt(e,t){var r=this;return"boolean"==typeof(t=Object.assign({},{relaxed:!0,legacy:!1},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,n){return function e(t,r,n,i){if("number"==typeof n){if(i.relaxed||i.legacy)return n;if(Math.floor(n)===n){if(n>=vt&&n<=gt)return new ze(n);if(n>=yt&&n<=St)return new ne.fromNumber(n)}return new ae(n)}if(null==n||"object"!==ue(n))return n;if(n.$undefined)return null;for(var o=Object.keys(n).filter(function(e){return e.startsWith("$")&&null!=n[e]}),s=0;s<o.length;s++){var a=Et[o[s]];if(a)return a.fromExtendedJSON(n,i)}if(null!=n.$date){var u=n.$date,c=new Date;return i.legacy?"number"==typeof u?c.setTime(u):"string"==typeof u&&c.setTime(Date.parse(u)):"string"==typeof u?c.setTime(Date.parse(u)):ne.isLong(u)?c.setTime(u.toNumber()):"number"==typeof u&&i.relaxed&&c.setTime(u),c}if(null!=n.$code){var l=Object.assign({},n);return n.$scope&&(l.$scope=e(t,null,n.$scope)),Qe.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var d=n.$ref?n:n.$dbPointer;if(d instanceof ft)return d;var f=!0;if(Object.keys(d).filter(function(e){return e.startsWith("$")}).forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(f=!1)}),f)return ft.fromExtendedJSON(d)}return n}(r,0,n,t)})}var gt=2147483647,vt=-2147483648,St=0x8000000000000000,yt=-0x8000000000000000;function Tt(e,t,r,n){null!=r&&"object"===ue(r)&&(n=r,r=0),null==t||"object"!==ue(t)||Array.isArray(t)||(n=t,t=null,r=0),n=Object.assign({},{relaxed:!0,legacy:!1},n);var i=Array.isArray(e)?At(e,n):It(e,n);return JSON.stringify(i,t,r)}function At(e,t){return e.map(function(e){return Ct(e,t)})}function bt(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function Ct(e,t){if(Array.isArray(e))return At(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),n=r>-1&&r<2534023188e5;return t.legacy?t.relaxed&&n?{$date:e.getTime()}:{$date:bt(e)}:t.relaxed&&n?{$date:bt(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=yt&&e<=St;if(e>=vt&&e<=gt)return{$numberInt:e.toString()};if(i)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var o=e.flags;return void 0===o&&(o=e.toString().match(/[gimuy]*$/)[0]),new Je(e.source,o).toExtendedJSON(t)}return null!=e&&"object"===ue(e)?It(e,t):e}var Ot={Binary:function(e){return new _t(e.value(),e.subtype)},Code:function(e){return new Qe(e.code,e.scope)},DBRef:function(e){return new ft(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new ct(e.bytes)},Double:function(e){return new ae(e.value)},Int32:function(e){return new ze(e.value)},Long:function(e){return ne.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new dt},MinKey:function(){return new lt},ObjectID:function(e){return new Ve(e)},ObjectId:function(e){return new Ve(e)},BSONRegExp:function(e){return new Je(e.pattern,e.options)},Symbol:function(e){return new Xe(e.value)},Timestamp:function(e){return fe.fromBits(e.low,e.high)}};function It(e,t){if(null==e||"object"!==ue(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var n={};for(var i in e)n[i]=Ct(e[i],t);return n}if("string"==typeof r){var o=e;if("function"!=typeof o.toExtendedJSON){var s=Ot[r];if(!s)throw new TypeError("Unrecognized or invalid _bsontype: "+r);o=s(o)}return"Code"===r&&o.scope?o=new Qe(o.code,Ct(o.scope,t)):"DBRef"===r&&o.oid&&(o=new ft(o.collection,Ct(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+ue(r))}var Rt={parse:mt,deserialize:function(e,t){return t=t||{},mt(JSON.stringify(e),t)},serialize:function(e,t){return t=t||{},JSON.parse(Tt(e,t))},stringify:Tt};ht.JS_INT_MAX,ht.JS_INT_MIN;t.EJSON=Rt}).call(this,r("../../node_modules/.pnpm/webpack@4.46.0_webpack-command@0.4.2/node_modules/webpack/buildin/global.js"),r("../../node_modules/.pnpm/buffer@4.9.2/node_modules/buffer/index.js").Buffer)},"./src/vendor/snappy.js":function(e,t,r){(function(t,r){var n,i={};!function e(t,r,i){function o(a,u){if(!r[a]){if(!t[a]){if(!u&&("function"==typeof n&&n))return n(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r||e)},l,l.exports,e,t,r,i)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,r){i.uncompress=e("./index").uncompress,i.compress=e("./index").compress},{"./index":2}],2:[function(e,n,i){function o(){return"object"==typeof t&&"object"==typeof t.versions&&void 0!==t.versions.node}function s(e){return e instanceof Uint8Array&&(!o()||!r.isBuffer(e))}function a(e){return e instanceof ArrayBuffer}function u(e){return!!o()&&r.isBuffer(e)}var c=e("./snappy_decompressor").SnappyDecompressor,l=e("./snappy_compressor").SnappyCompressor,d="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";i.uncompress=function(e){if(!s(e)&&!a(e)&&!u(e))throw new TypeError(d);var t=!1,n=!1;s(e)?t=!0:a(e)&&(n=!0,e=new Uint8Array(e));var i,o,l=new c(e),f=l.readUncompressedLength();if(-1===f)throw new Error("Invalid Snappy bitstream");if(t){if(i=new Uint8Array(f),!l.uncompressToBuffer(i))throw new Error("Invalid Snappy bitstream")}else if(n){if(i=new ArrayBuffer(f),o=new Uint8Array(i),!l.uncompressToBuffer(o))throw new Error("Invalid Snappy bitstream")}else if(i=r.alloc(f),!l.uncompressToBuffer(i))throw new Error("Invalid Snappy bitstream");return i},i.compress=function(e){if(!s(e)&&!a(e)&&!u(e))throw new TypeError(d);var t=!1,n=!1;s(e)?t=!0:a(e)&&(n=!0,e=new Uint8Array(e));var i,o,c,f=new l(e),p=f.maxCompressedLength();return t?(i=new Uint8Array(p),c=f.compressToBuffer(i)):n?(i=new ArrayBuffer(p),o=new Uint8Array(i),c=f.compressToBuffer(o)):(i=r.alloc(p),c=f.compressToBuffer(i)),i.slice(0,c)}},{"./snappy_compressor":3,"./snappy_decompressor":4}],3:[function(e,t,r){function n(e,t){return 506832829*e>>>t}function i(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)}function o(e,t,r){return e[t]===e[r]&&e[t+1]===e[r+1]&&e[t+2]===e[r+2]&&e[t+3]===e[r+3]}function s(e,t,r,n,i){return r<=60?(n[i]=r-1<<2,i+=1):r<256?(n[i]=240,n[i+1]=r-1,i+=2):(n[i]=244,n[i+1]=r-1&255,n[i+2]=r-1>>>8,i+=3),function(e,t,r,n,i){var o;for(o=0;o<i;o++)r[n+o]=e[t+o]}(e,t,n,i,r),i+r}function a(e,t,r,n){return n<12&&r<2048?(e[t]=1+(n-4<<2)+(r>>>8<<5),e[t+1]=255&r,t+2):(e[t]=2+(n-1<<2),e[t+1]=255&r,e[t+2]=r>>>8,t+3)}function u(e,t,r,n){for(;n>=68;)t=a(e,t,r,64),n-=64;return n>64&&(t=a(e,t,r,60),n-=60),a(e,t,r,n)}function c(e,t,r,a,c){for(var l=1;1<<l<=r&&l<=d;)l+=1;var p=32-(l-=1);void 0===f[l]&&(f[l]=new Uint16Array(1<<l));var _,h=f[l];for(_=0;_<h.length;_++)h[_]=0;var E,m,g,v,S,y,T,A,b,C,O=t+r,I=t,R=t,w=!0;if(r>=15)for(E=O-15,g=n(i(e,t+=1),p);w;){y=32,v=t;do{if(m=g,T=y>>>5,y+=1,v=(t=v)+T,t>E){w=!1;break}g=n(i(e,v),p),S=I+h[m],h[m]=t-I}while(!o(e,t,S));if(!w)break;c=s(e,R,t-R,a,c);do{for(A=t,b=4;t+b<O&&e[t+b]===e[S+b];)b+=1;if(t+=b,c=u(a,c,A-S,b),R=t,t>=E){w=!1;break}h[n(i(e,t-1),p)]=t-1-I,S=I+h[C=n(i(e,t),p)],h[C]=t-I}while(o(e,t,S));if(!w)break;g=n(i(e,t+=1),p)}return R<O&&(c=s(e,R,O-R,a,c)),c}function l(e){this.array=e}var d=14,f=new Array(d+1);l.prototype.maxCompressedLength=function(){var e=this.array.length;return 32+e+Math.floor(e/6)},l.prototype.compressToBuffer=function(e){var t,r=this.array,n=r.length,i=0,o=0;for(o=function(e,t,r){do{t[r]=127&e,(e>>>=7)>0&&(t[r]+=128),r+=1}while(e>0);return r}(n,e,o);i<n;)o=c(r,i,t=Math.min(n-i,65536),e,o),i+=t;return o},r.SnappyCompressor=l},{}],4:[function(e,t,r){function n(e,t,r,n,i){var o;for(o=0;o<i;o++)r[n+o]=e[t+o]}function i(e,t,r,n){var i;for(i=0;i<n;i++)e[t+i]=e[t-r+i]}function o(e){this.array=e,this.pos=0}var s=[0,255,65535,16777215,4294967295];o.prototype.readUncompressedLength=function(){for(var e,t,r=0,n=0;n<32&&this.pos<this.array.length;){if(e=this.array[this.pos],this.pos+=1,(t=127&e)<<n>>>n!==t)return-1;if(r|=t<<n,e<128)return r;n+=7}return-1},o.prototype.uncompressToBuffer=function(e){for(var t,r,o,a,u=this.array,c=u.length,l=this.pos,d=0;l<u.length;)if(t=u[l],l+=1,0==(3&t)){if((r=1+(t>>>2))>60){if(l+3>=c)return!1;o=r-60,r=1+((r=u[l]+(u[l+1]<<8)+(u[l+2]<<16)+(u[l+3]<<24))&s[o]),l+=o}if(l+r>c)return!1;n(u,l,e,d,r),l+=r,d+=r}else{switch(3&t){case 1:r=4+(t>>>2&7),a=u[l]+(t>>>5<<8),l+=1;break;case 2:if(l+1>=c)return!1;r=1+(t>>>2),a=u[l]+(u[l+1]<<8),l+=2;break;case 3:if(l+3>=c)return!1;r=1+(t>>>2),a=u[l]+(u[l+1]<<8)+(u[l+2]<<16)+(u[l+3]<<24),l+=4}if(0===a||a>d)return!1;i(e,d,a,r),d+=r}return!0},r.SnappyDecompressor=o},{}]},{},[1]),e.exports=i}).call(this,r("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"),r("../../node_modules/.pnpm/buffer@4.9.2/node_modules/buffer/index.js").Buffer)},"@web":function(e,t){e.exports={}}});
  var __sdk__ = Object.assign({
    // private api is not available in cloud: true
    isUsedCache: () => false,
    reportCallContainer: () => {},
    private_getUserAgent: cb => cb(''),
    request: wx.request,
  }, wx)
  __sdk__.wx = __sdk__
  __cloudSDK__.setDefaultSDK(__sdk__)

  var apis = __cloudSDK__.getCloudAPI()
  if (!wx.cloud) {
    wx.cloud = apis
  } else {
    for (var api in apis) {
      wx.cloud[api] = apis[api]
    }
  }

  __sdk__.cloud = wx.cloud
  // wxlib under 2.5.x, using plugins in app.json, property overwrite will not work, this is an escape hatch
  wx.__cloud__ = apis
  var loadEnd = Date.now()
  Object.defineProperty(wx.cloud, 'profile', {
    value: { loadStart, loadEnd },
    configurable: true,
  })
  console.log('using cloud: true (build ts 1670494204239)')
} catch(err) {
  console.error('cloud sdk (build ts 1670494204239) injection failed with error', err)
}
})();
/*v0.5vv_20211229_syb_scopedata*/global.__wcc_version__='v0.5vv_20211229_syb_scopedata';global.__wcc_version_info__={"customComponents":true,"fixZeroRpx":true,"propValueDeepCopy":false};
var $gwxc
var $gaic={}
$gwx=function(_,_v,_n,_p,_s,_wp,_wl,$gwn,$gwl,$gwh,wh,$gstack,$gwrt,gra,grb,TestTest,wfor,_ca,_da,_r,_rz,_o,_oz,_1,_1z,_2,_2z,_m,_mz,nv_getDate,nv_getRegExp,nv_console,nv_parseInt,nv_parseFloat,nv_isNaN,nv_isFinite,nv_decodeURI,nv_decodeURIComponent,nv_encodeURI,nv_encodeURIComponent,$gdc,nv_JSON,_af,_gv,_ai,_grp,_gd,_gapi,$ixc,_ic,_w,_ev,_tsd){return function(path,global){
if(typeof global==='undefined'){if (typeof __GWX_GLOBAL__==='undefined')global={};else global=__GWX_GLOBAL__;}if(typeof __WXML_GLOBAL__ === 'undefined') {__WXML_GLOBAL__={};
}__WXML_GLOBAL__.modules = __WXML_GLOBAL__.modules || {};
var e_={}
if(typeof(global.entrys)==='undefined')global.entrys={};e_=global.entrys;
var d_={}
if(typeof(global.defines)==='undefined')global.defines={};d_=global.defines;
var f_={}
if(typeof(global.modules)==='undefined')global.modules={};f_=global.modules || {};
var p_={}
__WXML_GLOBAL__.ops_cached = __WXML_GLOBAL__.ops_cached || {}
__WXML_GLOBAL__.ops_set = __WXML_GLOBAL__.ops_set || {};
__WXML_GLOBAL__.ops_init = __WXML_GLOBAL__.ops_init || {};
var z=__WXML_GLOBAL__.ops_set.$gwx || [];
function gz$gwx_1(){
if( __WXML_GLOBAL__.ops_cached.$gwx_1)return __WXML_GLOBAL__.ops_cached.$gwx_1
__WXML_GLOBAL__.ops_cached.$gwx_1=[];
(function(z){var a=11;function Z(ops){z.push(ops)}
Z([[7],[3,'list']])
Z([3,'index'])
Z([3,'switchTab'])
Z([a,[3,'tab-bar-item '],[[2,'?:'],[[6],[[7],[3,'item']],[3,'bulge']],[1,'bulge'],[1,'']]])
Z([[6],[[7],[3,'item']],[3,'guide']])
Z([[7],[3,'index']])
Z([[6],[[7],[3,'item']],[3,'pagePath']])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[7],[3,'showCouponGuide']],[[7],[3,'guideText']]],[[2,'!=='],[[7],[3,'selected']],[1,2]]],[[2,'=='],[[7],[3,'index']],[1,2]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[6],[[7],[3,'item']],[3,'guide']],[[2,'!'],[[7],[3,'hasShowGuide']]]],[[2,'!=='],[[7],[3,'selected']],[1,2]]],[[2,'=='],[[7],[3,'index']],[1,2]]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'showReddot']],[[2,'!=='],[[7],[3,'selected']],[1,2]]],[[2,'=='],[[7],[3,'index']],[1,2]]])
Z([[2,'&&'],[[2,'&&'],[[2,'&&'],[[2,'!=='],[[7],[3,'selected']],[1,3]],[[2,'=='],[[7],[3,'index']],[1,3]]],[[7],[3,'showPointsFlag']]],[[2,'!'],[[7],[3,'haveShowedPointsFlag']]]])
Z([[2,'&&'],[[2,'&&'],[[7],[3,'showBirthEntry']],[[2,'!=='],[[7],[3,'selected']],[1,4]]],[[2,'=='],[[7],[3,'index']],[1,4]]])
Z([[6],[[7],[3,'item']],[3,'text']])
})(__WXML_GLOBAL__.ops_cached.$gwx_1);return __WXML_GLOBAL__.ops_cached.$gwx_1
}
__WXML_GLOBAL__.ops_set.$gwx=z;
__WXML_GLOBAL__.ops_init.$gwx=true;
var nv_require=function(){var nnm={"m_./components/boxlite/mp-html/node/node.wxml:handler":np_0,"p_./components/uni-swipe-action-item/index.wxs":np_1,};var nom={};return function(n){if(n[0]==='p'&&n[1]==='_'&&f_[n.slice(2)])return f_[n.slice(2)];return function(){if(!nnm[n]) return undefined;try{if(!nom[n])nom[n]=nnm[n]();return nom[n];}catch(e){e.message=e.message.replace(/nv_/g,'');var tmp = e.stack.substring(0,e.stack.lastIndexOf(n));e.stack = tmp.substring(0,tmp.lastIndexOf('\n'));e.stack = e.stack.replace(/\snv_/g,' ');e.stack = $gstack(e.stack);e.stack += '\n    at ' + n.substring(2);console.error(e);}
}}}()
f_['./components/boxlite/mp-html/node/node.wxml']={};
f_['./components/boxlite/mp-html/node/node.wxml']['handler'] =nv_require("m_./components/boxlite/mp-html/node/node.wxml:handler");
function np_0(){var nv_module={nv_exports:{}};var nv_inlineTags = ({nv_abbr:true,nv_b:true,nv_big:true,nv_code:true,nv_del:true,nv_em:true,nv_i:true,nv_ins:true,nv_label:true,nv_q:true,nv_small:true,nv_span:true,nv_strong:true,nv_sub:true,nv_sup:true,});nv_module.nv_exports = ({nv_isInline:(function (nv_tagName,nv_style){return(nv_inlineTags[((nt_0=(nv_tagName),null==nt_0?undefined:'number'=== typeof nt_0?nt_0:"nv_"+nt_0))] || (nv_style || '').nv_indexOf('display:inline') !== -1)}),});return nv_module.nv_exports;}

f_['./components/uni-swipe-action-item/index.wxs'] = nv_require("p_./components/uni-swipe-action-item/index.wxs");
function np_1(){var nv_module={nv_exports:{}};var nv_MIN_DISTANCE = 10;var nv_IS_HTML5 = false;if (typeof nv_window === 'object')nv_IS_HTML5 = true;;function nv_sizeReady(nv_newValue,nv_oldValue,nv_ownerInstance,nv_instance){var nv_state = nv_instance.nv_getState();var nv_buttonPositions = nv_JSON.nv_parse(nv_newValue);if (!nv_buttonPositions || !nv_buttonPositions.nv_data || nv_buttonPositions.nv_data.nv_length === 0)return;;nv_state.nv_leftWidth = nv_buttonPositions.nv_data[(0)].nv_width;nv_state.nv_rightWidth = nv_buttonPositions.nv_data[(1)].nv_width;nv_state.nv_threshold = nv_instance.nv_getDataset().nv_threshold;if (nv_buttonPositions.nv_show && nv_buttonPositions.nv_show !== 'none'){nv_openState(nv_buttonPositions.nv_show,nv_instance,nv_ownerInstance);return};if (nv_state.nv_left){nv_openState('none',nv_instance,nv_ownerInstance)};nv_resetTouchStatus(nv_instance)};function nv_touchstart(nv_e,nv_ins){var nv_instance = nv_e.nv_instance;var nv_disabled = nv_instance.nv_getDataset().nv_disabled;var nv_state = nv_instance.nv_getState();nv_disabled = (typeof (nv_disabled) === 'string' ? nv_JSON.nv_parse(nv_disabled):nv_disabled) || false;if (nv_disabled)return;;nv_instance.nv_requestAnimationFrame((function (){nv_instance.nv_removeClass('ani');nv_ins.nv_callMethod('closeSwipe')}));nv_state.nv_x = nv_state.nv_left || 0;nv_stopTouchStart(nv_e,nv_ins)};function nv_touchmove(nv_e,nv_ownerInstance){var nv_instance = nv_e.nv_instance;var nv_disabled = nv_instance.nv_getDataset().nv_disabled;var nv_state = nv_instance.nv_getState();nv_disabled = (typeof (nv_disabled) === 'string' ? nv_JSON.nv_parse(nv_disabled):nv_disabled) || false;if (nv_disabled)return;;nv_stopTouchMove(nv_e);if (nv_state.nv_direction !== 'horizontal'){return};if (nv_e.nv_preventDefault){nv_e.nv_preventDefault()};nv_move(nv_state.nv_x + nv_state.nv_deltaX,nv_instance,nv_ownerInstance)};function nv_touchend(nv_e,nv_ownerInstance){var nv_instance = nv_e.nv_instance;var nv_disabled = nv_instance.nv_getDataset().nv_disabled;var nv_state = nv_instance.nv_getState();nv_disabled = (typeof (nv_disabled) === 'string' ? nv_JSON.nv_parse(nv_disabled):nv_disabled) || false;if (nv_disabled)return;;nv_moveDirection(nv_state.nv_left,nv_instance,nv_ownerInstance)};function nv_move(nv_value,nv_instance,nv_ownerInstance){nv_value = nv_value || 0;var nv_state = nv_instance.nv_getState();var nv_leftWidth = nv_state.nv_leftWidth;var nv_rightWidth = nv_state.nv_rightWidth;nv_state.nv_left = nv_range(nv_value,-nv_rightWidth,nv_leftWidth);nv_instance.nv_requestAnimationFrame((function (){nv_instance.nv_setStyle(({nv_transform:'translateX(' + nv_state.nv_left + 'px)','nv_-webkit-transform':'translateX(' + nv_state.nv_left + 'px)',}))}))};function nv_range(nv_num,nv_min,nv_max){return(Math.nv_min(Math.nv_max(nv_num,nv_min),nv_max))};function nv_moveDirection(nv_left,nv_ins,nv_ownerInstance){var nv_state = nv_ins.nv_getState();var nv_threshold = nv_state.nv_threshold;var nv_position = nv_state.nv_position;var nv_isopen = nv_state.nv_isopen || 'none';var nv_leftWidth = nv_state.nv_leftWidth;var nv_rightWidth = nv_state.nv_rightWidth;if (nv_state.nv_deltaX === 0){nv_openState('none',nv_ins,nv_ownerInstance);return};if ((nv_isopen === 'none' && nv_rightWidth > 0 && -nv_left > nv_threshold) || (nv_isopen !== 'none' && nv_rightWidth > 0 && nv_rightWidth + nv_left < nv_threshold)){nv_openState('right',nv_ins,nv_ownerInstance)} else if ((nv_isopen === 'none' && nv_leftWidth > 0 && nv_left > nv_threshold) || (nv_isopen !== 'none' && nv_leftWidth > 0 && nv_leftWidth - nv_left < nv_threshold)){nv_openState('left',nv_ins,nv_ownerInstance)} else {nv_openState('none',nv_ins,nv_ownerInstance)}};function nv_openState(nv_type,nv_ins,nv_ownerInstance){var nv_state = nv_ins.nv_getState();var nv_position = nv_state.nv_position;var nv_leftWidth = nv_state.nv_leftWidth;var nv_rightWidth = nv_state.nv_rightWidth;var nv_left = '';nv_state.nv_isopen = nv_state.nv_isopen ? nv_state.nv_isopen:'none';switch(nv_type){case "left":nv_left = nv_leftWidth;break;case "right":nv_left = -nv_rightWidth;break;default:nv_left = 0;};if (nv_state.nv_isopen !== nv_type){nv_state.nv_throttle = true;nv_ownerInstance.nv_callMethod('change',({nv_open:nv_type,}))};nv_state.nv_isopen = nv_type;nv_ins.nv_requestAnimationFrame((function (){nv_ins.nv_addClass('ani');nv_move(nv_left,nv_ins,nv_ownerInstance)}))};function nv_getDirection(nv_x,nv_y){if (nv_x > nv_y && nv_x > nv_MIN_DISTANCE){return('horizontal')};if (nv_y > nv_x && nv_y > nv_MIN_DISTANCE){return('vertical')};return('')};function nv_resetTouchStatus(nv_instance){var nv_state = nv_instance.nv_getState();nv_state.nv_direction = '';nv_state.nv_deltaX = 0;nv_state.nv_deltaY = 0;nv_state.nv_offsetX = 0;nv_state.nv_offsetY = 0};function nv_stopTouchStart(nv_event){var nv_instance = nv_event.nv_instance;var nv_state = nv_instance.nv_getState();nv_resetTouchStatus(nv_instance);var nv_touch = nv_event.nv_touches[(0)];if (nv_IS_HTML5 && nv_isPC()){nv_touch = nv_event};nv_state.nv_startX = nv_touch.nv_clientX;nv_state.nv_startY = nv_touch.nv_clientY};function nv_stopTouchMove(nv_event){var nv_instance = nv_event.nv_instance;var nv_state = nv_instance.nv_getState();var nv_touch = nv_event.nv_touches[(0)];if (nv_IS_HTML5 && nv_isPC()){nv_touch = nv_event};nv_state.nv_deltaX = nv_touch.nv_clientX - nv_state.nv_startX;nv_state.nv_deltaY = nv_touch.nv_clientY - nv_state.nv_startY;nv_state.nv_offsetY = Math.nv_abs(nv_state.nv_deltaY);nv_state.nv_offsetX = Math.nv_abs(nv_state.nv_deltaX);nv_state.nv_direction = nv_state.nv_direction || nv_getDirection(nv_state.nv_offsetX,nv_state.nv_offsetY)};function nv_isPC(){var nv_userAgentInfo = nv_navigator.nv_userAgent;var nv_Agents = ["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var nv_flag = true;for(var nv_v = 0;nv_v < nv_Agents.nv_length - 1;nv_v++){if (nv_userAgentInfo.nv_indexOf(nv_Agents[((nt_4=(nv_v),null==nt_4?undefined:'number'=== typeof nt_4?nt_4:"nv_"+nt_4))]) > 0){nv_flag = false;break}};return(nv_flag)};var nv_movable = false;function nv_mousedown(nv_e,nv_ins){if (!nv_IS_HTML5)return;;if (!nv_isPC())return;;nv_touchstart(nv_e,nv_ins);nv_movable = true};function nv_mousemove(nv_e,nv_ins){if (!nv_IS_HTML5)return;;if (!nv_isPC())return;;if (!nv_movable)return;;nv_touchmove(nv_e,nv_ins)};function nv_mouseup(nv_e,nv_ins){if (!nv_IS_HTML5)return;;if (!nv_isPC())return;;nv_touchend(nv_e,nv_ins);nv_movable = false};function nv_mouseleave(nv_e,nv_ins){if (!nv_IS_HTML5)return;;if (!nv_isPC())return;;nv_movable = false};nv_module.nv_exports = ({nv_sizeReady:nv_sizeReady,nv_touchstart:nv_touchstart,nv_touchmove:nv_touchmove,nv_touchend:nv_touchend,nv_mousedown:nv_mousedown,nv_mousemove:nv_mousemove,nv_mouseup:nv_mouseup,nv_mouseleave:nv_mouseleave,});return nv_module.nv_exports;}

f_['./components/uni-swipe-action-item/uni-swipe-action-item.wxml']={};
f_['./components/uni-swipe-action-item/uni-swipe-action-item.wxml']['swipe'] =f_['./components/uni-swipe-action-item/index.wxs'] || nv_require("p_./components/uni-swipe-action-item/index.wxs");
f_['./components/uni-swipe-action-item/uni-swipe-action-item.wxml']['swipe']();

var x=['./custom-tab-bar/index.wxml'];d_[x[0]]={}
var m0=function(e,s,r,gg){
var z=gz$gwx_1()
var oB=_v()
_(r,oB)
var xC=function(fE,oD,cF,gg){
var oH=_mz(z,'view',['bindtap',2,'class',1,'data-guide',2,'data-index',3,'data-path',4],[],fE,oD,gg)
var cI=_v()
_(oH,cI)
if(_oz(z,7,fE,oD,gg)){cI.wxVkey=1
}
var oJ=_v()
_(oH,oJ)
if(_oz(z,8,fE,oD,gg)){oJ.wxVkey=1
}
var lK=_v()
_(oH,lK)
if(_oz(z,9,fE,oD,gg)){lK.wxVkey=1
}
var aL=_v()
_(oH,aL)
if(_oz(z,10,fE,oD,gg)){aL.wxVkey=1
}
var tM=_v()
_(oH,tM)
if(_oz(z,11,fE,oD,gg)){tM.wxVkey=1
}
var eN=_v()
_(oH,eN)
if(_oz(z,12,fE,oD,gg)){eN.wxVkey=1
}
cI.wxXCkey=1
oJ.wxXCkey=1
lK.wxXCkey=1
aL.wxXCkey=1
tM.wxXCkey=1
eN.wxXCkey=1
_(cF,oH)
return cF
}
oB.wxXCkey=2
_2z(z,0,xC,e,s,gg,oB,'item','index','index')
return r
}
e_[x[0]]={f:m0,j:[],i:[],ti:[],ic:[]}
if(path&&e_[path]){
return function(env,dd,global){$gwxc=0;var root={"tag":"wx-page"};root.children=[]
;g="$gwx";var main=e_[path].f
if (typeof global==="undefined")global={};global.f=$gdc(f_[path],"",1);
try{
main(env,{},root,global);
_tsd(root)
}catch(err){
console.log(err)
}
;g="";
return root;
}
}
}
}(__g.a,__g.b,__g.c,__g.d,__g.e,__g.f,__g.g,__g.h,__g.i,__g.j,__g.k,__g.l,__g.m,__g.n,__g.o,__g.p,__g.q,__g.r,__g.s,__g.t,__g.u,__g.v,__g.w,__g.x,__g.y,__g.z,__g.A,__g.B,__g.C,__g.D,__g.E,__g.F,__g.G,__g.H,__g.I,__g.J,__g.K,__g.L,__g.M,__g.N,__g.O,__g.P,__g.Q,__g.R,__g.S,__g.T,__g.U,__g.V,__g.W,__g.X,__g.Y,__g.Z,__g.aa);if(__vd_version_info__.delayedGwx||true)$gwx();	if (__vd_version_info__.delayedGwx) __wxAppCode__['custom-tab-bar/index.wxml'] = [$gwx, './custom-tab-bar/index.wxml'];else __wxAppCode__['custom-tab-bar/index.wxml'] = $gwx( './custom-tab-bar/index.wxml' );
	;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Arrayincludes.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if(0==n)return!1;for(var i,o,a=0|e,u=Math.max(0<=a?a:n-Math.abs(a),0);u<n;){if((i=t[u])===(o=r)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;u++}return!1}});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Arrayincludes.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Objectentries.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Object.entries||(Object.entries=function(e){for(var r=Object.keys(e),t=r.length,n=new Array(t);t--;)n[t]=[r[t],e[r[t]]];return n});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Objectentries.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/Objectvalues.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
Object.values||(Object.values=function(e){if(e!==Object(e))throw new TypeError("Object.values called on a non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(e[t]);return r});
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/Objectvalues.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/arrayLikeToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=new Array(a);e<a;e++)n[e]=r[e];return n}module.exports=_arrayLikeToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/arrayLikeToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/assertThisInitialized.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=_assertThisInitialized;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/assertThisInitialized.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/classCallCheck.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _classCallCheck(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}module.exports=_classCallCheck;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/classCallCheck.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createClass.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var toPropertyKey=require("./toPropertyKey");function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}module.exports=_createClass;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createClass.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createForOfIteratorHelper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var unsupportedIterableToArray=require("./unsupportedIterableToArray");function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,o=function(){};return{s:o,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return u=r.done,r},e:function(r){i=!0,a=r},f:function(){try{u||null==t.return||t.return()}finally{if(i)throw a}}}}module.exports=_createForOfIteratorHelper;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createForOfIteratorHelper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/createSuper.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var getPrototypeOf=require("./getPrototypeOf"),isNativeReflectConstruct=require("./isNativeReflectConstruct"),possibleConstructorReturn=require("./possibleConstructorReturn");function _createSuper(t){var e=isNativeReflectConstruct();return function(){var r,o=getPrototypeOf(t);if(e){var s=getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return possibleConstructorReturn(this,r)}}module.exports=_createSuper;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/createSuper.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/get.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var superPropBase=require("./superPropBase");function _get(){return"undefined"!=typeof Reflect&&Reflect.get?module.exports=_get=Reflect.get.bind():module.exports=_get=function(e,t,r){var o=superPropBase(e,t);if(o){var p=Object.getOwnPropertyDescriptor(o,t);return p.get?p.get.call(arguments.length<3?e:r):p.value}},_get.apply(this,arguments)}module.exports=_get;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/get.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/getPrototypeOf.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _getPrototypeOf(t){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}module.exports=_getPrototypeOf;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/getPrototypeOf.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/inherits.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var setPrototypeOf=require("./setPrototypeOf");function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&setPrototypeOf(e,t)}module.exports=_inherits;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/inherits.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/isNativeReflectConstruct.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}module.exports=_isNativeReflectConstruct;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/isNativeReflectConstruct.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/possibleConstructorReturn.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof"),assertThisInitialized=require("./assertThisInitialized");function _possibleConstructorReturn(e,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(e)}module.exports=_possibleConstructorReturn;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/possibleConstructorReturn.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/setPrototypeOf.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _setPrototypeOf(t,e){return module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}module.exports=_setPrototypeOf;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/setPrototypeOf.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/superPropBase.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var getPrototypeOf=require("./getPrototypeOf");function _superPropBase(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=getPrototypeOf(e)););return e}module.exports=_superPropBase;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/superPropBase.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toPrimitive.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof");function _toPrimitive(r,t){if("object"!==_typeof(r)||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var i=e.call(r,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}module.exports=_toPrimitive;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toPrimitive.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/toPropertyKey.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var _typeof=require("./typeof"),toPrimitive=require("./toPrimitive");function _toPropertyKey(r){var t=toPrimitive(r,"string");return"symbol"===_typeof(t)?t:String(t)}module.exports=_toPropertyKey;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/toPropertyKey.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/typeof.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
function _typeof(o){return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}module.exports=_typeof;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/typeof.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("@babel/runtime/helpers/unsupportedIterableToArray.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
var arrayLikeToArray=require("./arrayLikeToArray");function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?arrayLikeToArray(r,e):void 0}}module.exports=_unsupportedIterableToArray;
},{isPage:false,isComponent:false,currentFile:'@babel/runtime/helpers/unsupportedIterableToArray.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("common/main.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../@babel/runtime/helpers/Arrayincludes"),require("../@babel/runtime/helpers/Objectentries");var t=require("../@babel/runtime/helpers/typeof");(global.webpackJsonp=global.webpackJsonp||[]).push([["common/main"],{"21e9":function(t,e,r){},"23be":function(t,e,r){r.r(e);var n=r("e4a4"),o=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},"3dfd":function(t,e,r){r.r(e);var n=r("23be");for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("5c0b");var a=r("f0c5"),i=Object(a.a)(n.default,void 0,void 0,!1,null,null,null,!1,void 0,void 0);e.default=i.exports},"56d7":function(e,r,n){(function(e,r){function o(e){return(o="function"==typeof Symbol&&"symbol"==t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}n("6cdc"),n("921b");var a,i=d(n("66fd")),c=d(n("3dfd")),s=d(n("07a4")),u=(d(n("c9b7")),d(n("d7e7"))),l=d(n("34f3")),p=d(n("b9ef")),f=n("3822");function d(t){return t&&t.__esModule?t:{default:t}}function g(){g=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:P(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",h="executing",y="completed",v={};function b(){}function m(){}function _(){}var S={};l(S,c,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(j([])));x&&x!==r&&n.call(x,c)&&(S=x);var k=_.prototype=b.prototype=Object.create(S);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function r(a,i,c,s){var u=f(t[a],t,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==o(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,s)}))}s(u.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=d;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:"suspendedYield",u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(o(e)+" is not iterable")}return m.prototype=_,a(k,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:m,configurable:!0}),m.displayName=l(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},O(I.prototype),l(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new I(p(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(k),l(k,u,"Generator"),l(k,c,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function h(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}d(n("9417")).default.init(),l.default.init({token:"bid09a7f7fedc34681",appid:"wx9627eb7f4b1c69d5",usePlugin:!0,debug:!0,proxyPage:!0,proxyComponent:!0,openSdkShareDepth:!0,autoTrack:!1,openAutoTrackOpenId:!0}),l.default.setUser({open_id:null!==(a=e.getStorageSync("providerId"))&&void 0!==a?a:"",app_id:"wx9627eb7f4b1c69d5"}),l.default.setChan({chan_wxapp_scene:1037}),i.default.prototype.sr_sdk=l.default,i.default.prototype.srdata=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.default.track(t,v({time:(new Date).getTime()+""},e))},i.default.component("pm-back-button",(function(){n.e("components/pm-back-button/pm-back-button").then(function(){return resolve(n("1f58"))}.bind(null,n)).catch(n.oe)})),i.default.component("wxml2canvas",(function(){Promise.all([n.e("common/vendor"),n.e("node-modules/@popfex/uni-labubu-painter/libs/wxml2canvas")]).then(function(){return resolve(n("2058"))}.bind(null,n)).catch(n.oe)})),i.default.component("seat-view",(function(){n.e("components/seatView").then(function(){return resolve(n("5424"))}.bind(null,n)).catch(n.oe)})),i.default.prototype.sensors=u.default,(0,p.default)(u.default).then(function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,c,"next",t)}function c(t){h(a,n,o,i,c,"throw",t)}i(void 0)}))}}(g().mark((function t(e){var r,n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.abKing)(u.default);case 2:return r=t.sent,t.next=5,(0,f.abBoxGoods)(u.default);case 5:n=t.sent,s.default.state.abTestValue=r,s.default.state.abTestBoxgoods=n;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.default.config.productionTip=!1,i.default.prototype.getGlobalUser=function(t){var r=e.getStorageSync(t);return null!=r&&""!=r&&null!=r?r:null},i.default.prototype.getGlobalMember=function(t){var r=e.getStorageSync(t);return null!=r&&""!=r&&null!=r?r:null},i.default.prototype.getGlobalPhone=function(t){var r=e.getStorageSync(t);return""!=r&&null!=r?r:""},i.default.prototype.getGlobalLoginStatus=function(t){var r=e.getStorageSync(t);return""!=r&&null!=r&&r},i.default.prototype.getGlobalFirstLogin=function(t){var r=e.getStorageSync(t);return""!=r&&null!=r?r:""},i.default.prototype.getGlobaStoreInfo=function(t){var r=e.getStorageSync(t);return null!=r&&""!=r&&null!=r?r:null},i.default.mixin({methods:{setTabBarIndex:function(t){"function"==typeof this.$mp.page.getTabBar&&this.$mp.page.getTabBar()&&(this.$mp.page.getTabBar().handleGuideText(),0!==t&&(m.globalData.floatImg?(wx.setStorageSync("showShopTips",m.globalData.floatImg),this.$mp.page.getTabBar().setData({selected:t,showShopTips:0!=t&&m.globalData.floatImg})):this.$mp.page.getTabBar().setData({selected:t,showShopTips:3!=t&&4!=t&&2!=t})),this.showPointsFlag())},showPointsFlag:function(){wx.getStorageSync("haveShownPointsFlag")&&this.$mp.page.getTabBar().setData({showPointsFlag:!1})}}}),c.default.mpType="app";var m=new i.default(v({store:s.default},c.default));r(m).$mount()}).call(this,n("543d").default,n("543d").createApp)},"5c0b":function(t,e,r){var n=r("21e9");r.n(n).a},e4a4:function(e,r,n){(function(e){function o(e){return(o="function"==typeof Symbol&&"symbol"==t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=b(n("b775")),i=b(n("9d1f")),c=n("365c"),s=b(n("c9b7")),u=b(n("eea7")),l=b(n("bee3")),p=b(n("8237")),f=n("2f62"),d=b(n("d7e7")),g=b(n("131c")),h=n("d9bb"),y=b(n("0330")),v=b(n("9417"));function b(t){return t&&t.__esModule?t:{default:t}}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function S(){S=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:P(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",g="executing",h="completed",y={};function v(){}function b(){}function m(){}var _={};l(_,c,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(j([])));x&&x!==r&&n.call(x,c)&&(_=x);var k=m.prototype=v.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function r(a,i,c,s){var u=f(t[a],t,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==o(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,s)}))}s(u.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=d;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=L(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?h:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function j(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(o(e)+" is not iterable")}return b.prototype=m,a(k,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:b,configurable:!0}),b.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,l(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},O(I.prototype),l(I.prototype,s,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new I(p(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(k),l(k,u,"Generator"),l(k,c,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=j,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;D(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function I(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){O(a,n,o,i,c,"next",t)}function c(t){O(a,n,o,i,c,"throw",t)}i(void 0)}))}}var P=requirePlugin("tdfp-plugin"),L=requirePlugin("gateway-challenge");r.default={globalData:{sensors:d.default,phone:"",userId:"",openid:"",is_paying:!1,count:0,isAppLogin:!1,giftShareTicket:"",appCallback:null,tokenCallBack:null,userCallBack:null,boxUserCallBack:null,liveData:{},tencentHostControl:!0,isShowPrivacyMask:1,templateConfig:s.default.proxyHandle({}),h5_url:"",source_params:{},boxOrderPayed:!1,pointsInfo:s.default.proxyHandle({}),actCallback:null,birthMonthInfo:s.default.proxyHandle({}),is_show_birth_entry:"",pendant:"",open_img:""},onLaunch:function(){var t=I(S().mark((function t(r){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.removeStorageSync("globalUser"),e.removeStorageSync("isShowedBoxGuide"),e.removeStorageSync("tabBarIndex"),this.source_params=Object.assign({},x({},r)),this.$scope.globalData.count++,this.getCounldType(),t.next=8,i.default.setup({maskMode:"no-mask"});case 8:try{L.start(),new P.FMAgent(h.fmOpt).init()}catch(t){}case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),onUnhandledRejection:function(t){v.default.report({msg:JSON.stringify(t),level:y.default.logType.PROMISE_ERROR})},onPageNotFound:function(t){var e=t.path,r=t.query,n=this.entriesObject(r);trace.event("PageNotFoundError",{msg:e,qs:n}),l.default.track("PopMartMemberMPClientError",{page_url:t.path})},onShow:function(t){this.getScreenInfo();this.checkUpdate();if(0===this.globalData.count&&"packages/robot/pages/robotConfirmOrder/robotConfirmOrder"!==t.path&&"packages/storePaymentLink/pages/storeConfirmOrder/storeConfirmOrder"!==t.path&&"packages/robot/pages/popCamera/popCameraConfirmOrder"!==t.path){var e=this.getOptions(t);this.loginCallback(e)}"packages/boxlite/pages/confirm/index"===t.path&&this.globalData.boxOrderPayed?this.globalData.boxOrderPayed=!1:(this.getActivityBanners(!0),t&&t.shareTicket&&(this.globalData.giftShareTicket=t.shareTicket),this.getTemplateInfo(!0),this.getJsonPublicConfig())},onHide:function(){this.globalData.isAppLogin=!1,this.globalData.count=0,e.setStorageSync("banners",null),e.setStorageSync("isShowRedCircle",""),e.setStorageSync("first_open",!1),e.setStorageSync("isRequestPopup",!1)},onError:function(t){},methods:x(x({},(0,f.mapActions)(["changeHpShares","changeGlobalShareInfo","changePublicArticle","changeSvipUserInfo","changeIsLogin","changeGlobalUser","changePopToken","changeUnionid","changeOldBox","changeLoginDone","getBoxAuthInfo","changePendant","changeShowBirthEntry","changeOpenImg"])),{},{entriesObject:function(t){for(var e="",r=0,n=Object.entries(t);r<n.length;r++){var o=m(n[r],2),a=o[0],i=o[1];e+="".concat(a,"=").concat(i,"&")}return e=e.slice(0,-1)},getLiteUserInfo:function(t){var e=this;return I(S().mark((function r(){var n,o;return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.pyGetLiteUserInfo)({user_id:t});case 2:n=r.sent,o=n.data,e.changeSvipUserInfo(o.data);case 5:case"end":return r.stop()}}),r)})))()},getGlobalConfig:function(){var t=this;return I(S().mark((function e(){var r,n,o,a,i,s,u,l,p;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.jsonGlobalShareConfig)();case 2:r=e.sent,n=r.data,o=new Map,a=new Map,i=0,s=Object.entries(n);case 7:if(!(i<s.length)){e.next=31;break}u=m(s[i],2),l=u[0],p=u[1],e.t0=l,e.next="cloud_store"===e.t0?12:"new_goods_calendar"===e.t0?14:"pick_up_in_store"===e.t0?16:"home_page"===e.t0?18:"points_store"===e.t0?20:"red_packet"===e.t0?22:"vip_level"===e.t0?24:"gift_card"===e.t0?26:28;break;case 12:return o.set("fast",{imgUrl:p.img_url,shareTitle:p.title}),e.abrupt("break",28);case 14:return o.set("calendar",{imgUrl:p.img_url,shareTitle:p.title}),e.abrupt("break",28);case 16:return o.set("store",{imgUrl:p.img_url,shareTitle:p.title}),e.abrupt("break",28);case 18:return a.set("home",p),e.abrupt("break",28);case 20:return a.set("intStore",p),e.abrupt("break",28);case 22:return a.set("redbag",p),e.abrupt("break",28);case 24:return a.set("vipLevel",p),e.abrupt("break",28);case 26:return a.set("mindCard",p),e.abrupt("break",28);case 28:i++,e.next=7;break;case 31:t.changeGlobalShareInfo(o),t.changeHpShares(a);case 33:case"end":return e.stop()}}),e)})))()},getCounldType:function(){var t=this;(0,c.jsonTencentHostConfig)().then((function(e){t.globalData.tencentHostControl=e.data.data.tencentHostControl,t.appLogin(t.source_params),t.getGlobalConfig()}))},getOptions:function(t){var e={};if(t&&t.query)if(t.query.q){var r=decodeURIComponent(t.query.q).split("?"),n=(r[0],r[1]);if(n){var o=n.split("&");for(var a in o)e[o[a].split("=")[0]]=o[a].split("=")[1]}}else e=t.query;return e},appLogin:function(t){var e=this.getOptions(t);this.wXinLogin(e)},wXinLogin:function(t){var r=this;e.removeStorageSync("userId"),e.removeStorageSync("providerId"),e.removeStorageSync("tokenInfo"),this.globalData.isAppLogin=!0,e.login({success:function(){var n=I(S().mark((function n(o){var s,u,p;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=o.code,r.code=s,u="",n.prev=3,n.next=6,r.getBlackBox();case 6:u=n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),u="";case 12:p={code:s,source:t&&t.source?t.source:"",gdt_vid:t&&t.gdt_vid?t.gdt_vid:"",black_box:u},(0,c.postWechatLogin)(p).then((function(n){var o,a=n.data.data,c=a.openid;if(r.globalData.userInfo=x({},a),a&&a.openid||l.default.track("PopMartMemberMPLoginError",{userInfo:a,param:p}),a.providerId=c,v.default.login(a),a.phone&&a.union_id){r.globalData.phone=a.phone,r.globalData.userId=a.user_id;var s=e.getStorageSync("defalutAddress")||null;s&&s.user_id!=a.user_id&&e.removeStorageSync("defalutAddress"),e.setStorageSync("loginStatus",!0),r.changeIsLogin(!0),e.setStorageSync("userPhone",a.phone),d.default.login(a.user_id),e.setStorageSync("userId",a.user_id.toString()),r.getUserInfo(),wx.setStorageSync("showCouponGuide",!1),wx.setStorageSync("showSurpriseCouponGuide",!1),r.getBoxUserInfo(a.user_id),r.getToken(),r.getLiteUserInfo(r.globalData.userId),r.getUserPointsInfo()}else e.setStorageSync("loginStatus",!1),r.changeUnionid(a.union_id),r.changeIsLogin(!1),wx.setStorageSync("showCouponGuide",!0),d.default.setOpenid(a.openid);if(r.changeOldBox(null!==(o=a.is_box_online_old_user)&&void 0!==o&&o),e.setStorageSync("providerId",c),r.globalData.guideCallback&&r.globalData.guideCallback(),r.globalData.appCallback&&r.globalData.appCallback(),r.globalData.actCallback&&r.globalData.actCallback(),r.sr_sdk.setUser({open_id:c+"",app_id:"wx9627eb7f4b1c69d5"}),r.sr_sdk.setChan({chan_wxapp_scene:1037}),d.default.init(),r.sensors=d.default,e.setStorageSync("firstLogin",a.first_login),r.bootPopup(),a.openid&&r.getBlackBox().then((function(t){r.globalData.black_box=t,a.user_id&&r.saveBlackBox(t)})),t&&t.source)if("store_vip"===t.source){if(e.setStorageSync("svip_source",t.source),"store_vip"===t.source&&t.store_id){var u=t.store_id;e.setStorageSync("svip_store_id",u)}}else if("boxonline"===t.source||"pop_xyplp"===t.source||"vxgo_mdcx"===t.source)e.setStorageSync("login_source",t.source);else if("store_go_detail"===t.source&&t.sharePhone)e.setStorageSync("sharePhone",t.sharePhone);else if(e.setStorageSync("source",t.source),"store"===t.source&&t.source_id){var f=t.source_id;e.setStorageSync("store_id",f)}r.changeLoginDone(!0),r.loginCallback(t),i.default.setCustomId(a.openid)})).catch((function(t){40001003===t.data.code&&e.showModal({title:"提示",content:t.data&&t.data.msg,success:function(t){t.confirm&&e.navigateToMiniProgram({appId:"wx15f182efdb0ba66c",envVersion:a.default.isProd?"release":"trial"})}}),432!==t.statusCode&&439!==t.statusCode&&437!==t.statusCode||e.redirectTo({url:"/packages/service_lineup/pages/service_lineup/stopPC"}),[102020,102021].includes(t.data.code)&&e.redirectTo({url:"/packages/service_lineup/pages/service_lineup/network_busy"})}));case 14:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(t){return n.apply(this,arguments)}}()})},loginCallback:function(t){t.storeId&&(t.storeID=t.storeId);var r=e.getStorageSync("loginStatus"),n={robot:"/packages/robot/pages/robotConfirmOrder/robotConfirmOrder?order_id=".concat(t.order_id,"&buy_limit=").concat(t.buy_limit),camera:"/packages/robot/pages/popCamera/popCameraConfirmOrder?order_id=".concat(t.order_id),store_vip:"/packages/svip/pages/index/index",exchange:"/packages/exchange/pages/exchangeArea/exchangeArea?account=".concat(t.account,"&password=").concat(t.password),store_gift:"/packages/mindCardSecond/pages/mindCardSecond/mindCardSecond?source=store_gift",store_gift_woman:"/packages/mindCardSecond/pages/mindCardSecond/mindCardSecond?source=store_gift_woman",store_go_detail:"/packages/storeGoGoodsDetail/pages/goodsDetail/goodsDetail?goodsSpuId=".concat(t.goodsSpuId,"&storeID=").concat(t.storeID||"","&sharePhone=").concat(t.sharePhone,"&shopType=").concat(t.shopType,"&from=").concat(t.from,"&moduleName=").concat(t.moduleName),lottery_list:"/packages/lottery/pages/lotteryHome",store_paymentLink:"/packages/storePaymentLink/pages/storeConfirmOrder/storeConfirmOrder?order_id=".concat(t.order_id,"&store_id=").concat(t.store_id),store_go_shop:"/pages/storeGo/shop/shop?from=".concat(t.from),app_store_go_shop:"/pages/storeGo/shop/shop?sharePhone=".concat(t.sharePhone,"&storeID=").concat(t.storeID,"&from=").concat(t.from),driftingShareFragment:"/packages/driftingBottle/pages/driftingShareFragment?uid=".concat(t.uid,"&activity_id=").concat(t.activity_id,"&source=pop_xyplp&isFromPoster=true"),driftingShareRain:"/packages/driftingBottle/pages/driftingShareRain?uid=".concat(t.uid,"&activity_id=").concat(t.activity_id,"&source=pop_xyplp&isFromPoster=true"),card_exchange:"/packages/activity/pages/octNovSecond/cardExchange",mega:"/packages/mega/index?type=".concat(t.type),points_goods_detail:"/packages/pointShop/pages/goodsDetail/goodsDetail?toy_id=".concat(t.toy_id,"&toy_type=").concat(t.toy_type)},o={robot:"/packages/robot/pages/robotIndex/robotIndex?order_id=".concat(t.order_id,"&buy_limit=").concat(t.buy_limit),camera:"/packages/robot/pages/popCamera/popCameraIndex?order_id=".concat(t.order_id),store_vip:"/packages/svip/pages/index/index",exchange:"/packages/exchange/pages/exchangeArea/exchangeArea?account=".concat(t.account,"&password=").concat(t.password),store_gift:"/packages/mindCardSecond/pages/mindCardSecond/mindCardSecond?source=store_gift",store_gift_woman:"/packages/mindCardSecond/pages/mindCardSecond/mindCardSecond?source=store_gift_woman",store_go_detail:"/packages/storeGoGoodsDetail/pages/goodsDetail/goodsDetail?goodsSpuId=".concat(t.goodsSpuId,"&storeID=").concat(t.storeID||"","&sharePhone=").concat(t.sharePhone,"&shopType=").concat(t.shopType,"&from=").concat(t.from,"&moduleName=").concat(t.moduleName),lottery_list:"/packages/lottery/pages/lotteryHome",store_paymentLink:"/packages/storePaymentLink/pages/storeIndex/storeIndex?order_id=".concat(t.order_id,"&store_id=").concat(t.store_id),store_go_shop:"/pages/storeGo/shop/shop?from=".concat(t.from),app_store_go_shop:"/pages/storeGo/shop/shop?sharePhone=".concat(t.sharePhone,"&storeID=").concat(t.storeID,"&from=").concat(t.from),driftingShareFragment:"/packages/driftingBottle/pages/driftingShareFragment?uid=".concat(t.uid,"&activity_id=").concat(t.activity_id,"&source=pop_xyplp&isFromPoster=true"),driftingShareRain:"/packages/driftingBottle/pages/driftingShareRain?uid=".concat(t.uid,"&activity_id=").concat(t.activity_id,"&source=pop_xyplp&isFromPoster=true"),card_exchange:"/packages/activity/pages/octNovSecond/cardExchange",mega:"/packages/mega/index?type=".concat(t.type),points_goods_detail:"/packages/pointShop/pages/goodsDetail/goodsDetail?toy_id=".concat(t.toy_id,"&toy_type=").concat(t.toy_type)};0!==Object.keys(t).length&&t.hasOwnProperty("source")&&(r?e.reLaunch({url:n[t.source]}):e.reLaunch({url:o[t.source]}))},checkUpdate:function(){if(e.canIUse("getUpdateManager")){var t=e.getUpdateManager();t.onCheckForUpdate((function(r){r.hasUpdate&&(t.onUpdateReady((function(r){e.showModal({title:"更新提示",content:"新版本已经准备好，请更新～",showCancel:!1,success:function(e){t.applyUpdate()}})})),t.onUpdateFailed((function(){e.showModal({title:"更新提示",content:"新版本下载失败,请删除小程序重新添加"})})))}))}else e.showModal({title:"提示",content:"当前微信版本过低，请升级到最新微信版本。"})},bootPopup:function(){var t=this;return I(S().mark((function r(){var n,o;return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.getStorageSync("loginStatus")){r.next=2;break}return r.abrupt("return");case 2:if(!e.getStorageSync("isRequestPopup")){r.next=4;break}return r.abrupt("return");case 4:return e.setStorageSync("isRequestPopup",!0),r.next=7,(0,c.vipUpPop)();case 7:n=r.sent,(o=n.data.data).upgrade&&t.globalData.showUpLevelCallback&&t.globalData.showUpLevelCallback(o);case 10:case"end":return r.stop()}}),r)})))()},getTemplateInfo:function(){return I(S().mark((function t(){var r,n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.pyGetTemplateInfo)();case 2:r=t.sent,n=r.data.data,e.setStorageSync("totalTpls",n);case 5:case"end":return t.stop()}}),t)})))()},querySubscribeTpls:function(t){var r=this;if(e.getStorageSync("totalTpls")){var n=e.getStorageSync("totalTpls"),o=[];n[t].forEach((function(t,e){o.push(t.template_id)}));var a=[],i=[];(0,c.pyWechatSubscribe)({templates:JSON.stringify(o)}).then((function(t){var e=t.data.data.subscribe_info;for(var n in e)e[n]?a.push(n):i.push(n);0!==i.length&&r.requestSubscribeMessage(i)}))}},requestSubscribeMessage:function(t){(0,u.default)("login.requestSubscribeMessage",{tmplIds:t}).then((function(t){var e=Object.keys(t).filter((function(e){return"accept"==t[e]}));(0,c.pyWechatSubscribePost)({templates:e})}))},getPaySuccessBanners:function(t){return I(S().mark((function t(){var r,n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.jsonBannersConfig)();case 2:r=t.sent,n=r.data.banners,e.setStorageSync("banners",n);case 5:case"end":return t.stop()}}),t)})))()},getActivityBanners:function(){return I(S().mark((function t(){var r,n;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.jsonQrcodePayConfig)();case 2:r=t.sent,n=r.data,e.setStorageSync("banners",n);case 5:case"end":return t.stop()}}),t)})))()},bannerSkip:function(t,r){switch(t.action){case 1:var n,o=this.switchFromPage(r),i=t.appid?t.appid:t.app_id;n="wx15f182efdb0ba66c"===i?t.value?t.value:"pages/index"+o:"",e.navigateToMiniProgram({appId:i,envVersion:a.default.isProd?"release":"trial",path:n,success:function(t){t.errMsg}});break;case 2:e.navigateTo({url:t.value});break;case 3:this.goHtml5(t.value);break;case 4:e.reLaunch({url:t.value});break;case 5:this.toLive()}},switchFromPage:function(t){var e="";switch(t){case"huiyuanmaye":e="?utm_source=huiyuanmaye&utm_medium=banner&utm_term=yunyingpeizhibanner&utm_campaign=popmart_member_MP";break;case"zhifuwanchengye":e="?utm_source=zhifuwanchengye&utm_medium=banner&utm_term=yunyingpeizhibanner&utm_campaign=popmart_member_MP";break;default:e=""}return e},getScreenInfo:function(){var t=this,r=null;return e.getSystemInfo({success:function(e){r=e,t.globalData.isSpecialScreen=r.safeArea.top>44,t.globalData.bottomLift=r.screenHeight-r.safeArea.bottom}}),r},isLogin:function(){var t=e.getStorageSync("loginStatus");return t||e.navigateTo({url:"/packages/login/pages/indexLogin/indexLogin"}),!!t},needLoginJump:function(t){if(!this.isLogin())return!1;e.navigateTo({url:t})},unNeedLoginJump:function(t){e.navigateTo({url:t})},getAuthorize:function(t){var r=this;e.authorize({scope:"scope.userLocation",success:function(t){},fail:function(t){},complete:function(t){r.getLocation()}})},getLocation:function(){var t=this;e.getLocation({type:"gcj02",geocode:!0,success:function(e){e.longitude&&e.latitude&&(t.lon=e.longitude,t.lat=e.latitude,t.getRecommendStore())},fail:function(r){var n=e.getStorageSync("storeInfo");n&&void 0!==n?(t.storeInfo=n,t.storeID=n.id,t.initGoods()):r.errMsg.indexOf("ERROR_NOCELL&WIFI_LOCATIONSWITCHOFF")>=0?t.tipsType=3:t.tipsType=1},complete:function(){}})},getRecommendStore:function(){var t=this,r={lat:this.lat,lon:this.lon};(0,c.goGetOmsStore)(r).then((function(r){t.storeInfo=r.data.data,t.storeID=t.storeInfo.id,e.setStorageSync("storeInfo",t.storeInfo),t.getGoodsList(!0)})).catch((function(){var r=e.getStorageSync("storeInfo");r&&void 0!==r?(t.storeInfo=r,t.storeID=r.id,t.getGoodsList(!0)):(t.tipsType=2,t.storeInfo=null)}))},getUserInfo:function(){var t=this;return I(S().mark((function r(){var n,o;return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.pyGetGlobalUserInfo)();case 2:n=r.sent,o=n.data.data,t.changeGlobalUser(o),e.setStorageSync("globalUser",o),t.getBirthOpenWindow(),t.globalData.userCallBack&&t.globalData.userCallBack();case 8:case"end":return r.stop()}}),r)})))()},getBoxUserInfo:function(t){var e=this;this.getBoxAuthInfo({userId:t,cb:function(t){0===t.first_order&&wx.setStorageSync("showCouponGuide",!0),0===t.grant_surprise_coupon&&wx.setStorageSync("showSurpriseCouponGuide",!0),e.globalData.boxUserInfo=t,e.globalData.boxUserCallBack&&e.globalData.boxUserCallBack(t)}})},getToken:function(){var t=this;return I(S().mark((function r(){var n,o;return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.goGetSquirrelUser)();case 2:n=r.sent,o=n.data.data,t.changePopToken(o),e.setStorageSync("tokenInfo",o),t.globalData.tokenCallBack&&t.globalData.tokenCallBack();case 7:case"end":return r.stop()}}),r)})))()},toLive:function(){var t=this;e.getChannelsLiveInfo({finderUserName:"sphJUaGC77e0Rhf",success:function(e){t.globalData.liveData=e},fail:function(t){}}),e.openChannelsLive({finderUserName:"sphJUaGC77e0Rhf",feedId:this.globalData.liveData.feedId,nonceId:this.globalData.liveData.nonceId})},getStoreReduceInfo:function(){return I(S().mark((function t(){var e,r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.jsonReduceLevelConfig)();case 2:return e=t.sent,r=e.data,t.abrupt("return",new Promise((function(t){t(r)})));case 5:case"end":return t.stop()}}),t)})))()},goHtml5:function(t){var r=t.replace(/[\u200B-\u200D\uFEFF]/g,"");e.navigateTo({url:"/pages/webview/webview?url="+encodeURIComponent(JSON.stringify(r).replace(/%/g,"%25"))})},goStoreGoHtml5:function(t){var r=t.replace(/[\u200B-\u200D\uFEFF]/g,"");e.navigateTo({url:"/pages/storeGo/webview/webview?url="+encodeURIComponent(JSON.stringify(r).replace(/%/g,"%25"))})},getJsonPublicConfig:function(){var t=this;return I(S().mark((function e(){var r,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.jsonPublicConfig)();case 2:r=e.sent,n=r.data.data,t.globalData.h5_url=n.h5_url,t.changePublicArticle(n.articleUrl);case 6:case"end":return e.stop()}}),e)})))()},getUserPointsInfo:function(){var t=this;(0,c.goUserPointsInfo)().then((function(e){if(1===e.data.code){var r,n=null==e||null===(r=e.data)||void 0===r?void 0:r.data,o=n.has_assisted_points,a=n.has_claimed_points,i=n.is_claimed;i=a?"https://res.paquapp.com/popmartvip/task/task_new/has_points_flag.png":o&&!a?"https://res.paquapp.com/popmartvip/task/task_new/has_wake_points_flag.png":"",t.globalData.pointsInfoObj={has_claimed_points:a,has_assisted_points:o},t.globalData.pointsInfo.setData({task_points_flag_bg:i})}}))},updateReddot:function(){var t=e.getStorageSync("providerId");g.default.updateReddot({identity_code:t})},getBlackBox:function(){var t=this,e=new P.FMAgent(h.fmOpt),r=this.globalData.userInfo||{};return new Promise((function(n,o){e.getInfo({page:t,mode:"plugin",openid:r.openid?(0,p.default)(r.openid):"",unionid:r.union_id?(0,p.default)(r.union_id):"",success:function(t){n(t)},fail:function(t){o(t)},complete:function(t){}})}))},saveBlackBox:function(t){(0,c.changeBlackBox)({black_box:t}).then((function(t){t.data.code}))},getBirthOpenWindow:function(){var t=this;return I(S().mark((function r(){var n,o,a;return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.getBirthActID)();case 2:if(n=r.sent,o=n.data.data.activity_id,t.globalData.birthMonthActID=o,o){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,t.goShowBirthEntry();case 9:if(a=s.default.formatTime(new Date,1),e.getStorageSync("birth_today")!==a){r.next=12;break}return r.abrupt("return");case 12:return r.abrupt("return",new Promise((function(r,n){(0,c.isBirthOpen)({activity_id:o}).then((function(r){if(1===r.data.code){var n=r.data.data.open_img||"";t.changeOpenImg(n),t.globalData.open_img=n,e.setStorageSync("birth_today",a)}}))})));case 13:case"end":return r.stop()}}),r)})))()},goShowBirthEntry:function(){var t=this;return I(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,c.showBirthEntry)({activity_id:t.globalData.birthMonthActID}).then((function(e){if(1===e.data.code){var r=e.data.data,n=r.result,o=r.pendant;t.changePendant(o),t.changeShowBirthEntry(n),t.globalData.birthMonthInfo.setData({is_show_birth_entry:n})}}));case 1:case"end":return e.stop()}}),e)})))()},getEncryptKey:function(t){var r=e.getStorageSync("expireTime")||0;if(!((new Date).getTime()>=r))return e.getStorageSync("encryptKeyObj");wx.getUserCryptoManager().getLatestUserKey({success:function(r){var n=r.encryptKey,o=r.iv,a=r.version,i=r.expireTime;e.setStorageSync("expireTime",i),e.setStorageSync("encryptKeyObj",{encryptKey:n,iv:o,version:a,expireTime:i}),(0,c.getEvent)({s_ver:a,position:t})},fail:function(){(0,c.getEvent)({s_ver:-1,position:t})}})}})}}).call(this,n("543d").default)}},[["56d7","common/runtime","common/vendor"]]]);
},{isPage:false,isComponent:false,currentFile:'common/main.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("common/runtime.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../@babel/runtime/helpers/typeof");!function(){try{var e=Function("return this")();e&&!e.Math&&(Object.assign(e,{isFinite:isFinite,Array:Array,Date:Date,Error:Error,Function:Function,Math:Math,Object:Object,RegExp:RegExp,String:String,TypeError:TypeError,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval}),"undefined"!=typeof Reflect&&(e.Reflect=Reflect))}catch(e){}}(),function(o){function s(e){for(var s,a,n=e[0],g=e[1],r=e[2],m=0,i=[];m<n.length;m++)a=n[m],Object.prototype.hasOwnProperty.call(t,a)&&t[a]&&i.push(t[a][0]),t[a]=0;for(s in g)Object.prototype.hasOwnProperty.call(g,s)&&(o[s]=g[s]);for(d&&d(e);i.length;)i.shift()();return c.push.apply(c,r||[]),p()}function p(){for(var e,o=0;o<c.length;o++){for(var s=c[o],p=!0,a=1;a<s.length;a++){var n=s[a];0!==t[n]&&(p=!1)}p&&(c.splice(o--,1),e=g(g.s=s[0]))}return e}var a={},n={"common/runtime":0},t={"common/runtime":0},c=[];function g(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return o[e].call(s.exports,s,s.exports,g),s.l=!0,s.exports}g.e=function(e){var o=[];n[e]?o.push(n[e]):0!==n[e]&&{"components/pm-back-button/pm-back-button":1,"components/seatView":1,"packages/asyncHomeComponents/index-user":1,"pages/components/index-banner/index-banner":1,"components/uni-popup/uni-popup":1,"packages/asyncHomeComponents/index-new-goods":1,"packages/asyncHomeComponents/index-channel":1,"packages/asyncHomeComponents/index-classics":1,"packages/asyncHomeComponents/index-ip":1,"packages/asyncHomeComponents/index-mega":1,"packages/asyncHomeComponents/index-message":1,"packages/asyncHomeComponents/index-pophot":1,"packages/asyncHomeComponents/index-store":1,"components/cardObserve":1,"packages/asyncShopComponents/shop-explore-series":1,"packages/asyncShopComponents/shop-extend-goods":1,"packages/asyncShopComponents/shop-goods-list":1,"packages/asyncShopComponents/shop-hot-search":1,"packages/asyncShopComponents/shop-limit-goods":1,"packages/asyncShopComponents/shop-new-goods":1,"packages/asyncShopComponents/shop-popular-goods":1,"packages/asyncShopComponents/shop-star-ip":1,"packages/asyncShopComponents/shop-store-cart":1,"packages/asyncShopComponents/shop-store-search":1,"packages/asyncShopComponents/shop-vip-coupons":1,"pages/components/shop-store-tag/shop-store-tag":1,"components/boxlite/boxCustomer":1,"components/boxlite/boxGoodsList":1,"components/boxlite/newCustomerGoods":1,"pages/user/components/user-property/user-property":1,"components/pm-loading/pm-loading":1,"pages/user/components/user-card/user-card":1,"pages/user/components/user-header/user-header":1,"pages/user/components/user-order/user-order":1,"pages/user/components/user-power/user-power":1,"pages/user/components/user-service/user-service":1,"components/storeCouponItem":1,"components/tab":1,"pages/taskCenter/components/medalSwiper":1,"pages/taskCenter/pointsCenter":1,"pages/taskCenter/vipCenter":1,"components/googsOperation":1,"components/uni-swipe-action-item/uni-swipe-action-item":1,"components/noData":1,"components/storeGoModal":1,"packages/asyncOrderComponents/cancel-order-popup":1,"packages/asyncOrderComponents/express-steps":1,"packages/asyncOrderComponents/getPointsPopup":1,"packages/asyncOrderComponents/order-card":1,"packages/storeGo/pages/components/passwordPopup":1,"packages/storeGo/pages/components/pickUpTips":1,"packages/storeGo/pages/components/pickupPopup":1,"components/chose-city/chose-city":1,"components/toast":1,"packages/storeGo/pages/components/searchBoard":1,"components/integralRule":1,"components/uni-popup/points-rule":1,"packages/asyncOrderComponents/chooseCoupon":1,"packages/asyncOrderComponents/confirmAddressPop":1,"packages/asyncOrderComponents/points":1,"packages/storeGoConformOrder/pages/components/beyondTip":1,"packages/storeGoConformOrder/pages/components/checkedGift":1,"packages/storeGoCategory/pages/components/categoryGoods":1,"packages/storeGoCategory/pages/components/categoryIp":1,"packages/storeGoCategory/pages/components/categoryList":1,"packages/svip/pages/components/footerButton":1,"packages/svip/pages/components/cardBefore":1,"packages/svip/pages/components/cardNew":1,"packages/svip/pages/components/cardOld":1,"packages/svip/pages/components/renewModal":1,"packages/svip/pages/components/twoCards":1,"components/uni-popup/goods-buy-operation":1,"packages/svip/pages/components/svipModal":1,"components/uni-transition/uni-transition":1,"packages/giftCard/pages/components/gift-use-rule":1,"components/goodsItem":1,"components/pointsMall":1,"uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar":1,"packages/pointShop/pages/components/chooseCoupon":1,"components/paySucToNext":1,"components/robotCouponItem":1,"packages/robot/pages/components/robotRule":1,"packages/robot/pages/components/super-coupon":1,"components/goGoodsItem":1,"components/community-cell":1,"packages/robot/pages/components/couponPopup":1,"packages/robot/pages/components/full-gift-popup":1,"packages/robot/pages/components/national-day-popup":1,"packages/robot/pages/components/specified-coupon-popup":1,"packages/login/pages/components/pm-user-agreement/pm-user-agreement":1,"packages/login/pages/components/pm-subscribe-active/pm-subscribe-active":1,"packages/aboutUser/pages/vipRights/components/medalSwiper":1,"packages/aboutUser/pages/vipRights/components/vip-banner/vip-banner":1,"packages/aboutUser/pages/vipRights/components/vip-pop/vip-pop":1,"packages/aboutUser/pages/vipRights/components/vip-rule/vip-rule":1,"packages/aboutUser/pages/components/pm-tabs/pm-tabs":1,"packages/aboutUser/pages/rightsDetail/swiper-content/swiper-content":1,"packages/aboutUser/pages/rightsDetail/swiper-title/swiper-title":1,"packages/aboutUser/pages/components/pm-footer/pm-footer":1,"packages/aboutUser/pages/medalHall/components/medal-box/medal-box":1,"packages/exchange/pages/components/exchange-popup":1,"packages/lottery/pages/components/uni-popup/lottery-win-detail-popup":1,"components/lottery-normal-popup":1,"packages/lottery/pages/components/uni-popup/lottery-join-success-popup":1,"packages/luckyBag/pages/components/btn":1,"packages/luckyBag/pages/components/buyPopup":1,"packages/luckyBag/pages/components/remindPopup":1,"packages/activity/pages/components/bottom-nav":1,"packages/activity/pages/components/draw-card-popup":1,"packages/activity/pages/components/switch-card-popup":1,"components/pm-go-box/pm-go-box":1,"components/pm-box-tip/pm-box-tip":1,"packages/memberDay/pages/components/swipe-3d/swipe-3d":1,"packages/newGoods/pages/newGoods/components/new-goods-list":1,"components/goGoodsObserve":1,"packages/newGoods/pages/newGoods/components/back-button/back-button":1,"packages/newGoods/pages/newGoods/components/yearPop":1,"packages/storeQuery/pages/storeDetail/components/goodList":1,"components/boxlite/couponDetail":1,"packages/cardPackage/pages/components/boxlite-coupon":1,"components/allChannelCoupon":1,"packages/cardPackage/pages/components/card-tips-popup":1,"packages/cardPackage/pages/components/cardItem":1,"packages/cardPackage/pages/components/cardNav":1,"packages/cardPackage/pages/components/noMoneyCoupon":1,"packages/cardPackage/pages/components/canuseGoods":1,"packages/myOrder/pages/components/cameraOrderItem":1,"packages/myOrder/pages/components/orderInfoCard":1,"packages/myOrder/pages/components/robotOrderItem":1,"packages/myOrder/pages/components/shopOrderItem":1,"packages/storeGoGoodsDetail/pages/components/pm-goods-popup/pm-goods-popup":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-button/goods-detail-button":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-content/goods-detail-content":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-images/goods-detail-images":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-info/goods-detail-info":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-ip/goods-detail-ip":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-recommend/goods-detail-recommend":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-rule/goods-detail-rule":1,"packages/storeGoGoodsDetail/pages/components/goods-detail-store/goods-detail-store":1,"packages/storeGoGoodsDetail/pages/components/goodsDetailPoster":1,"packages/storeGoGoodsDetail/pages/components/robotList":1,"packages/storeGoGoodsDetail/pages/components/waiting-order-popup/checkWaitingOrder":1,"packages/answer/pages/components/get-prize":1,"packages/answer/pages/components/home-answer-tip":1,"packages/answer/pages/components/user-guide":1,"packages/storeClock/pages/components/confirm-popup":1,"packages/storeClock/pages/components/exchange-popup":1,"packages/storeClock/pages/components/exchange-sucPopup":1,"packages/storeClock/pages/components/prize-list-popup":1,"packages/storeClock/pages/components/rewards-popup":1,"packages/storeClock/pages/components/rule-popup":1,"packages/storeClock/pages/components/storeClock":1,"packages/sproutingGrain/pages/components/popBean":1,"packages/sproutingGrain/pages/components/timeBox":1,"packages/rousePoints/pages/components/rouseCard":1,"components/task-popup":1,"packages/rousePoints/pages/components/taskOffPopup":1,"packages/annivCelebrate/pages/components/showPrize":1,"packages/boxlite/pages/components/barrage":1,"packages/boxlite/pages/components/guide":1,"packages/boxlite/pages/components/lockmodal":1,"packages/boxlite/pages/components/preview_modal":1,"packages/boxlite/pages/components/clearInvalidListModal":1,"packages/boxlite/pages/components/pay_box_info":1,"packages/boxlite/pages/components/popup":1,"packages/boxlite/pages/components/share_image":1,"packages/boxlite/pages/components/list/index":1,"packages/boxlite/pages/components/loading_spin":1,"packages/boxliteOrder/pages/components/boxlist":1,"packages/boxliteOrder/pages/components/popup":1,"packages/boxliteOrder/pages/components/expressDetail":1,"packages/boxliteOrder/pages/components/modal":1,"packages/boxliteOrder/pages/components/orderGoodsDetail":1,"packages/birthMonth/pages/components/validCode":1,"packages/birthMonth/pages/components/giftRemains":1,"packages/anniversary14/pages/components/rewardItem":1,"packages/anniversary14/pages/components/waterbarPop":1,"pages/taskCenter/components/getPointTips":1,"pages/taskCenter/components/point":1,"pages/taskCenter/components/pop-title":1,"pages/taskCenter/components/rule":1,"pages/taskCenter/components/task_list":1,"pages/taskCenter/components/pop-badge":1,"pages/taskCenter/components/pop-btn":1,"pages/taskCenter/components/signItem":1,"pages/taskCenter/components/vip-card":1,"pages/taskCenter/components/vip-integrate":1,"packages/svip/pages/components/svipTitle":1,"components/goGoodsReport":1,"packages/aboutUser/pages/vipRights/components/vip-rule/txt-popup":1,"packages/boxlite/pages/components/box_popup":1,"packages/boxlite/pages/components/list/list_base":1,"components/boxlite/rules_html":1,"pages/taskCenter/components/pointIcon":1,"components/boxlite/mp-html/mp-html":1,"components/boxlite/mp-html/node/node":1}[e]&&o.push(n[e]=new Promise((function(o,s){for(var p=({"node-modules/@popfex/uni-labubu-painter/libs/wxml2canvas":"node-modules/@popfex/uni-labubu-painter/libs/wxml2canvas","components/pm-back-button/pm-back-button":"components/pm-back-button/pm-back-button","components/seatView":"components/seatView","packages/asyncHomeComponents/index-user":"packages/asyncHomeComponents/index-user","pages/components/index-banner/index-banner":"pages/components/index-banner/index-banner","components/uni-popup/uni-popup":"components/uni-popup/uni-popup","packages/asyncHomeComponents/common/vendor":"packages/asyncHomeComponents/common/vendor","packages/asyncHomeComponents/index-new-goods":"packages/asyncHomeComponents/index-new-goods","packages/asyncHomeComponents/index-channel":"packages/asyncHomeComponents/index-channel","packages/asyncHomeComponents/index-classics":"packages/asyncHomeComponents/index-classics","packages/asyncHomeComponents/index-ip":"packages/asyncHomeComponents/index-ip","packages/asyncHomeComponents/index-mega":"packages/asyncHomeComponents/index-mega","packages/asyncHomeComponents/index-message":"packages/asyncHomeComponents/index-message","packages/asyncHomeComponents/index-pophot":"packages/asyncHomeComponents/index-pophot","packages/asyncHomeComponents/index-store":"packages/asyncHomeComponents/index-store","components/cardObserve":"components/cardObserve","packages/asyncShopComponents/shop-explore-series":"packages/asyncShopComponents/shop-explore-series","packages/asyncShopComponents/shop-extend-goods":"packages/asyncShopComponents/shop-extend-goods","packages/asyncShopComponents/shop-goods-list":"packages/asyncShopComponents/shop-goods-list","packages/asyncShopComponents/shop-hot-search":"packages/asyncShopComponents/shop-hot-search","packages/asyncShopComponents/shop-limit-goods":"packages/asyncShopComponents/shop-limit-goods","packages/asyncShopComponents/shop-new-goods":"packages/asyncShopComponents/shop-new-goods","packages/asyncShopComponents/shop-popular-goods":"packages/asyncShopComponents/shop-popular-goods","packages/asyncShopComponents/shop-star-ip":"packages/asyncShopComponents/shop-star-ip","packages/asyncShopComponents/shop-store-cart":"packages/asyncShopComponents/shop-store-cart","packages/asyncShopComponents/shop-store-search":"packages/asyncShopComponents/shop-store-search","packages/asyncShopComponents/shop-vip-coupons":"packages/asyncShopComponents/shop-vip-coupons","pages/components/shop-store-tag/shop-store-tag":"pages/components/shop-store-tag/shop-store-tag","components/boxlite/boxCustomer":"components/boxlite/boxCustomer","components/boxlite/boxGoodsList":"components/boxlite/boxGoodsList","components/boxlite/newCustomerGoods":"components/boxlite/newCustomerGoods","pages/user/components/user-property/user-property":"pages/user/components/user-property/user-property","components/pm-loading/pm-loading":"components/pm-loading/pm-loading","pages/user/components/user-card/user-card":"pages/user/components/user-card/user-card","pages/user/components/user-header/user-header":"pages/user/components/user-header/user-header","pages/user/components/user-order/user-order":"pages/user/components/user-order/user-order","pages/user/components/user-power/user-power":"pages/user/components/user-power/user-power","pages/user/components/user-service/user-service":"pages/user/components/user-service/user-service","components/storeCouponItem":"components/storeCouponItem","components/tab":"components/tab","pages/taskCenter/components/medalSwiper":"pages/taskCenter/components/medalSwiper","pages/taskCenter/pointsCenter":"pages/taskCenter/pointsCenter","pages/taskCenter/vipCenter":"pages/taskCenter/vipCenter","components/googsOperation":"components/googsOperation","components/uni-swipe-action-item/uni-swipe-action-item":"components/uni-swipe-action-item/uni-swipe-action-item","components/noData":"components/noData","components/storeGoModal":"components/storeGoModal","components/uni-swipe-action/uni-swipe-action":"components/uni-swipe-action/uni-swipe-action","packages/asyncOrderComponents/cancel-order-popup":"packages/asyncOrderComponents/cancel-order-popup","packages/asyncOrderComponents/express-steps":"packages/asyncOrderComponents/express-steps","packages/asyncOrderComponents/getPointsPopup":"packages/asyncOrderComponents/getPointsPopup","packages/asyncOrderComponents/order-card":"packages/asyncOrderComponents/order-card","packages/storeGo/pages/components/passwordPopup":"packages/storeGo/pages/components/passwordPopup","packages/storeGo/pages/components/pickUpTips":"packages/storeGo/pages/components/pickUpTips","packages/storeGo/pages/components/pickupPopup":"packages/storeGo/pages/components/pickupPopup","components/chose-city/chose-city":"components/chose-city/chose-city","components/toast":"components/toast","packages/storeGo/pages/components/searchBoard":"packages/storeGo/pages/components/searchBoard","components/integralRule":"components/integralRule","components/order/useDiscount":"components/order/useDiscount","components/uni-popup/points-rule":"components/uni-popup/points-rule","packages/asyncOrderComponents/chooseCoupon":"packages/asyncOrderComponents/chooseCoupon","packages/asyncOrderComponents/confirmAddressPop":"packages/asyncOrderComponents/confirmAddressPop","packages/asyncOrderComponents/points":"packages/asyncOrderComponents/points","packages/storeGoConformOrder/pages/components/beyondTip":"packages/storeGoConformOrder/pages/components/beyondTip","packages/storeGoConformOrder/pages/components/checkedGift":"packages/storeGoConformOrder/pages/components/checkedGift","packages/storeGoCategory/pages/components/categoryGoods":"packages/storeGoCategory/pages/components/categoryGoods","packages/storeGoCategory/pages/components/categoryIp":"packages/storeGoCategory/pages/components/categoryIp","packages/storeGoCategory/pages/components/categoryList":"packages/storeGoCategory/pages/components/categoryList","packages/svip/pages/components/footerButton":"packages/svip/pages/components/footerButton","packages/svip/pages/components/cardBefore":"packages/svip/pages/components/cardBefore","packages/svip/pages/components/cardNew":"packages/svip/pages/components/cardNew","packages/svip/pages/components/cardOld":"packages/svip/pages/components/cardOld","packages/svip/pages/components/renewModal":"packages/svip/pages/components/renewModal","packages/svip/pages/components/twoCards":"packages/svip/pages/components/twoCards","components/uni-popup/goods-buy-operation":"components/uni-popup/goods-buy-operation","packages/svip/pages/components/svipModal":"packages/svip/pages/components/svipModal","components/uni-transition/uni-transition":"components/uni-transition/uni-transition","packages/giftCard/pages/components/gift-use-rule":"packages/giftCard/pages/components/gift-use-rule","components/goodsItem":"components/goodsItem","components/pointsMall":"components/pointsMall","uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar":"uni_modules/uni-notice-bar/components/uni-notice-bar/uni-notice-bar","packages/pointShop/pages/components/chooseCoupon":"packages/pointShop/pages/components/chooseCoupon","components/paySucToNext":"components/paySucToNext","components/robotCouponItem":"components/robotCouponItem","packages/robot/pages/components/robotRule":"packages/robot/pages/components/robotRule","packages/robot/pages/components/super-coupon":"packages/robot/pages/components/super-coupon","components/goGoodsItem":"components/goGoodsItem","components/community-cell":"components/community-cell","packages/robot/pages/components/couponPopup":"packages/robot/pages/components/couponPopup","packages/robot/pages/components/full-gift-popup":"packages/robot/pages/components/full-gift-popup","packages/robot/pages/components/national-day-popup":"packages/robot/pages/components/national-day-popup","packages/robot/pages/components/specified-coupon-popup":"packages/robot/pages/components/specified-coupon-popup","packages/login/pages/components/pm-user-agreement/pm-user-agreement":"packages/login/pages/components/pm-user-agreement/pm-user-agreement","packages/login/pages/components/pm-subscribe-active/pm-subscribe-active":"packages/login/pages/components/pm-subscribe-active/pm-subscribe-active","packages/aboutUser/pages/vipRights/components/medalSwiper":"packages/aboutUser/pages/vipRights/components/medalSwiper","packages/aboutUser/pages/vipRights/components/vip-banner/vip-banner":"packages/aboutUser/pages/vipRights/components/vip-banner/vip-banner","packages/aboutUser/pages/vipRights/components/vip-pop/vip-pop":"packages/aboutUser/pages/vipRights/components/vip-pop/vip-pop","packages/aboutUser/pages/vipRights/components/vip-rule/vip-rule":"packages/aboutUser/pages/vipRights/components/vip-rule/vip-rule","packages/aboutUser/pages/components/pm-tabs/pm-tabs":"packages/aboutUser/pages/components/pm-tabs/pm-tabs","packages/aboutUser/pages/rightsDetail/swiper-content/swiper-content":"packages/aboutUser/pages/rightsDetail/swiper-content/swiper-content","packages/aboutUser/pages/rightsDetail/swiper-title/swiper-title":"packages/aboutUser/pages/rightsDetail/swiper-title/swiper-title","packages/aboutUser/pages/components/pm-footer/pm-footer":"packages/aboutUser/pages/components/pm-footer/pm-footer","packages/aboutUser/pages/medalHall/components/medal-box/medal-box":"packages/aboutUser/pages/medalHall/components/medal-box/medal-box","packages/aboutUser/pages/medalHall/components/medal-header/medal-header":"packages/aboutUser/pages/medalHall/components/medal-header/medal-header","components/lime-painter/index":"components/lime-painter/index","packages/exchange/pages/components/exchange-popup":"packages/exchange/pages/components/exchange-popup","packages/lottery/pages/components/uni-popup/lottery-win-detail-popup":"packages/lottery/pages/components/uni-popup/lottery-win-detail-popup","components/lottery-normal-popup":"components/lottery-normal-popup","components/multyClickView":"components/multyClickView","packages/lottery/pages/components/uni-popup/lottery-join-success-popup":"packages/lottery/pages/components/uni-popup/lottery-join-success-popup","packages/luckyBag/pages/components/btn":"packages/luckyBag/pages/components/btn","packages/luckyBag/pages/components/buyPopup":"packages/luckyBag/pages/components/buyPopup","packages/luckyBag/pages/components/remindPopup":"packages/luckyBag/pages/components/remindPopup","packages/activity/pages/components/bottom-nav":"packages/activity/pages/components/bottom-nav","packages/activity/pages/components/draw-card-popup":"packages/activity/pages/components/draw-card-popup","packages/activity/pages/components/switch-card-popup":"packages/activity/pages/components/switch-card-popup","components/pm-go-box/pm-go-box":"components/pm-go-box/pm-go-box","components/pm-box-tip/pm-box-tip":"components/pm-box-tip/pm-box-tip","packages/activity/pages/components/waitOrderCountDown":"packages/activity/pages/components/waitOrderCountDown","packages/memberDay/pages/components/swipe-3d/swipe-3d":"packages/memberDay/pages/components/swipe-3d/swipe-3d","packages/newGoods/pages/newGoods/components/new-goods-list":"packages/newGoods/pages/newGoods/components/new-goods-list","components/goGoodsObserve":"components/goGoodsObserve","packages/newGoods/pages/newGoods/components/back-button/back-button":"packages/newGoods/pages/newGoods/components/back-button/back-button","packages/newGoods/pages/newGoods/components/yearPop":"packages/newGoods/pages/newGoods/components/yearPop","packages/storeQuery/pages/storeDetail/components/goodList":"packages/storeQuery/pages/storeDetail/components/goodList","components/boxlite/couponDetail":"components/boxlite/couponDetail","packages/cardPackage/pages/components/boxlite-coupon":"packages/cardPackage/pages/components/boxlite-coupon","components/allChannelCoupon":"components/allChannelCoupon","packages/cardPackage/pages/components/card-tips-popup":"packages/cardPackage/pages/components/card-tips-popup","packages/cardPackage/pages/components/cardItem":"packages/cardPackage/pages/components/cardItem","packages/cardPackage/pages/components/cardNav":"packages/cardPackage/pages/components/cardNav","packages/cardPackage/pages/components/noMoneyCoupon":"packages/cardPackage/pages/components/noMoneyCoupon","packages/cardPackage/pages/components/canuseGoods":"packages/cardPackage/pages/components/canuseGoods","packages/myOrder/pages/components/cameraOrderItem":"packages/myOrder/pages/components/cameraOrderItem","packages/myOrder/pages/components/orderInfoCard":"packages/myOrder/pages/components/orderInfoCard","packages/myOrder/pages/components/robotOrderItem":"packages/myOrder/pages/components/robotOrderItem","packages/myOrder/pages/components/shopOrderItem":"packages/myOrder/pages/components/shopOrderItem","packages/myOrder/pages/myOrder/waitOrderCountDown":"packages/myOrder/pages/myOrder/waitOrderCountDown","packages/storeGoGoodsDetail/pages/common/vendor":"packages/storeGoGoodsDetail/pages/common/vendor","packages/storeGoGoodsDetail/pages/components/pm-goods-popup/pm-goods-popup":"packages/storeGoGoodsDetail/pages/components/pm-goods-popup/pm-goods-popup","packages/storeGoGoodsDetail/pages/components/goods-detail-button/goods-detail-button":"packages/storeGoGoodsDetail/pages/components/goods-detail-button/goods-detail-button","packages/storeGoGoodsDetail/pages/components/goods-detail-content/goods-detail-content":"packages/storeGoGoodsDetail/pages/components/goods-detail-content/goods-detail-content","packages/storeGoGoodsDetail/pages/components/goods-detail-images/goods-detail-images":"packages/storeGoGoodsDetail/pages/components/goods-detail-images/goods-detail-images","packages/storeGoGoodsDetail/pages/components/goods-detail-info/goods-detail-info":"packages/storeGoGoodsDetail/pages/components/goods-detail-info/goods-detail-info","packages/storeGoGoodsDetail/pages/components/goods-detail-ip/goods-detail-ip":"packages/storeGoGoodsDetail/pages/components/goods-detail-ip/goods-detail-ip","packages/storeGoGoodsDetail/pages/components/goods-detail-recommend/goods-detail-recommend":"packages/storeGoGoodsDetail/pages/components/goods-detail-recommend/goods-detail-recommend","packages/storeGoGoodsDetail/pages/components/goods-detail-rule/goods-detail-rule":"packages/storeGoGoodsDetail/pages/components/goods-detail-rule/goods-detail-rule","packages/storeGoGoodsDetail/pages/components/goods-detail-store/goods-detail-store":"packages/storeGoGoodsDetail/pages/components/goods-detail-store/goods-detail-store","packages/storeGoGoodsDetail/pages/components/goodsDetailPoster":"packages/storeGoGoodsDetail/pages/components/goodsDetailPoster","packages/storeGoGoodsDetail/pages/components/robotList":"packages/storeGoGoodsDetail/pages/components/robotList","packages/storeGoGoodsDetail/pages/components/waiting-order-popup/checkWaitingOrder":"packages/storeGoGoodsDetail/pages/components/waiting-order-popup/checkWaitingOrder","packages/answer/pages/components/get-prize":"packages/answer/pages/components/get-prize","packages/answer/pages/components/home-answer-tip":"packages/answer/pages/components/home-answer-tip","packages/answer/pages/components/user-guide":"packages/answer/pages/components/user-guide","packages/storeClock/pages/components/confirm-popup":"packages/storeClock/pages/components/confirm-popup","packages/storeClock/pages/components/exchange-popup":"packages/storeClock/pages/components/exchange-popup","packages/storeClock/pages/components/exchange-sucPopup":"packages/storeClock/pages/components/exchange-sucPopup","packages/storeClock/pages/components/prize-list-popup":"packages/storeClock/pages/components/prize-list-popup","packages/storeClock/pages/components/rewards-popup":"packages/storeClock/pages/components/rewards-popup","packages/storeClock/pages/components/rule-popup":"packages/storeClock/pages/components/rule-popup","packages/storeClock/pages/components/storeClock":"packages/storeClock/pages/components/storeClock","packages/sproutingGrain/pages/components/popBean":"packages/sproutingGrain/pages/components/popBean","packages/sproutingGrain/pages/components/timeBox":"packages/sproutingGrain/pages/components/timeBox","packages/rousePoints/pages/components/rouseCard":"packages/rousePoints/pages/components/rouseCard","components/task-popup":"components/task-popup","packages/rousePoints/pages/components/taskOffPopup":"packages/rousePoints/pages/components/taskOffPopup","packages/annivCelebrate/pages/components/showPrize":"packages/annivCelebrate/pages/components/showPrize","components/pm-countdown":"components/pm-countdown","packages/boxlite/pages/components/barrage":"packages/boxlite/pages/components/barrage","packages/boxlite/pages/components/guide":"packages/boxlite/pages/components/guide","packages/boxlite/pages/components/lockmodal":"packages/boxlite/pages/components/lockmodal","packages/boxlite/pages/components/preview_modal":"packages/boxlite/pages/components/preview_modal","packages/boxlite/pages/components/clearInvalidListModal":"packages/boxlite/pages/components/clearInvalidListModal","packages/boxlite/pages/components/pay_box_info":"packages/boxlite/pages/components/pay_box_info","packages/boxlite/pages/components/popup":"packages/boxlite/pages/components/popup","packages/boxlite/pages/components/share_image":"packages/boxlite/pages/components/share_image","packages/boxlite/pages/components/list/index":"packages/boxlite/pages/components/list/index","packages/boxlite/pages/components/loading_spin":"packages/boxlite/pages/components/loading_spin","packages/boxliteOrder/pages/components/boxlist":"packages/boxliteOrder/pages/components/boxlist","packages/boxliteOrder/pages/components/popup":"packages/boxliteOrder/pages/components/popup","packages/boxliteOrder/pages/components/expressDetail":"packages/boxliteOrder/pages/components/expressDetail","packages/boxliteOrder/pages/components/modal":"packages/boxliteOrder/pages/components/modal","packages/boxliteOrder/pages/components/orderGoodsDetail":"packages/boxliteOrder/pages/components/orderGoodsDetail","components/pm-line-feed/pm-line-feed":"components/pm-line-feed/pm-line-feed","packages/birthMonth/pages/components/validCode":"packages/birthMonth/pages/components/validCode","packages/birthMonth/pages/components/giftRemains":"packages/birthMonth/pages/components/giftRemains","packages/anniversary14/pages/components/rewardItem":"packages/anniversary14/pages/components/rewardItem","packages/anniversary14/pages/components/waterbarPop":"packages/anniversary14/pages/components/waterbarPop","pages/taskCenter/components/getPointTips":"pages/taskCenter/components/getPointTips","pages/taskCenter/components/point":"pages/taskCenter/components/point","pages/taskCenter/components/pop-title":"pages/taskCenter/components/pop-title","pages/taskCenter/components/rule":"pages/taskCenter/components/rule","pages/taskCenter/components/task_list":"pages/taskCenter/components/task_list","pages/taskCenter/components/pop-badge":"pages/taskCenter/components/pop-badge","pages/taskCenter/components/pop-btn":"pages/taskCenter/components/pop-btn","pages/taskCenter/components/signItem":"pages/taskCenter/components/signItem","pages/taskCenter/components/vip-card":"pages/taskCenter/components/vip-card","pages/taskCenter/components/vip-integrate":"pages/taskCenter/components/vip-integrate","packages/svip/pages/components/svipTitle":"packages/svip/pages/components/svipTitle","components/goGoodsReport":"components/goGoodsReport","packages/aboutUser/pages/vipRights/components/vip-rule/txt-popup":"packages/aboutUser/pages/vipRights/components/vip-rule/txt-popup","packages/boxlite/pages/components/box_popup":"packages/boxlite/pages/components/box_popup","packages/boxlite/pages/components/list/list_base":"packages/boxlite/pages/components/list/list_base","components/boxlite/rules_html":"components/boxlite/rules_html","pages/taskCenter/components/pointIcon":"pages/taskCenter/components/pointIcon","components/boxlite/mp-html/mp-html":"components/boxlite/mp-html/mp-html","components/boxlite/mp-html/node/node":"components/boxlite/mp-html/node/node"}[e]||e)+".wxss",a=g.p+p,t=document.getElementsByTagName("link"),c=0;c<t.length;c++){var r=t[c],m=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(m===p||m===a))return o()}var i=document.getElementsByTagName("style");for(c=0;c<i.length;c++)if((m=(r=i[c]).getAttribute("data-href"))===p||m===a)return o();var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=o,d.onerror=function(o){var p=o&&o.target&&o.target.src||a,t=new Error("Loading CSS chunk "+e+" failed.\n("+p+")");t.code="CSS_CHUNK_LOAD_FAILED",t.request=p,delete n[e],d.parentNode.removeChild(d),s(t)},d.href=a,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){n[e]=0})));var s=t[e];if(0!==s)if(s)o.push(s[2]);else{var p=new Promise((function(o,p){s=t[e]=[o,p]}));o.push(s[2]=p);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,g.nc&&c.setAttribute("nonce",g.nc),c.src=function(e){return g.p+""+e+".js"}(e);var r=new Error;a=function(o){c.onerror=c.onload=null,clearTimeout(m);var s=t[e];if(0!==s){if(s){var p=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;r.message="Loading chunk "+e+" failed.\n("+p+": "+a+")",r.name="ChunkLoadError",r.type=p,r.request=a,s[1](r)}t[e]=void 0}};var m=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(o)},g.m=o,g.c=a,g.d=function(e,o,s){g.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:s})},g.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},g.t=function(o,s){if(1&s&&(o=g(o)),8&s)return o;if(4&s&&"object"===e(o)&&o&&o.__esModule)return o;var p=Object.create(null);if(g.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:o}),2&s&&"string"!=typeof o)for(var a in o)g.d(p,a,function(e){return o[e]}.bind(null,a));return p},g.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return g.d(o,"a",o),o},g.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},g.p="/",g.oe=function(e){throw e};var r=global.webpackJsonp=global.webpackJsonp||[],m=r.push.bind(r);r.push=s,r=r.slice();for(var i=0;i<r.length;i++)s(r[i]);var d=m;p()}([]);
},{isPage:false,isComponent:false,currentFile:'common/runtime.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("common/vendor.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("../@babel/runtime/helpers/Arrayincludes"),require("../@babel/runtime/helpers/Objectentries");var _get2=require("../@babel/runtime/helpers/get"),_getPrototypeOf2=require("../@babel/runtime/helpers/getPrototypeOf"),_inherits2=require("../@babel/runtime/helpers/inherits"),_createSuper2=require("../@babel/runtime/helpers/createSuper"),_classCallCheck2=require("../@babel/runtime/helpers/classCallCheck"),_createClass2=require("../@babel/runtime/helpers/createClass"),_createForOfIteratorHelper2=require("../@babel/runtime/helpers/createForOfIteratorHelper");require("../@babel/runtime/helpers/Objectvalues");var _typeof2=require("../@babel/runtime/helpers/typeof");(global.webpackJsonp=global.webpackJsonp||[]).push([["common/vendor"],{"01b7":function(t,e,n){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function r(){r=function(){return e};var t,e={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),s=new j(r||[]);return a(o,"_invoke",{value:O(t,n,s)}),o}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",g="executing",v="completed",y={};function m(){}function _(){}function b(){}var w={};f(w,u,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==i&&o.call(S,u)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(i,a,s,u){var c=h(t[i],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function O(e,n,r){var i=d;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?v:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return _.prototype=b,a(k,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:_,configurable:!0}),_.displayName=f(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},T(P.prototype),f(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(p(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function i(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR_WIDTH_SCALE_MAP=void 0,e.base64ToPath=l,e.compareVersion=function(t,e){t=t.split("."),e=e.split(".");var n=Math.max(t.length,e.length);for(;t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var r=0;r<n;r++){var i=parseInt(t[r],10),o=parseInt(e[r],10);if(i>o)return 1;if(i<o)return-1}return 0},e.getImageInfo=function(e,n){return new Promise(function(){var n=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,u,"next",t)}function u(t){i(a,r,o,s,u,"throw",t)}s(void 0)}))}}(r().mark((function n(i,o){var a,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=/^\.|^\/(?=[^\/])/,!/^data:image\/(\w+);base64/.test(e)){n.next=13;break}if(u[e]){n.next=12;break}return s=e,n.next=8,l(e);case 8:e=n.sent,u[s]=e,n.next=13;break;case 12:e=u[e];case 13:u[e]&&u[e].errMsg?i(u[e]):t.getImageInfo({src:e,success:function(t){t.path=a.test(e)?"/".concat(t.path):t.path,u[e]=t,i(u[e])},fail:function(t){i({path:e})}});case 14:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}())},e.isNumber=c,e.pathToBase64=function(e){return new Promise((function(n,r){t.canIUse("getFileSystemManager")&&t.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(t){n("data:image/png;base64,"+t.data)},fail:function(t){r(t)}})}))},e.toPx=function t(e,n){if("number"==typeof e)return e;if(c(e))return 1*e;if("string"==typeof e){var r=/^-?[0-9]+([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g.exec(e);if(!e||!r)return 0;var i=r[2];e=parseFloat(e);var o=0;return"rpx"===i?o=Math.floor(e*(s||.5)*1):"px"===i?o=Math.floor(1*e):"%"===i?o=Math.floor(e*t(n)/100):"em"===i&&(o=Math.ceil(e*t(n||14))),o}};var s=t.getSystemInfoSync().windowWidth/750,u={};function c(t){return/^-?\d+(\.\d+)?$/.test(t)}e.CHAR_WIDTH_SCALE_MAP=[.296,.313,.436,.638,.586,.89,.87,.256,.334,.334,.455,.742,.241,.433,.241,.427,.586,.586,.586,.586,.586,.586,.586,.586,.586,.586,.241,.241,.742,.742,.742,.483,1.031,.704,.627,.669,.762,.55,.531,.744,.773,.294,.396,.635,.513,.977,.813,.815,.612,.815,.653,.577,.573,.747,.676,1.018,.645,.604,.62,.334,.416,.334,.742,.448,.295,.553,.639,.501,.64,.567,.347,.64,.616,.266,.267,.544,.266,.937,.616,.636,.639,.64,.382,.463,.373,.616,.525,.79,.507,.529,.492,.334,.269,.334,.742,.296];function l(e){var n=o(/data:image\/(\w+);base64,(.*)/.exec(e)||[],3),r=n[1],i=n[2];return new Promise((function(e,n){var o=t.getFileSystemManager();r||n(new Error("ERROR_BASE64SRC_PARSE"));var a=(new Date).getTime(),s=wx,u="".concat(s.env.USER_DATA_PATH,"/").concat(a,".").concat(r),c=function(e){var n={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(t){var e=t.length/4*3,n=new ArrayBuffer(e);return this.decode(t,n),n},removePaddingChars:function(t){return 64==this._keyStr.indexOf(t.charAt(t.length-1))?t.substring(0,t.length-1):t},decode:function(t,e){t=this.removePaddingChars(t),t=this.removePaddingChars(t);var n,r,i,o,a,s,u,c=parseInt(t.length/4*3,10),l=0,f=0;for(n=e?new Uint8Array(e):new Uint8Array(c),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),l=0;l<c;l+=3)r=this._keyStr.indexOf(t.charAt(f++))<<2|(a=this._keyStr.indexOf(t.charAt(f++)))>>4,i=(15&a)<<4|(s=this._keyStr.indexOf(t.charAt(f++)))>>2,o=(3&s)<<6|(u=this._keyStr.indexOf(t.charAt(f++))),n[l]=r,64!=s&&(n[l+1]=i),64!=u&&(n[l+2]=o);return n}};return t.base64ToArrayBuffer&&t.base64ToArrayBuffer(e)||n.decodeArrayBuffer(e)}(i);o.writeFile({filePath:u,data:c,encoding:"binary",success:function(){e(u)},fail:function(t){n(t)}})}))}}).call(this,n("543d").default)},"020f":function(t,e,n){var r=n("242e"),i=n("1304");t.exports=function(t,e){return t&&r(t,i(e))}},"0330":function(t,e,n){t.exports=function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++)if(null!=(r=arguments[n]))for(var r=Object(r),i=Object.keys(Object(r)),o=0,a=i.length;o<a;o++){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);null!=u&&u.enumerable&&(e[s]=r[s])}return e}});var i=/_?t(\d)?(imestamp)?=\d+&?/g,o=["aegis.qq.com","tamaegis.com","/aegis-sdk","rumt-","/flog.core.min.js","pingfore.qq.com","pingfore.tencent.com","zhiyan.tencent-cloud.net","h.trace.qq.com","btrace.qq.com","beacon.qq.com","dmplog.qq.com","qq.com/report","svibeacon.onezapp.com","cube.weixinbridge.com","doubleclick.net","pcmgrmonitor.3g.qq.com","tdm.qq.com","report.qqweb.qq.com","tpstelemetry.tencent.com","insight.cloud.tencent.com","facebook.com","facebook.net","google","yahoo.com","twitter.com","ga-audiences","report.idqqimg.com","arms-retcode.aliyuncs.com","px.effirst.com","sentry","baidu.com","hot-update.json","u.c.b.r.o.w.s.e.r","report.url.cn","sockjs-node","m3u8"],a=["ext1","ext2","ext3","level","trace","tag","seq","code"],s=(l.prototype.indexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n].callback===e)return n;return-1},l.prototype.on=function(t,e,n){var r;if(void 0===n&&(n=0),this)return(r=this.eventsList[t])||(this.eventsList[t]=[],r=this.eventsList[t]),-1===this.indexOf(r,e)&&r.push({name:t,type:n||0,callback:e}),this},l.prototype.one=function(t,e){this.on(t,e,1)},l.prototype.remove=function(t,e){if(this){var n=this.eventsList[t];if(n){if(e)return n.length&&(e=this.indexOf(n,e),n.splice(e,1)),this;try{delete this.eventsList[t]}catch(t){}}return null}},l.prototype.clear=function(){this.eventsList={}},l),u={generateTraceId:f(16),generateSpanId:f(8)},c=Array(32);function l(){var t=this;this.emit=function(e,n){if(t){var r;if(null!=(i=t.eventsList[e])&&i.length)for(var i=i.slice(),o=0;o<i.length;o++){r=i[o];try{var a=r.callback.apply(t,[n]);if(1===r.type&&t.remove(e,r.callback),!1===a)break}catch(e){throw e}}return t}},this.eventsList={}}function f(t){return function(){for(var e=0;e<2*t;e++)c[e]=Math.floor(16*Math.random())+48,58<=c[e]&&(c[e]+=39);return String.fromCharCode.apply(null,c.slice(0,2*t))}}function p(){return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(t){return(t^(16*Math.random()&15)>>t/4).toString(16)}))}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function d(t){for(var e,n,r,i="",o=0,a=(t=String(t)).length%3;o<t.length;){if(255<(e=t.charCodeAt(o++))||255<(n=t.charCodeAt(o++))||255<(r=t.charCodeAt(o++)))throw new TypeError("Failed to execute 'btoa': The string to be encoded contains characters outside of the Latin1 range.");i+=y.charAt((e=e<<16|n<<8|r)>>18&63)+y.charAt(e>>12&63)+y.charAt(e>>6&63)+y.charAt(63&e)}return a?i.slice(0,a-3)+"===".substring(a):i}function g(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!m.test(t))throw new TypeError("Failed to execute 'atob': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var n,r,i="",o=0;o<t.length;)e=y.indexOf(t.charAt(o++))<<18|y.indexOf(t.charAt(o++))<<12|(n=y.indexOf(t.charAt(o++)))<<6|(r=y.indexOf(t.charAt(o++))),i+=64===n?String.fromCharCode(e>>16&255):64===r?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return i}function v(t){var e;return"object"==_typeof2(t)&&(e=(t=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t[r]||"function"==typeof t.get&&t.get(r);if(i)return[r,i]}return["",""]}(t,Object.keys(b)))[0],t=t[1],e)?b[e](t):""}var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_=(x.prototype.generate=function(t,e,n){if(void 0===e&&(e={}),this.url=t,!this.isUrlIgnored()&&this.isUrlInTraceUrls()&&this.traceType){switch(this.traceType){case"traceparent":this.traceId=this.createTraceparent();break;case"b3":this.traceId=this.createB3();break;case"sw8":this.traceId=this.createSw8(n);break;case"sentry-trace":this.traceId=this.createSentryTrace();break;default:return void(this.traceId="")}return e[this.traceType]&&(this.traceId=e[this.traceType]),{name:this.traceType,value:this.traceId}}},x.prototype.createTraceparent=function(){var t=u.generateSpanId();return"00-"+u.generateTraceId()+"-"+t+"-0"+Number(1).toString(16)},x.prototype.createB3=function(){var t=u.generateSpanId();return u.generateTraceId()+"-"+t+"-1"},x.prototype.createSw8=function(t){var e="function"==typeof btoa?btoa:d,n=(t=t||{}).host,r=(n=void 0===n?"":n,t=void 0===(t=t.pathname)?"":t,h()),i=h();return"1-"+String(e(i))+"-"+String(e(r))+"-1-"+String(e("aegis"))+"-"+String(e("1.39.1"))+"-"+String(e(encodeURI(t)))+"-"+String(e(n))},x.prototype.createSentryTrace=function(){var t=p().substring(16);return p()+"-"+t+"-1"},x.prototype.isUrlIgnored=function(){if(Array.isArray(this.ignoreUrls)&&0!==this.ignoreUrls.length)for(var t=0,e=this.ignoreUrls;t<e.length;t++){var n=e[t];if(this.urlMatches(this.url,n))return!0}return!1},x.prototype.isUrlInTraceUrls=function(){if(!this.urls)return!0;if(Array.isArray(this.urls)){if(0===this.urls.length)return!1;for(var t=0,e=this.urls;t<e.length;t++){var n=e[t];if(this.urlMatches(this.url,n))return!0}}return!1},x.prototype.urlMatches=function(t,e){return"string"==typeof e?t===e:!!t.match(e)},x),b={sw8:function(t){var e="function"==typeof atob?atob:g;return(t=t.split("-")[1])?e(t):""},traceparent:function(t){return t.split("-")[1]},b3:function(t){return t.split("-")[0]},"sentry-trace":function(t){return t.split("-")[0]}},w=function(t){if(!t||0===t.length)return"{}";t=Array.isArray(t)?t:[t];var e=Object.keys(t[0]),n={},r=(e.forEach((function(e){n[e]=t.map((function(t){return t[e]}))})),n.count=t.length,n);if("string"==typeof r)return r;try{return JSON.stringify(r,Q())||"undefined"}catch(r){return"error happen when aegis stringify: \n "+r.message+" \n "+r.stack}};function x(t,e,n){void 0===n&&(n=null),this.traceType=t,this.ignoreUrls=e,this.urls=n}function S(t,e){return"string"==typeof t?t.split("?")[e?1:0]||"":t}function k(t){return"string"==typeof t&&/^\//.test(t)?"https:"===(null===location||void 0===location?void 0:location.protocol):/^https/.test(t)}function T(t,e,n){var r,i;try{if("function"==typeof(null==e?void 0:e.retCodeHandler))return{code:void 0===(o=(i=e.retCodeHandler(t,null==n?void 0:n.url,null==n?void 0:n.ctx,null==n?void 0:n.payload)||{}).code)?"unknown":o,isErr:i.isErr};if(!(t="string"==typeof t?JSON.parse(t):t))return{code:"unknown",isErr:!1};"function"==typeof(null==(r=null==e?void 0:e.ret)?void 0:r.join)&&(X=[].concat(e.ret.map((function(t){return t.toLowerCase()}))));var o,a=Object.getOwnPropertyNames(t).filter((function(t){return-1!==X.indexOf(t.toLowerCase())}));return a.length?{code:""+(o="未知"!==(o=t[a[0]])&&""!==o?o:"unknown"),isErr:0!==o&&"0"!==o&&"unknown"!==o}:{code:"unknown",isErr:!1}}catch(t){return{code:"unknown",isErr:!1}}}function P(t,e,n){try{var r="function"==typeof e?e(t,null==n?void 0:n.url)||"":t;return tt(r).slice(0,102400)}catch(t){return""}}function O(t,e){return"string"!=typeof t||!t||e&&-1<t.indexOf(e)||rt.test(t)||o.some((function(e){return-1<t.indexOf(e)}))}function A(t,e){var n,r=[],i=t.config;return t.lifeCycle.on("destroy",(function(){r.length=0})),function(o,a){Array.isArray(o)?r=r.concat(o):r.push(o),e&&r.length>=e||t.sendNow&&0<r.length?(r=it(r),a(r.splice(0,r.length)),n&&clearTimeout(n)):(n&&clearTimeout(n),n=setTimeout((function(){n=null,0<(r=it(r)).length&&a(r.splice(0,r.length))}),i.delay))}}function C(t,e){return Array.isArray(t)?e(t.map((function(t){return e=n(n({},t),{msg:"string"==typeof t.msg?t.msg:[].concat(t.msg).map(Z).join(" ")}),a.forEach((function(t){e[t]||delete e[t]})),e;var e}))):e([n(n({},t),{msg:"string"==typeof t.msg?t.msg:Z(t.msg)})])}function E(t,e){return function(r,i){var o,s,u,c=Array.isArray(r),l=c?r:[r],f=(t.lifeCycle.emit("beforeRequest",r),t.config.beforeRequest);(l="function"==typeof f?l.map((function(t){try{var n=f({logs:t,logType:e});return(null==n?void 0:n.logType)===e&&null!=n&&n.logs?n.logs:!1!==n&&t}catch(n){return t}})).filter((function(t){return!1!==t})):l).length&&(o=l,r=a,!Array.isArray(o)||o.length<=1||(s=[],u=[],!(u="string"==typeof r?[r]:r))||u.length<=0||(u.forEach((function(t){o.forEach((function(e){null!=e&&e[t]&&s.push(t)}))})),0<s.length&&(o=o.map((function(t){var e={};return s.forEach((function(t){e[t]=""})),n(n({},e),t)})))),l=o,i(c?l:l[0]))}}function j(t){return function(e,n){t.lifeCycle.emit("modifyRequest",e);var r=t.config.modifyRequest;if("function"==typeof r)try{var i=r(e);"object"==_typeof2(i)&&"url"in i&&(e=i)}catch(e){}n(e)}}function I(t){return function(e,n){null!=(r=t.lifeCycle)&&r.emit("afterRequest",e);var r=(t.config||{}).afterRequest;"function"==typeof r&&!1===r(e)||n(e)}}function R(t){if(t&&t.reduce&&t.length)return 1===t.length?function(e,n){t[0](e,n||ft)}:t.reduce((function(t,e){return function(n,r){return void 0===r&&(r=ft),t(n,(function(t){return null==e?void 0:e(t,r)}))}}));throw new TypeError("createPipeline need at least one function param")}function D(t,e){Object.getOwnPropertyNames(t).forEach((function(n){"function"==typeof t[n]&&"constructor"!==n&&(e?e[n]="sendPipeline"===n?function(){return function(){}}:function(){}:t[n]=function(){})}))}function L(t){try{var e,n,r,i="";return i=t.pageUrl||(n=(e=getCurrentPages())[e.length-1]||{},o=n.options,r=Object.keys(o).length?"?"+Object.keys(o).map((function(t){return t+"="+o[t]})).join("&"):"",n.route?n.route+r:""),(i="function"==typeof t.urlHandler?t.urlHandler():i).slice(0,2048)}catch(t){return""}var o}function U(t,e){if("string"==typeof t&&"string"==typeof e){if(t===e)return 1;for(var n=t.split("."),r=e.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){var a=~~n[o],s=~~r[o];if(a<s)return;if(s<a)return 1}}}function B(t,e){var n=this;this.taskQueue=[],this.count=1,this.maxCount=2,this.addTask=function(t){n.taskQueue.push(t)},this.fireTask=function(){var t=n.taskQueue.length;n.count>n.maxCount||0===t||(n.count=n.count+1,(t=n.taskQueue.shift())&&n.sendRequest(t.options,null==t?void 0:t.success,null==t?void 0:t.fail))},this.complete=function(){1<n.count&&(n.count=n.count-1),n.fireTask()},e&&(this.maxCount=e),this.sendRequest=t}function M(t){return U(gt=gt||dt.getSystemInfoSync().SDKVersion,"1.1.1")&&dt.canIUse?dt.canIUse(t):!!dt[t]}function N(t){for(var e,n={unknown:/unknown|none/i,wifi:/wifi/i,net2g:/2g/i,net3g:/3g/i,net4g:/4g/i,net5g:/5g/i,net6g:/6g/i},r=H.unknown,i=0;i<Object.keys(n).length;i++){var o=Object.keys(n)[i];if(null!=(e=n[o])&&e.test(t)){r=H[o];break}}return r}function $(t){var e=t.apiName,n=wt[e];n?n.hackCloudReq.addCallback(t):(n=bt.cloud[e],wt[e]={hackCloudReq:new xt(t),originApi:n}),wt[e]}function q(t){var e=t.apiName,n=kt[e];n?n.hackReq.addCallback(t):(n=wx[e],kt[e]={hackReq:new Tt(t),originApi:n}),kt[e]}var G,F,H,z,W,V,J,Y,K,X=["ret","retcode","code","errcode"],Q=function(){var t=new WeakSet;return function(e,n){if(n instanceof Error)return"Error.message: "+n.message+" \n  Error.stack: "+n.stack;if("object"==_typeof2(n)&&null!==n){if(t.has(n))return"[Circular "+(e||"root")+"]";t.add(n)}return n}},Z=function(t){if("string"==typeof t)return t;try{return t instanceof Error?(JSON.stringify(t,Q(),4)||"undefined").replace(/"/gim,""):JSON.stringify(t,Q(),4)||"undefined"}catch(t){return"error happen when aegis stringify: \n "+t.message+" \n "+t.stack}},tt=function t(e,n){void 0===n&&(n=3);var r,i,o,a="";return Array.isArray(e)?(a+="[",r=e.length,e.forEach((function(e,i){a=(a+="object"==_typeof2(e)&&1<n?t(e,n-1):nt(e))+(i===r-1?"":",")})),a+="]"):e instanceof Object?(a="{",i=Object.keys(e),o=i.length,i.forEach((function(r,s){"object"==_typeof2(e[r])&&1<n?a+='"'+r+'":'+t(e[r],n-1):a+=et(r,e[r]),a+=s===o-1||s<o-1&&void 0===e[i[s+1]]?"":","})),a+="}"):a+=e,a},et=function(t,e){var n=_typeof2(e),r="";return"string"==n||"object"==n?r+='"'+t+'":"'+e+'"':"function"==typeof e?r+='"'+t+'":"function '+e.name+'"':"symbol"==_typeof2(e)?r+='"'+t+'":"symbol"':"number"!=typeof e&&"boolean"!=n||(r+='"'+t+'": '+e),r},nt=function(t){var e=_typeof2(t);return""+("undefined"==e||"symbol"==e||"function"==e?"null":"string"==e||"object"==e?'"'+t+'"':t)},rt=/data:(image|text|application|font)\/.*;base64/,it=((pt=G=G||{}).INFO_ALL="-1",pt.API_RESPONSE="1",pt.INFO="2",pt.ERROR="4",pt.PROMISE_ERROR="8",pt.AJAX_ERROR="16",pt.SCRIPT_ERROR="32",pt.IMAGE_ERROR="64",pt.CSS_ERROR="128",pt.CONSOLE_ERROR="256",pt.MEDIA_ERROR="512",pt.RET_ERROR="1024",pt.REPORT="2048",pt.PV="4096",pt.EVENT="8192",pt.PAGE_NOT_FOUND_ERROR="16384",pt.WEBSOCKET_ERROR="32768",pt.BRIDGE_ERROR="65536",pt.LAZY_LOAD_ERROR="131072",(pt=F=F||{})[pt.android=1]="android",pt[pt.ios=2]="ios",pt[pt.windows=3]="windows",pt[pt.macos=4]="macos",pt[pt.linux=5]="linux",pt[pt.devtools=6]="devtools",pt[pt.other=100]="other",(pt=H=H||{})[pt.unknown=100]="unknown",pt[pt.wifi=1]="wifi",pt[pt.net2g=2]="net2g",pt[pt.net3g=3]="net3g",pt[pt.net4g=4]="net4g",pt[pt.net5g=5]="net5g",pt[pt.net6g=6]="net6g",(pt=z=z||{}).LOG="log",pt.SPEED="speed",pt.PERFORMANCE="performance",pt.OFFLINE="offline",pt.WHITE_LIST="whiteList",pt.VITALS="vitals",pt.PV="pv",pt.CUSTOM_PV="customPV",pt.EVENT="event",pt.CUSTOM="custom",pt.SDK_ERROR="sdkError",pt.SET_DATA="setData",pt.LOAD_PACKAGE="loadPackage",(pt=W=W||{}).production="production",pt.development="development",pt.gray="gray",pt.pre="pre",pt.daily="daily",pt.local="local",pt.test="test",pt.others="others",function(t){return t.filter((function(e,n){return"static"!==e.type||!t.find((function(t,r){return e.url===t.url&&200===e.status&&n<r}))}))}),ot=function(t){t.level===G.INFO_ALL&&(t.level=G.INFO)},at={},st={},ut=function(t){return at[t]||(at[t]=setTimeout((function(){st[t]={},at[t]=null}),6e4)),at[t]},ct=function(t){return(Array.isArray(t)?t:[t]).map((function(t){return Object.getOwnPropertyNames(t).reduce((function(e,n){return"ctx"!==n&&(e[n]=t[n]),e}),{level:G.INFO,msg:""})}))},lt=function(t){return function(e){return t.sendPipeline([function(e,n){return n({url:t.config.url||"",data:w(ct(e)),method:"post",contentType:"application/json",type:z.LOG,log:e,requestConfig:{timeout:5e3},success:function(){var r=t.config.onReport;"function"==typeof r&&e.forEach((function(t){r(t)})),"function"==typeof n&&n([])}})}],z.LOG)(e)}},ft=function(){},pt=(Rt.use=function(t){-1===Rt.installedPlugins.indexOf(t)&&t.aegisPlugin&&Rt.installedPlugins.push(t)},Rt.unuse=function(t){-1!==(t=Rt.installedPlugins.indexOf(t))&&Rt.installedPlugins.splice(t,1)},Rt.prototype.init=function(t){this.setConfig(t);for(var e=0;e<Rt.installedPlugins.length;e++)try{Rt.installedPlugins[e].patch(this)}catch(t){this.sendSDKError(t)}this.lifeCycle.emit("onInited")},Rt.prototype.destroy=function(t){void 0===t&&(t=!1);var e,n,r=Rt.instances.indexOf(this);-1!==r&&Rt.instances.splice(r,1);for(var i=Rt.installedPlugins.length-1;0<=i;i--)try{Rt.installedPlugins[i].unpatch(this)}catch(t){this.sendSDKError(t)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),t)e=this,n=Object.getOwnPropertyDescriptors(e),Object.keys(n).forEach((function(t){n[t].writable&&(e[t]=null)})),Object.setPrototypeOf(this,null);else{for(var o=this;o.constructor!==Object&&D(o,this),o=Object.getPrototypeOf(o););0===Rt.instances.length&&(D(r=Object.getPrototypeOf(this).constructor),D(Rt))}},Rt.prototype.setConfig=function(t){Object.assign(this.config,t);var e=(t=this.config).id,n=t.uin,r=t.version,i=t.ext1,o=t.ext2,a=t.ext3,s=t.aid,u=t.env,c=void 0===u?"production":u;return u=t.pageUrl,t=this.bean.id!==e||this.bean.uin!==n||this.bean.aid!==s,this.bean.id=e||"",this.bean.uin=n||"",this.bean.version=r||"1.39.1",this.bean.aid=s||"",this.bean.env=function(){switch(c){case W.production:case W.development:case W.gray:case W.pre:case W.daily:case W.local:case W.test:case W.others:return 1;default:return}}()?c:W.others,u&&this.extendBean("from",encodeURIComponent(u.slice(0,2048))),i&&this.extendBean("ext1",encodeURIComponent(i)),o&&this.extendBean("ext2",encodeURIComponent(o)),a&&this.extendBean("ext3",encodeURIComponent(a)),t&&this.lifeCycle.emit("onConfigChange",this.config),this.config},Rt.prototype.extendBean=function(t,e){this.bean[t]=e},Rt.prototype.send=function(t,e,n){var r=this;return R([j(this),function(t,i){r.request(t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];i({isErr:!1,result:n,logType:t.type,logs:t.log}),null!=e&&e.apply(void 0,n)}),(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];i({isErr:!0,result:e,logType:t.type,logs:t.log}),null!=n&&n.apply(void 0,e)}))},I(this)])(t)},Rt.prototype.sendSDKError=function(t){var e=this;this.sendPipeline([function(t,n){n({url:e.config.url+"?id=1085&msg[0]="+encodeURIComponent(Z(t))+"&level[0]=2&from="+e.config.id+"&count=1&version="+e.config.id+"(1.39.1)",addBean:!1,method:"get",type:z.SDK_ERROR,log:t})}],z.SDK_ERROR)(t)},Rt.prototype.sendPipeline=function(t,e){var n,i=this;return R(r([function(t,e){if("number"!=typeof n.config.random&&(n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||e(t);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,e(t);n.isHidden=!0}},E(n=this,e)],t,[j(this),function(t,e){i.request(t,(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=!1;-1<(""+n[i.failRequestCount=0]).indexOf("403 forbidden")&&(a=!0,i.destroy()),e({isErr:a,result:n,logType:null==t?void 0:t.type,logs:null==t?void 0:t.log}),null!=(a=null==t?void 0:t.success)&&a.call.apply(a,r([t],n))}),(function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];60<=++i.failRequestCount&&i.destroy(),-1<(""+o[0]).indexOf("403 forbidden")&&i.destroy(),e({isErr:!0,result:o,logType:null==t?void 0:t.type,logs:null==t?void 0:t.log}),null!=(n=null==t?void 0:t.fail)&&n.call.apply(n,r([t],o))}))},I(this)]))},Rt.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r={level:G.INFO,msg:t};1===t.length&&t[0].msg&&Object.assign(r,n({},t[0]),{level:G.INFO}),this.normalLogPipeline(r)},Rt.prototype.infoAll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r={level:G.INFO_ALL,msg:t};1===t.length&&t[0].msg&&Object.assign(r,n({},t[0]),{level:G.INFO_ALL}),this.normalLogPipeline(r)},Rt.prototype.report=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r={level:G.REPORT,msg:t};1===t.length&&t[0].msg&&Object.assign(r,n({},t[0])),this.normalLogPipeline(r)},Rt.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r={level:G.ERROR,msg:t};1===t.length&&t[0].msg&&Object.assign(r,n({},t[0]),{level:G.ERROR}),this.normalLogPipeline(r)},Rt.prototype.reportEvent=function(t){t&&(t="string"==typeof t?{name:t,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:t).name&&("string"!=typeof t.name&&(t.name=String(t.name)),this.eventPipeline(t))},Rt.prototype.reportT=function(t){var e=t.name,n=t.duration,r=t.ext1,i=(r=void 0===r?"":r,t.ext2),o=(i=void 0===i?"":i,t.ext3);if(o=void 0===o?"":o,t=t.from,"string"==typeof e&&"number"==typeof n&&"string"==typeof r&&"string"==typeof i&&"string"==typeof o&&!(n<0||6e4<n))return this.submitCustomTime(e,n,r,i,o,void 0===t?"":t)},Rt.prototype.reportTime=function(t,e){if("object"==_typeof2(t))return this.reportT(t);"string"==typeof t&&"number"==typeof e&&(e<0||6e4<e||this.submitCustomTime(t,e))},Rt.prototype.time=function(t){"string"==typeof t&&(this.timeMap[t]||(this.timeMap[t]=Date.now()))},Rt.prototype.timeEnd=function(t){"string"==typeof t&&this.timeMap[t]&&(this.submitCustomTime(t,Date.now()-this.timeMap[t]),delete this.timeMap[t])},Rt.prototype.ready=function(t,e,n){throw new Error('You need to override "ready" method')},Rt.prototype.request=function(t,e,n){throw new Error('You need to override "request" method')},Rt.prototype.speedLogPipeline=function(t){throw new Error('You need to override "speedLogPipeline" method')},Object.defineProperty(Rt.prototype,"__version__",{get:function(){return"1.39.1"},enumerable:!1,configurable:!0}),Object.defineProperty(Rt.prototype,"LogType",{get:function(){return G},enumerable:!1,configurable:!0}),Rt.prototype.reportPv=function(t){},Rt.prototype.submitCustomTime=function(t,e,n,r,i,o){this.customTimePipeline({name:t,duration:e,ext1:n||this.config.ext1,ext2:r||this.config.ext2,ext3:i||this.config.ext3,from:o||void 0})},Rt.version="1.39.1",Rt.instances=[],Rt.logType=G,Rt.environment=W,Rt.installedPlugins=[],Rt),ht=(It.prototype.patch=function(t){this.canUse(t)&&this.exist(t)&&(this.instances.push(t),this.triggerInit(t),this.triggerOnNewAegis(t))},It.prototype.unpatch=function(t){var e=this.instances.indexOf(t);-1!==e&&(this.instances.splice(e,1),0===this.instances.length)&&this.uninstall(t)},It.prototype.countInstance=function(){return this.instances.length},It.prototype.uninstall=function(t){var e;null!=(e=null==(e=this.option)?void 0:e.destroy)&&e.apply(this,[t])},It.prototype.walk=function(t){var e=this;this.instances.forEach((function(n){var r=e.canUse(n);r&&t(n,r)}))},It.prototype.canUse=function(t){return!(!(t=this.getConfig(t))||"object"!=_typeof2(t))||!!t},It.prototype.getConfig=function(t){return null==(t=t.config)?void 0:t[this.name]},It.prototype.exist=function(t){return-1===this.instances.indexOf(t)},It.prototype.triggerInit=function(t){var e;this.inited||(this.inited=!0,null==(e=null==(e=this.option)?void 0:e.init))||e.call(this.option,this.getConfig(t))},It.prototype.triggerOnNewAegis=function(t){var e;null!=(e=null==(e=this.option)?void 0:e.onNewAegis)&&e.call(this.option,t,this.getConfig(t))},It),dt=wx||qq,gt="",vt=new ht({name:"device",onNewAegis:function(t){return e=this,i=function(){return function(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var u=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,(u=i?[2&u[0],i.value]:u)[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((i=0<(i=o.trys).length&&i[i.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3]))o.label=u[1];else if(6===u[0]&&o.label<i[1])o.label=i[1],i=u;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(u)}}u=e.call(t,o)}catch(s){u=[6,s],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,(function(e){return this.setSystemInfo(t),this.setNetworkType(t),this.setNetworkChange(t),[2]}))},new(r=(r=n=void 0)||Promise)((function(t,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(e){var n;e.done?t(e.value):((n=e.value)instanceof r?n:new r((function(t){t(n)}))).then(a,s)}u((i=i.apply(e,n||[])).next())}));var e,n,r,i},setSystemInfo:function(t){var e=this;try{M("getSystemInfo")&&dt.getSystemInfo({success:function(n){var r=n.platform,i=n.model,o=n.windowHeight,a=n.windowWidth,s=n.screenWidth;s=void 0===s?0:s,n=void 0===(n=n.screenHeight)?0:n,t.extendBean("platform",e.getPlatFormType(r)),t.extendBean("model",i),t.extendBean("vp",Math.round(a)+" * "+Math.round(o)),t.extendBean("sr",Math.round(s)+" * "+Math.round(n))}})}catch(t){}},getPlatFormType:function(t){for(var e,n={android:/android/i,ios:/ios/i,windows:/windows/i,macos:/mac/i,devtools:/devtools/i},r=F.other,i=0;i<Object.keys(n).length;i++){var o=Object.keys(n)[i];if(null!=(e=n[o])&&e.test(t)){r=F[o];break}}return r},setNetworkChange:function(t){M("onNetworkStatusChange")&&dt.onNetworkStatusChange((function(e){e=N(e.networkType),t.extendBean("netType",e)}))},setNetworkType:function(t){M("getNetworkType")&&dt.getNetworkType({success:function(e){e=N(e.networkType),t.extendBean("netType",e)}})}}),yt=dt.request,mt=(e(jt,Y=pt),Object.defineProperty(jt.prototype,"getBean",{get:function(){var t=this;return this.bean?Object.getOwnPropertyNames(this.bean).map((function(e){return e+"="+t.bean[e]})).join("&")+"&from="+encodeURIComponent(L(this.config)):"from="+encodeURIComponent(L(this.config))},enumerable:!1,configurable:!0}),jt.prototype.initRequestSchedule=function(){this.requestSchedule=new B(this.sendRequest)},jt.prototype.uploadLogs=function(t,e){this.lifeCycle.emit("uploadLogs",t=void 0===t?{}:t,e=void 0===e?{}:e)},jt.prototype.reportPv=function(t){var e,n=this;t&&(e=Object.getOwnPropertyNames(this.bean).filter((function(t){return"id"!==t})).map((function(t){return t+"="+n.bean[t]})).join("&")+"&from="+encodeURIComponent(L(this.config)),this.send({url:this.config.url+"/"+t+"?"+e,addBean:!1,type:z.CUSTOM_PV,log:z.CUSTOM_PV},(function(){}),(function(){})))},jt.sessionID="session-"+Date.now(),jt.asyncPluginIndex=0,pt=jt,new ht({name:"aid",onNewAegis:function(t){this.initAid((function(e){t.bean.aid=e,t.config.aid=e}))},initAid:function(t){dt.getStorage({key:"AEGIS_ID",success:function(e){t(e.data)},fail:function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}));dt.setStorage({key:"AEGIS_ID",data:e,success:function(){t(e)}})}})}})),_t=(Et.prototype.addCallback=function(t){t&&this.callbacks.push(t)},Et.prototype.prefixHandler=function(t){return n(n({},t),{aegisRequestStartTime:+new Date})},Et.prototype.onStartHandler=function(t){var e;this.callbacks.forEach((function(e){var n;try{null!=(n=e.onStart)&&n.call(e,t)}catch(e){}})),null!=(e=t.onStart)&&e.call(t,t)},Et.prototype.successHandler=function(t,e){var n;this.callbacks.forEach((function(n){var r;try{null!=(r=n.success)&&r.call(n,t,e)}catch(n){}})),null!=(n=e.success)&&n.call(e,t,e)},Et.prototype.failHandler=function(t,e){var n;this.callbacks.forEach((function(n){var r;try{null!=(r=n.fail)&&r.call(n,t,e)}catch(n){}})),null!=(n=e.fail)&&n.call(e,t,e)},Et.prototype.completeHandler=function(t,e){var n;this.callbacks.forEach((function(n){var r;try{null!=(r=n.complete)&&r.call(n,t,e)}catch(n){}})),null!=(n=e.complete)&&n.call(e,t,e)},Et.prototype.override=function(){try{this.defineApiProperty()}catch(t){}finally{this.isOverride=!0}},Et),bt=wx||qq,wt={},xt=(e(Ct,J=_t),Ct.prototype.defineApiProperty=function(){var t=this;bt.cloud&&bt.cloud[this.apiName]&&Object.defineProperty(bt.cloud,this.apiName,{get:function(){return t.hackHandler.bind(t)}})},Ct.prototype.hackHandler=function(t){var e=this,r=this.prefixHandler(t);return new Promise((function(t,i){var o=null==(o=wt[e.apiName])?void 0:o.originApi;null!=o&&o(n(n({},r),{success:function(n){e.successHandler(n,r),t(n)},fail:function(t){e.failHandler(t,r),i(t)},complete:function(t){e.completeHandler(t,r)}}))}))},Ct),St=wx||qq,kt={},Tt=(e(At,V=_t),At.prototype.defineApiProperty=function(){var t=this;Object.defineProperty(St,this.apiName,{get:function(){return t.hackHandler.bind(t)}})},At.prototype.hackHandler=function(t){var e=this,r=this.prefixHandler(t);return this.onStartHandler(r),null==(t=null==(t=kt[this.apiName])?void 0:t.originApi)?void 0:t(n(n({},r),{success:function(t){e.successHandler(t,r)},fail:function(t){e.failHandler(t,r)},complete:function(t){e.completeHandler(t,r)}}))},At),Pt=wx||qq,Ot=Pt.request;function At(){return null!==V&&V.apply(this,arguments)||this}function Ct(){return null!==J&&J.apply(this,arguments)||this}function Et(t){this.callbacks=[],this.isOverride=!1;var e=t.apiName;this.apiName=e,this.isOverride||this.override(),this.callbacks.push(t)}function jt(t){var e,r,i=Y.call(this,t)||this;i.originRequest=yt,i.speedLogPipeline=R([(r=i.config,function(t,e){var n,i,o,a="number"==typeof r.repeat?r.repeat:60;!r.speedSample||a<=0?e(t):(n=(null==r?void 0:r.id)||"0",i=st[n]||{},Array.isArray(t)?(o=t.filter((function(t){var e=!i[t.url]||i[t.url]<a;return e?(i[t.url]=1+~~i[t.url],st[n]=i):at[n]||ut(n),e}))).length&&e(o):!i[t.url]||i[t.url]<a?(i[t.url]=1+~~i[t.url],st[n]=i,e(t)):at[n]||ut(n))}),A(i),function(t,n){M("getNetworkType")?dt.getNetworkType({success:function(r){r=N(r.networkType),e.extendBean("netType",r),n(t)}}):n(t)},function(t,e){i.lifeCycle.emit("beforeReportSpeed",t);var n=i.config.beforeReportSpeed;if((t="function"==typeof n?t.filter((function(t){return!1!==n(t)})):t).length)return e(t)},E(e=i,z.SPEED),function(t,e){e(t.map((function(t){return void 0!==t.payload&&delete t.payload,t})))},function(t){var e,r,o,a;i.send({url:""+i.config.speedUrl,method:"post",data:(t=t,e=i.bean,o={fetch:[],static:[],bridge:[]},a={},Array.isArray(t)?t.forEach((function(t){var e;null!=(e=o[t.type])&&e.push(t)})):null!=(r=o[t.type])&&r.push(t),a.payload=JSON.stringify(n({duration:o},e)),a)})}]),i.request=function(t,e,n){t.url&&i.bean.id&&(!/^\w{8}-\w{4}-\w{4}-\w{4}-\w{12}$/.test(String(i.bean.aid))||M("getNetworkType")&&void 0===i.bean.netType?i.requestSchedule.addTask({options:t,success:e,fail:n}):(i.requestSchedule.addTask({options:t,success:e,fail:n}),i.requestSchedule.fireTask()))},i.sendRequest=function(t,e,r){var o,a,s,u=t.url,c=(i.config.whiteListUrl===u&&(o=e,e=function(t){null!=o&&o(JSON.stringify(t.data))}),t.method),l=(c=void 0===c?"get":c,!1!==t.addBean&&(u=u+(-1===(null==u?void 0:u.indexOf("?"))?"?":"&")+i.getBean),t),f=i.config.onBeforeRequest;return(l=f?f(t,i):l)&&l.url?(f=i.config.enableHttp2||!1,"get"===c?(c=u,a=l.data,u="string"!=typeof c?"":"object"==_typeof2(a)&&a?(s=Object.getOwnPropertyNames(a).map((function(t){var e=a[t];return t+"="+("string"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e)))})).join("&").replace(/eval/gi,"evaI"),c+(-1===c.indexOf("?")?"?":"&")+s):c,i.originRequest(n({url:u,enableHttp2:f,success:e,fail:r,complete:i.requestSchedule.complete},t.requestConfig))):("string"==typeof l.data&&(l.data=l.data.replace(/eval/gi,"evaI")),i.originRequest(n({url:u,enableHttp2:f,header:l.contentType?{"content-type":l.contentType}:void 0,method:"POST",data:l.data,success:e,fail:r,complete:i.requestSchedule.complete},t.requestConfig))),!0):(s="",l&&l.url||(s="Sending request blocked. Please handle the parameters reasonably, options.url is necessary"),null!=r&&r(s),i.requestSchedule.complete(),!1)};try{i.initRequestSchedule(),i.init(t),i.extendBean("sessionId",jt.sessionID),i.extendBean("referer",(M("getLaunchOptionsSync")?dt.getLaunchOptionsSync():{scene:""}).scene||"")}catch(t){i.sendSDKError(t)}return i}function It(t){this.aegisPlugin=!0,this.name="",this.instances=[],this.inited=!1,t.$walk=this.walk.bind(this),t.$getConfig=this.getConfig.bind(this),this.option=t,this.name=t.name}function Rt(t){var e,n,r,i,o,a,u,c,l,f,p,h,d,g,v=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:60,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,onClose:!0,reportLoadPackageSpeed:!0,hostUrl:"https://aegis.qq.com",env:"production",url:"",offlineUrl:"",whiteListUrl:"",pvUrl:"",speedUrl:"",customTimeUrl:"",performanceUrl:"",performanceUrlForHippy:"",webVitalsUrl:"",eventUrl:"",setDataReportUrl:"",reportImmediately:!0},this.isWhiteList=!1,this.lifeCycle=new s,this.bean={},this.normalLogPipeline=R([A(this,5),C,function(t,n){var r=e.config;n(t=t.map((function(t){var e,n=r.maxLength||102400;try{if(!t.msg||t.msg.length<=n)return t;t.msg=null==(e=t.msg)?void 0:e.substring(0,n)}catch(e){t.msg=Z(t.msg).substring(0,r.maxLength)}return t})))},(g=(e=this).config,function(t,e){var n="number"==typeof g.repeat?g.repeat:60;if(n<=0)return e(t);var r=(null==g?void 0:g.id)+"_error",i=st[r]||{};e(t.filter((function(t){if(t.level===G.ERROR||t.level===G.PROMISE_ERROR||t.level===G.AJAX_ERROR||t.level===G.SCRIPT_ERROR||t.level===G.IMAGE_ERROR||t.level===G.CSS_ERROR||t.level===G.MEDIA_ERROR||t.level===G.RET_ERROR||t.level===G.BRIDGE_ERROR||t.level===G.PAGE_NOT_FOUND_ERROR||t.level===G.WEBSOCKET_ERROR||t.level===G.LAZY_LOAD_ERROR){if(t=t.msg.slice(0,200),i[t]>n)return at[r]||ut(r),!1;i[t]=1+~~i[t],st[r]=i}return!0})))}),(h=this.lifeCycle.emit,d=this.config,function(t,e){var n,r=d.logCreated;return"function"==typeof r?(n=t.filter((function(t){return!1!==r(t)})),h("beforeWrite",n),e(n)):(h("beforeWrite",t),e(t))}),(p=this,setTimeout((function(){var t=p.config,e=t.pvUrl,n=void 0===e?"":e;e=t.spa,t=-1<["web-sdk","mp-sdk"].indexOf("mp-sdk"),n&&(t&&!e||!t)&&p.sendPipeline([function(t,e){e({url:n,type:z.PV})}],z.PV)(null)}),100),function(t,e){e(t)}),(l=c=u=!1,f=[],(o=this).lifeCycle.on("onConfigChange",(function(){a&&clearTimeout(a),a=setTimeout((function(){var t,e;!l&&o.config&&(l=!0,t=o.config.whiteListUrl,(e=void 0===t?"":t)&&o.sendPipeline([function(t,n){n({url:e,type:z.WHITE_LIST,success:function(t){c=!0;try{var e=t.data||JSON.parse(t),n=e.retcode,r=e.result,i=void 0===r?{}:r,a=(0===n&&(u=i.is_in_white_list,o.isWhiteList=u,0<=i.rate)&&i.rate<=1&&(o.config.random=i.rate,o.isGetSample=!1),o.isWhiteList&&f.length?lt(o)(f.splice(0),(function(){})):!o.isWhiteList&&f.length&&(f.length=0),o.config.onWhitelist);"function"==typeof a&&a(u)}catch(t){}},fail:function(){c=!0}})}],z.WHITE_LIST)(null),l=!1)}),o.config.uin?50:500)})),o.lifeCycle.on("destroy",(function(){f.length=0})),function(t,e){var n;u||null!=(n=null==(n=o.config)?void 0:n.api)&&n.reportRequest?e(t.concat(f.splice(0)).map((function(t){return ot(t),t}))):(n=t.filter((function(t){return t.level!==G.INFO&&t.level!==G.API_RESPONSE?(ot(t),!0):(c||(f.push(t),200<=f.length&&(f.length=200)),!1)}))).length&&e(n)}),function(t,e){try{var n=JSON.parse(JSON.stringify(t)),r=(v.lifeCycle.emit("beforeReport",n),v.config.beforeReport);(t="function"==typeof r?t.filter((function(t){return!1!==r(t)})):t).length&&e(t)}catch(t){}},lt(this)]),this.eventPipeline=R([A(this,10),(i=this,function(t){i.sendPipeline([function(t,e){var n=t.map((function(t){return{name:t.name,ext1:t.ext1||i.config.ext1||"",ext2:t.ext2||i.config.ext2||"",ext3:t.ext3||i.config.ext3||""}}));e({url:i.config.eventUrl+"?payload="+encodeURIComponent(JSON.stringify(n)),type:z.EVENT,log:t})}],z.EVENT)(t)})]),this.customTimePipeline=R([A(this,10),(r=this,function(t){return r.sendPipeline([function(t,e){e({url:r.config.customTimeUrl+"?payload="+encodeURIComponent(JSON.stringify({custom:t})),type:z.CUSTOM,log:t})}],z.CUSTOM)(t)})]),this.timeMap={},this.failRequestCount=0,this.config=(n=this.config,void 0===(t=t.hostUrl)&&(t="https://aegis.qq.com"),n.url=n.url||t+"/collect",n.offlineUrl=n.offlineUrl||t+"/offline",n.whiteListUrl=n.whiteListUrl||t+"/collect/whitelist",n.pvUrl=n.pvUrl||t+"/collect/pv",n.eventUrl=n.eventUrl||t+"/collect/events",n.speedUrl=n.speedUrl||t+"/speed",n.customTimeUrl=n.customTimeUrl||t+"/speed/custom",n.performanceUrl=n.performanceUrl||t+"/speed/performance",n.performanceUrlForHippy=n.performanceUrlForHippy||t+"/speed/hippyPerformance",n.webVitalsUrl=n.webVitalsUrl||t+"/speed/webvitals",n.setDataReportUrl=n.SetDataReportUrl||t+"/speed/miniProgramData",n),Rt.instances.push(this)}function Dt(){return null!==K&&K.apply(this,arguments)||this}function Lt(t,e,n){return null!=e&&e.length&&"object"==_typeof2(t)?e.reduce((function(e,r){var i=t[r];return i?e+(""===e?"\n":"\n\n")+n+" header "+r+": "+i:e}),""):""}e(Dt,K=_t),Dt.prototype.defineApiProperty=function(){var t=this;Object.defineProperty(Pt,"request",{get:function(){return t.hackHandler.bind(t)}})};var Ut,Bt,Mt=new ht({name:"reportApiSpeed",override:!(Dt.prototype.hackHandler=function(t){var e=this,r=this.prefixHandler(t);return this.onStartHandler(r),Ot(n(n({},r),{success:function(t){e.successHandler(t,r)},fail:function(t){e.failHandler(t,r)},complete:function(t){e.completeHandler(t,r)}}))}),onNewAegis:function(t){var e,n;this.override||(null!=(n=(t.config||{}).api)&&n.injectTraceHeader&&(this.traceRequestHeader=new _(n.injectTraceHeader,null!=(e=null==n?void 0:n.injectTraceIgnoreUrls)?e:[],null==n?void 0:n.injectTraceUrls)),this.override=!0,this.hackRequest(t.config),this.overrideCallFunction(t.config),this.overrideCallContainer(t.config))},hackRequest:function(t){var e=this;q({apiName:"request",onStart:function(r){var i=((null==t?void 0:t.api)||{}).injectTraceHeader,o=(r||{}).url;i&&(i={host:((i=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(i=o)||[])[1],i[2],[i[3],i[4],i[5]][0]),pathname:(i=getCurrentPages()).length?i[i.length-1].route:""},i=(o=e.traceRequestHeader.generate(o,{},{host:i.host,pathname:i.pathname})||{}).name,o=o.value,i)&&o&&r&&(r.header=n(n({},r.header),((r={})[i]=o,r)))},success:function(n,r){var i,o,a,s,u,c,l,f;O(r.url,t.hostUrl)||(i={method:r.method||"get",url:S(r.url),duration:Date.now()-r.aegisRequestStartTime,status:n.statusCode||0,nextHopProtocol:"",isHttps:k(r.url),type:"fetch"},s=null==(s=t.api)?void 0:s.apiDetail,o=(a=T(n.data,t.api,{url:r.url,ctx:n,payload:r.data})||{}).code,a=a.isErr,f=s?P(r.data,null==(f=t.api)?void 0:f.reqParamHandler,{url:r.url}):"",s=s?P(n.data,null==(s=t.api)?void 0:s.resBodyHandler,{url:r.url}):"",u=(null==(u=t.api)?void 0:u.reqHeaders)||[],u=Lt(null==r?void 0:r.header,u,"req"),c=(null==(c=t.api)?void 0:c.resHeaders)||[],c=Lt(null==n?void 0:n.header,c,"res"),l=v(null==r?void 0:r.header),f="req url: "+i.url+" \n                        \nres status: "+(n.statusCode||0)+" \n                        \nres duration: "+i.duration+"ms \n                        \nreq method: "+i.method+" \n                        \nreq param: "+f+"  \n                        \nres retcode: "+o+" \n                        \nres data: "+s+"\n                        "+u+"\n                        "+c,i.ret=o,i.isErr=+a,i.payload=r.data,e.publishNormalLog({msg:f,level:a?G.RET_ERROR:G.API_RESPONSE,ctx:n,trace:l}),e.publishSpeedLog(i))},fail:function(n,r){O(r.url,t.hostUrl)||(r={method:r.method||"get",url:S(r.url),duration:Date.now()-r.aegisRequestStartTime,status:0,nextHopProtocol:"",isHttps:k(r.url),type:"fetch"},e.publishSpeedLog(r))}})},overrideCallFunction:function(t){var e=this;$({apiName:"callFunction",success:function(n,r){e.cloudSuccessCallback(t,r,n,"callFunction")},fail:function(t,n){n={method:"call",url:"wx.cloud.callFunction."+n.name,duration:Date.now()-n.aegisRequestStartTime,status:0,nextHopProtocol:"",type:"fetch",errMsg:t.errMsg,isHttps:!0},e.publishSpeedLog(n)}})},overrideCallContainer:function(t){var e=this;$({apiName:"callContainer",success:function(n,r){e.cloudSuccessCallback(t,r,n,"callContainer")},fail:function(t,n){n={method:"call",url:"wx.cloud.callContainer."+n.path,duration:Date.now()-n.aegisRequestStartTime,status:0,nextHopProtocol:"",type:"fetch",errMsg:t.errMsg,isHttps:!0},e.publishSpeedLog(n)}})},cloudSuccessCallback:function(t,e,n,r){var i="callFunction"===r?e.name:e.path,o="callFunction"===r?n.result:n.data,a=(i={method:"call",url:"wx.cloud."+r+"."+i,duration:Date.now()-e.aegisRequestStartTime,status:200,nextHopProtocol:"",type:"fetch",isHttps:!0},["apiName","aegisRequestStartTime","config","success","fail","complete"]),s=Object.keys(e).reduce((function(t,n){return a.includes(n)||(t[n]=e[n]),t}),{}),u=(r="callFunction"===r?(null==(r=n.data)?void 0:r.code)||0:n.statusCode,T(o,t.api,{url:i.url,ctx:n,payload:s})||{}),c=u.code,l=(u=void 0!==(u=u.isErr)&&u,i.ret=c,i.isErr=+u,i.payload=s,s=(c=null==(c=t.api)?void 0:c.apiDetail)?P(s,null==(s=t.api)?void 0:s.reqParamHandler,{url:i.url}):"",o=c?P(o,null==(c=t.api)?void 0:c.resBodyHandler,{url:i.url}):"",c=(null==(c=t.api)?void 0:c.reqHeaders)||[],c=Lt(null==e?void 0:e.header,c,"req"),t=(null==(t=t.api)?void 0:t.resHeaders)||[],t=Lt(null==n?void 0:n.header,t,"res"),v(null==e?void 0:e.header));r="req url: "+i.url+"\n                    \nres status: "+r+"\n                    \nres duration: "+i.duration+"ms \n                    \nreq type: "+i.type+"\n                    \nreq params: "+s+"\n                    \nres retcode: "+i.ret+"\n                    \nres data: "+o+"\n                    "+c+"\n                    "+t,this.publishNormalLog({msg:r,level:u?G.RET_ERROR:G.API_RESPONSE,ctx:n,trace:l}),this.publishSpeedLog(i)},publishSpeedLog:function(t){this.$walk((function(e){e.speedLogPipeline(t)}))},publishNormalLog:function(t){this.$walk((function(e){e.normalLogPipeline(t)}))}}),Nt=wx||qq,$t=Nt.connectSocket,qt=(Vt.prototype.addConfig=function(t){var e=t.send;t=t.onError,e&&this.sends.push(e),t&&this.onErrors.push(t)},Vt.prototype.toHack=function(t){var e=this,r=(this.onErrors.forEach((function(e){t.onError(e)})),t.send);return Object.defineProperty(t,"send",{get:function(){return function(i){return new Promise((function(o){r.call(t,n(n({},i),{fail:function(t){e.sends.forEach((function(e){var n;null!=(n=e.fail)&&n.call(e,t,i)})),o(t)}}))}))}}}),t},Vt),Gt=(e(Wt,Bt=_t),Wt.prototype.addTaskConf=function(t){this.taskHack.addConfig(t)},Wt.prototype.defineApiProperty=function(){var t=this;Object.defineProperty(Nt,"connectSocket",{get:function(){return t.hackHandler.bind(t)}})},Wt.prototype.hackHandler=function(t){var e=this,r=this.prefixHandler(t);return t=$t(n(n({},r),{success:function(t){e.successHandler(t,r)},fail:function(t){e.failHandler(t,r)},complete:function(t){e.completeHandler(t,r)}})),this.taskHack.toHack(t),t},Wt),Ft=(_t=new ht({name:"onError",onNewAegis:function(t){var e=dt.getSystemInfoSync().SDKVersion;this.listenError(),this.hackNetWork(t),this.hackCloud(t),t.config.websocketHack&&U(e,"1.7.0")&&this.hackWsConnect()},listenError:function(){var t=this;"function"==typeof dt.onError&&dt.onError((function(e){e&&t.publishErrorLog({msg:e,level:G.ERROR})})),M("onUnhandledRejection")&&dt.onUnhandledRejection((function(e){var n;!(e=e.reason)||-1<JSON.stringify(e).indexOf("request:fail")||t.publishErrorLog({msg:e,errorMsg:null==(n=null==(e=(null==e?void 0:e.message)||(null==e?void 0:e.errMsg)||Z(e))?void 0:e.slice)?void 0:n.call(e,0,150),level:G.PROMISE_ERROR})})),M("onPageNotFound")&&dt.onPageNotFound((function(e){e&&t.publishErrorLog({msg:e,level:G.PAGE_NOT_FOUND_ERROR})})),M("onLazyLoadError")&&dt.onLazyLoadError((function(e){e&&t.publishErrorLog({msg:e,level:G.LAZY_LOAD_ERROR})}))},publishErrorLog:function(t){this.$walk((function(e){e.normalLogPipeline(t)}))},hackNetWork:function(t){for(var e=this,n=t.config,r=0,i=[{apiName:"request",complete:function(t,r){return e.requestCompleteError(t,r,n)}},{apiName:"uploadFile",complete:function(t,r){return e.uploadFileCompleteError(t,r,n)}},{apiName:"downloadFile",complete:function(t,r){return e.downloadFileCompleteError(t,r,n)}}];r<i.length;r++){var o=i[r];q({apiName:o.apiName,complete:o=o.complete})}},requestCompleteError:function(t,e,n){var r=t.errMsg,i=t.statusCode;O(e.url,n.hostUrl)||(r=this.getErrorType({errMsg:r,statusCode:i}))&&this.publishNetWorkError({apiName:"request",opts:e,res:t,config:n,type:r})},downloadFileCompleteError:function(t,e,n){var r=t.errMsg,i=t.statusCode,o=t.filePath,a=t.tempFilePath;(r=this.getErrorType({errMsg:r,statusCode:i}))&&this.publishNetWorkError({apiName:"downloadFile",opts:e,res:t,config:n,type:r},{extraInfo:"\nres filePath: "+o+"\nres tempFilePath: "+a})},uploadFileCompleteError:function(t,e,n){var r=t.errMsg,i=t.statusCode;(r=this.getErrorType({errMsg:r,statusCode:i}))&&this.publishNetWorkError({apiName:"uploadFile",opts:e,res:t,config:n,type:r})},hackCloud:function(t){for(var e=this,n=t.config,r=0,i=[{apiName:"callFunction",complete:function(t,r){return e.callFunctionCompleteError(t,r,n)}},{apiName:"callContainer",complete:function(t,r){return e.callContainerCompleteError(t,r,n)}}];r<i.length;r++){var o=i[r];$({apiName:o.apiName,complete:o=o.complete})}},callFunctionCompleteError:function(t,e,n){var r=t.errMsg;(r=this.getErrorType({errMsg:r}))&&this.publishNetWorkError({apiName:"cloud.callFunction",opts:e,res:t,config:n,type:r})},callContainerCompleteError:function(t,e,n){var r=t.errMsg,i=t.statusCode;(r=this.getErrorType({errMsg:r,statusCode:i}))&&this.publishNetWorkError({apiName:"cloud.callContainer",opts:e,res:t,config:n,type:r})},publishNetWorkError:function(t,e){e=(null==e?void 0:e.extraInfo)||"";var n=t.apiName,r=t.opts,i=t.res,o=t.config,a=(t=t.type,i.errMsg),s=i.statusCode,u=i.data,c=r.url,l=T(u,o.api,{url:c,ctx:i,payload:r.data}).code,f=null==(f=o.api)?void 0:f.apiDetail,p=f?P(r.data,null==(p=o.api)?void 0:p.reqParamHandler,{url:c}):"";u=f?P(u,null==(f=o.api)?void 0:f.resBodyHandler,{url:c}):"",c=(null==(f=o.api)?void 0:f.reqHeaders)||[],f=Lt(null==r?void 0:r.header,c,"req"),o=(null==(c=o.api)?void 0:c.resHeaders)||[],c=Lt(null==i?void 0:i.header,o,"res"),i=v(null==r?void 0:r.header),this.publishErrorLog({msg:"AJAX_ERROR: "+n+" "+t+"\n                  \nreq url: "+r.url+"\n                  \nres status: "+(s||0)+"\n                  \nres duration: "+(Date.now()-r.aegisRequestStartTime)+"ms\n                  \nreq method: "+(r.method||"get")+"\n                  \nreq param: "+p+"\n                  \nres retcode: "+l+"\n                  \nres data: "+u+"\n                  \nerrMsg: "+a.slice(0,1e3)+"\n                  "+e+"\n                  "+f+"\n                  "+c,level:G.AJAX_ERROR,trace:i})},getErrorType:function(t){var e=t.errMsg,n=(t=t.statusCode,""),r=e;return["timeout","time out","ERR_CONNECTION_TIMED_OUT","ERR_TIMED_OUT","超时"].some((function(t){return String(r||"").includes(t)}))?n="timeout":400<=t?n="error":(-1<e.indexOf("fail")||!t||t<0)&&(n="failed"),n},hackWsConnect:function(){var t,e,n=this;q({apiName:"sendSocketMessage",fail:function(t){n.publishSocketError(t)}}),t=(e={connectCallback:{fail:function(t){n.publishSocketError(t)}},taskOpt:{onError:function(t){n.publishSocketError(t)},send:{fail:function(t){n.publishSocketError(t)}}}}).connectCallback,e=e.taskOpt,Ut?Ut.addCallback(t):Ut=new Gt(t),e&&Ut.addTaskConf(e)},publishSocketError:function(t){t&&this.publishErrorLog({msg:t.errMsg,level:G.WEBSOCKET_ERROR})}}),new ht({name:"reportAssetSpeed",isStart:!1,onNewAegis:function(t){this.isStart||(this.isStart=!0,this.start(t))},start:function(t){var e,n=this;dt.getPerformance&&"function"==typeof(e=dt.getPerformance()).createObserver&&e.createObserver((function(e){null!=(e=e.getEntries())&&e.forEach((function(e){O(e.uri,t.config.hostUrl)||"number"!=typeof e.duration||e.duration<=0||n.publishAssetLog(e)}))})).observe({entryTypes:["resource"]})},generateLog:function(t){var e,n,r=t.transferSize;return{url:(e=t.uri,void 0===n&&(n=2048),String(e).replace(i,"").slice(0,n)),method:"get",duration:Math.round(100*t.duration)/100,status:200,type:"static",isHttps:!0,urlQuery:S(t.uri,!0),nextHopProtocol:"",domainLookup:0,connectTime:0,transferSize:0<r?r:-1}},publishAssetLog:function(t){var e=this;this.$walk((function(n){n.speedLogPipeline(e.generateLog(t))}))}})),Ht=["onLaunch","onHide","onError","onLoad","onReady","onShow","onUnload"],zt=new ht({name:"pagePerformance",pageNavigationStartTime:{},onNewAegis:function(t){try{M("getPerformance")&&this.reportPerformance(t),this.setPagePV(t),this.reportSetDataTiming(t)}catch(t){}},reportPerformance:function(t){var e=this,n=dt.getPerformance();"function"==typeof n.createObserver&&null!=(n=null==n?void 0:n.createObserver((function(n){var r={},i=null==(i=n.getEntriesByName("appLaunch"))?void 0:i[0],o=null==(o=n.getEntriesByName("firstRender"))?void 0:o[0],a=null==(a=n.getEntriesByName("evaluateScript"))?void 0:a[0],s=null==(s=n.getEntriesByName("route"))?void 0:s[0],u=null==(u=null==(u=n.getEntriesByName("firstPaint"))?void 0:u[0])?void 0:u.startTime,c=null==(c=null==(c=n.getEntriesByName("largestContentfulPaint"))?void 0:c[0])?void 0:c.startTime,l=null==(l=null==(l=n.getEntriesByName("firstContentfulPaint"))?void 0:l[0])?void 0:l.startTime,f=null==(f=(null==(f=n.getEntriesByName("firstPaint"))?void 0:f[0])||(null==(f=n.getEntriesByName("route"))?void 0:f[0])||(null==(f=n.getEntriesByName("appLaunch"))?void 0:f[0]))?void 0:f.pageId,p=null==(n=(null==(p=n.getEntriesByName("route"))?void 0:p[0])||(null==(p=n.getEntriesByName("appLaunch"))?void 0:p[0]))?void 0:n.startTime;f&&(e.pageNavigationStartTime[f]=null,p)&&(e.pageNavigationStartTime[f]=p),i&&(r.appLaunch=i.duration||-1),o&&(r.firstScreenTiming=o.duration||-1),a&&(r.scriptEvaluateTiming=a.duration||-1),s&&(r.pageRouteTiming=s.duration||-1),u&&p?r.firstPaintTiming=Math.max(u-p,-1):u&&e.pageNavigationStartTime[f]&&(r.firstPaintTiming=Math.max(u-e.pageNavigationStartTime[f],-1)),c&&p?r.LCP=Math.max(c-p,-1):c&&e.pageNavigationStartTime[f]&&(r.LCP=Math.max(c-e.pageNavigationStartTime[f],-1)),l&&p?r.FCP=Math.max(l-p,-1):l&&e.pageNavigationStartTime[f]&&(r.FCP=Math.max(l-e.pageNavigationStartTime[f],-1)),0<Object.keys(r).length&&e.publish(r,t)})))&&n.observe({entryTypes:["navigation","render","script"]})},publish:function(t,e){var n,r,i,o=[],a=e.config,s=-1===(null==(n=e.config.performanceUrl)?void 0:n.indexOf("?"))?"?":"&";for(r in t)o.push(r+"="+t[r]);"function"==typeof a.urlHandler?(i=a.urlHandler()||window.location.href,this.$walk((function(n){n.send({url:e.config.performanceUrl+s+o.join("&")+"&from="+encodeURIComponent(i),beanFilter:["from"],type:z.PERFORMANCE,log:t})}))):this.$walk((function(n){n.send({url:e.config.performanceUrl+s+o.join("&"),type:z.PERFORMANCE,log:t})}))},setPagePV:function(t){var e=this;dt.onAppRoute&&dt.onAppRoute((function(n){"appLaunch"===n.openType&&!t.config.spa||(e.$walk((function(t){t.send({url:""+t.config.pvUrl,type:z.PV})})),e.reportPageLoaded(n))}))},reportPageLoaded:function(t){t="infoType: behaviorBacktracking\ndataType: pageLoadAndRoute\npageLoadedPath: "+t.path+"\nopenType: "+t.openType,this.publishNormalLog({msg:t,level:G.INFO})},publishNormalLog:function(t){this.$walk((function(e){e.normalLogPipeline(t)}))},reportSetDataTiming:function(t){var e,n,r,i,o,a,s,u,c=this,l=t.config.setDataReportConfig;!0!==(l=void 0===l?{}:l).disabled&&(e=l.timeThreshold,n=!1!==l.withDataPaths,r=e&&0<+e?+e:30,i=R([A(t,10),function(e){e=e.map((function(t){return{type:z.SET_DATA,component:t.from,duration:t.duration,fields:t.dataPaths&&t.dataPaths.length?t.dataPaths.sort().join(";"):void 0,size:t.size}})),t.send({url:t.config.setDataReportUrl+"?payload="+encodeURIComponent(JSON.stringify({miniProgramData:e})),type:z.SET_DATA,log:e})}]),o=Page,a=Component,s=function(t,e){var o,a,s=e.updateStartTimestamp,u=e.updateEndTimestamp;e=void 0===(e=e.dataPaths)?[]:e,u-=s,isNaN(u)||u<r||(s={from:t.is,duration:u},n&&0<e.length&&Object.assign(s,{dataPaths:e.slice(0,30),size:(u=e,a=0,null!=(o=t)&&o.data?(u.forEach((function(t){for(var e=o.data[t[0]],n=1,r=t.length;n<r;n++)e[t[n]]&&(e=e[t[n]]);var i="";try{i=JSON.stringify(e)}catch(t){i=""}a+=2*(void 0===i?"":i).replace(/[\u4e00-\u9fa5]/g,"aa").length})),a=Math.min(a,10485760)):a)}),i(s))},u=function(t){var e="infoType: behaviorBacktracking\ndataType: tapEvent"+Object.keys(t[0]).reduce((function(e,n){var r="";try{r=n+": "+JSON.stringify(t[0][n])}catch(e){r=""}return e+"\n"+r}),"");c.publishNormalLog({msg:e,level:G.INFO})},Page=function(t){var e=t.onReady;return t.onReady=function(){var t=this;return"function"==typeof this.setUpdatePerformanceListener&&this.setUpdatePerformanceListener({withDataPaths:n},(function(e){s(t,e)})),null==e?void 0:e.call(this)},Object.keys(t).forEach((function(e){var n;"function"!=typeof t[e]||Ht.includes(e)||(n=t[e],t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null!=t&&t[0]&&"tap"===t[0].type&&u(t),null==n?void 0:n.apply(this,t)})})),o(t)},Component=function(t){t.lifetimes&&t.lifetimes.attached?(e=t.lifetimes.attached,t.lifetimes.attached=function(){var t=this;return"function"==typeof this.setUpdatePerformanceListener&&this.setUpdatePerformanceListener({withDataPaths:n},(function(e){s(t,e)})),null==e?void 0:e.call(this)}):(r=t.attached,t.attached=function(){var t=this;return"function"==typeof this.setUpdatePerformanceListener&&this.setUpdatePerformanceListener({withDataPaths:n},(function(e){s(t,e)})),null==r?void 0:r.call(this)});var e,r,i=t.methods;return i&&"[object Object]"===Object.prototype.toString.call(i)&&Object.keys(i).forEach((function(t){var e;"function"==typeof i[t]&&(e=i[t],i[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return null!=t&&t[0]&&"tap"===t[0].type&&u(t),null==e?void 0:e.apply(this,t)})})),a(t)})}});function Wt(t){return(t=Bt.call(this,t)||this).taskHack=new qt,t}function Vt(){this.onErrors=[],this.sends=[]}return ht=new ht({name:"reportLoadPackageSpeed",isLoaded:!1,onNewAegis:function(t){this.isLoaded||(this.isLoaded=!0,this.start(t))},start:function(){var t,e=this;dt.getPerformance&&"function"==typeof(t=dt.getPerformance()).createObserver&&t.createObserver((function(t){null!=(t=t.getEntries())&&t.forEach((function(t){"number"!=typeof t.duration||t.duration<=0||e.publishPackageLog(t)}))})).observe({entryTypes:["loadPackage"]})},generateLog:function(t){return[{type:z.LOAD_PACKAGE,packageName:t.packageName,size:Math.round(100*t.packageSize)/100,duration:Math.round(100*t.duration)/100}]},publishPackageLog:function(t){var e=this;this.$walk((function(n){var r=e.generateLog(t);n.send({url:n.config.setDataReportUrl+"?payload="+encodeURIComponent(JSON.stringify({miniProgramData:r})),type:z.LOAD_PACKAGE,log:r})}))}}),pt.use(_t),pt.use(Mt),pt.use(mt),pt.use(Ft),pt.use(zt),pt.use(ht),pt.use(vt),pt}()},"03dd":function(t,e,n){var r=n("91e9")(Object.keys,Object);t.exports=r},"0443":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.weekSignlist=e.userPointsInfo=e.taskList=e.taskChallengeList=e.taskAskforPoints=e.taskAskfor=e.everySignDay=e.doTask=void 0,e.weekSignlist="new/sign_in/date_list",e.everySignDay="new/sign_in/everySignDay",e.taskList="new/task/task_list_v2",e.taskChallengeList="new/task/challenge_task",e.taskAskfor="new/task/get_challenge_task",e.taskAskforPoints="new/task/get_challenge_task_reward",e.doTask="common/activity_tasks/do_task",e.userPointsInfo="new/points/user_points/info"},"0644":function(t,e,n){var r=n("3818");t.exports=function(t){return r(t,5)}},"07a4":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n("66fd")),i=l(n("2f62")),o=n("b775"),a=l(n("6e23")),s=l(n("f2ed")),u=l(n("4357")),c=l(n("53d1"));function l(t){return t&&t.__esModule?t:{default:t}}r.default.use(i.default),e.default=new i.default.Store({modules:{shopModules:a.default,orderModules:s.default,cardActivity:u.default,boxliteModules:c.default},state:{shopType:2,storeSendType:0,isLoadedStorePageList:[],fromHomeStatus:!1,specialAddress:null,specialStore:null,storeInfo:{},abTestValue:0,abTestFollow:"",abTestBoxgoods:"",hpShares:null,globalConfigMap:null,publicArticle:"",svipUserInfo:null,isSubscribe:!1,shipping_code:"",is_login:!1,globalUser:null,popToken:null,scene:"",union_id:"",old_box:!1,login_done:!1,popmart_h5_url:o.isProd?"https://popmartvip-h5.paquapp.com":"https://popmartvip-h5-test.paquapp.com",userLocation:!1,pendant:"",showBirthEntry:!1,openImg:""},getters:{},mutations:{changeStoreShopType:function(t,e){t.shopType=e},changeLoadedStorePageList:function(t,e){t.isLoadedStorePageList.includes(e)||t.isLoadedStorePageList.push(e)},changeStoreSendType:function(t,e){t.storeSendType=e},changeStoreHomeStatus:function(t,e){t.fromHomeStatus=e},changeSpecialAddress:function(t,e){t.specialAddress=e||null},changeSpecialStore:function(t,e){t.specialStore=e||null},changeHpShares:function(t,e){t.hpShares=e||null},changeGlobalShareInfo:function(t,e){t.globalConfigMap=e||null},changePublicArticle:function(t,e){t.publicArticle=e||""},changeSvipUserInfo:function(t,e){t.svipUserInfo=e||""},changeIsSubscribe:function(t,e){t.isSubscribe=e||!1},changeShippingCode:function(t,e){t.shipping_code=e||""},changeIsLogin:function(t,e){t.is_login=e||!1},changeGlobalUser:function(t,e){t.globalUser=e||null},changePopToken:function(t,e){t.popToken=e||null},changeScene:function(t,e){t.scene=e||""},changeUnionid:function(t,e){t.union_id=e||""},changeOldBox:function(t,e){t.old_box=e||""},changeLoginDone:function(t,e){t.login_done=e||""},changeStoreInfo:function(t,e){t.storeInfo=e||{}},changeUserLocation:function(t,e){t.userLocation=e||!1},changePendant:function(t,e){t.pendant=e||""},changeShowBirthEntry:function(t,e){t.showBirthEntry=e||!1},changeOpenImg:function(t,e){t.openImg=e||""}},actions:{changeStoreShopType:function(t,e){(0,t.commit)("changeStoreShopType",Number(e))},changeStoreSendType:function(t,e){(0,t.commit)("changeStoreSendType",e)},changeStoreHomeStatus:function(t,e){(0,t.commit)("changeStoreHomeStatus",e)},changeSpecialAddress:function(t,e){(0,t.commit)("changeSpecialAddress",e)},changeSpecialStore:function(t,e){(0,t.commit)("changeSpecialStore",e)},changeLoadedStorePageList:function(t,e){(0,t.commit)("changeLoadedStorePageList",e)},changeHpShares:function(t,e){(0,t.commit)("changeHpShares",e)},changeGlobalShareInfo:function(t,e){(0,t.commit)("changeGlobalShareInfo",e)},changePublicArticle:function(t,e){(0,t.commit)("changePublicArticle",e)},changeSvipUserInfo:function(t,e){(0,t.commit)("changeSvipUserInfo",e)},changeIsSubscribe:function(t,e){(0,t.commit)("changeIsSubscribe",e)},changeShippingCode:function(t,e){(0,t.commit)("changeShippingCode",e)},changeIsLogin:function(t,e){(0,t.commit)("changeIsLogin",e)},changeGlobalUser:function(t,e){(0,t.commit)("changeGlobalUser",e)},changePopToken:function(t,e){(0,t.commit)("changePopToken",e)},changeScene:function(t,e){(0,t.commit)("changeScene",e)},changeUnionid:function(t,e){(0,t.commit)("changeUnionid",e)},changeOldBox:function(t,e){(0,t.commit)("changeOldBox",e)},changeLoginDone:function(t,e){(0,t.commit)("changeLoginDone",e)},changeStoreInfo:function(t,e){(0,t.commit)("changeStoreInfo",e)},changeUserLocation:function(t,e){(0,t.commit)("changeUserLocation",e)},changePendant:function(t,e){(0,t.commit)("changePendant",e)},changeShowBirthEntry:function(t,e){(0,t.commit)("changeShowBirthEntry",e)},changeOpenImg:function(t,e){(0,t.commit)("changeOpenImg",e)}}})},"07ec":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.cardConfig=void 0;var r=n("b775");e.cardConfig=r.isProd?"cardActivity/card_activity.json":"cardActivity/card_activity_test.json"},"0b07":function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},"0d24":function(t,e){t.exports=function(){return!1}},"0f0f":function(t,e,n){var r=n("8eeb"),i=n("9934");t.exports=function(t,e){return t&&r(e,i(e),t)}},"100e":function(t,e,n){var r=n("cd9d"),i=n("2286"),o=n("c1c9");t.exports=function(t,e){return o(i(t,e,r),t+"")}},1041:function(t,e,n){var r=n("8eeb"),i=n("a029");t.exports=function(t,e){return r(t,i(t),e)}},"126d":function(t,e,n){var r=n("6da8"),i=n("aaec"),o=n("d094");t.exports=function(t){return i(t)?o(t):r(t)}},1304:function(t,e){t.exports=function(t){return t}},1310:function(t,e){t.exports=function(t){return null!=t&&"object"==_typeof2(t)}},"131c":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("2934"),i=n("8976"),o=n("6fca"),a=n("f80d"),s=n("9a9d"),u=function(t){return(0,r.promiseApi)(o.boxGoodsList,t,"GET")};e.default={goGetBoxAuth:function(t){return(0,r.promiseApi)(s.boxAuth,t,"GET")},goGetBoxGoodsList:u,goGetBoxCouponGoodsList:function(t){return(0,r.promiseApi)(o.boxCouponGoodsList,t,"GET")},goGetBoxCouponList:function(t){return(0,r.promiseApi)(i.boxCouponList,t,"GET")},goReceivePlayerCoupon:function(t){return(0,r.promiseApi)(i.receivePlayerCoupon,t,"POST")},goReceiveSurprisePackage:function(t){return(0,r.promiseApi)(i.receiveSurprisePackage,t,"POST")},goGetCanUsePointList:function(t){return(0,r.promiseApi)(i.canUsePointList,t,"POST")},goGetAllOrderList:function(t){return(0,r.promiseApi)(a.allOrderList,t,"GET")},goGetWaitReceiveList:function(t){return(0,r.promiseApi)(a.waitReceiveList,t,"GET")},goGetFinishOrderList:function(t){return(0,r.promiseApi)(a.finishOrderList,t,"GET")},goDoCancelOrder:function(t){return(0,r.promiseApi)(a.doCancelOrder,t,"GET")},goDoFinishOrder:function(t){return(0,r.promiseApi)(a.doFinishOrder,t,"POST")},goGetOrderDetailByOrderNo:function(t){return(0,r.promiseApi)(a.orderDetailByOrderNo,t,"GET")},goGetExpressInfo:function(t){return(0,r.promiseApi)(a.expressInfo,t,"GET")},goGetWaitPayByOrderNo:function(t){return(0,r.promiseApi)(a.getWaitPayByOrderNo,t,"GET")},goGetToyListFromOrder:function(t){return(0,r.promiseApi)(a.toyListFromOrder,t,"GET")},getGoodsInfoById:function(t){return(0,r.promiseApi)(o.goodsInfoById,t,"GET",!0)},getSeriesInfoById:function(t){return(0,r.promiseApi)(o.seriesInfoById,t,"GET",!0)},getNewBoxByExtractWithoutLogin:function(t){return(0,r.promiseApi)(o.newBoxByExtractNF,t,"GET",!0)},getNewBoxByExtract:function(t){return(0,r.promiseApi)(o.newBoxByExtract,t,"GET",!0)},getBuyerCount:function(t){return(0,r.promiseApi)(a.boxCount,t,"GET",!0)},getCartList:function(t){return(0,r.promiseApi)(a.boxCartList,t,"GET")},getCartPayList:function(t){return(0,r.promiseApi)(a.boxCartPayList,t,"POST")},getAllTips:function(t){return(0,r.promiseApi)(o.allTips,t,"GET",!0)},addAist:function(t){return(0,r.promiseApi)(o.addAistApi,t,"POST")},deleteAist:function(t){return(0,r.promiseApi)(o.deleteAistApi,t,"POST")},refreshBox:function(t){return(0,r.promiseApi)(o.refreshBoxApi,t,"GET",!0)},getTips:function(t){return(0,r.promiseApi)(o.tipsApi,t,"GET")},getHomeCanUseCouponList:function(t){return(0,r.promiseApi)(i.homeCanUseCouponList,t,"POST",!0)},calPrice:function(t){return(0,r.promiseApi)(a.priceApi,t,"POST")},getLockedOrder:function(t){return(0,r.promiseApi)(a.lockedOrderApi,t,"GET")},getLastPayByOrderNo:function(t){return(0,r.promiseApi)(a.lastPayByOrderNoApi,t,"GET")},closeOrder:function(t){return(0,r.promiseApi)(a.closeLiteOrderApi,t,"GET")},getToyListFromOrder:function(t){return(0,r.promiseApi)(a.toyListByOrderApi,t,"GET")},getSubscribeStatus:function(t){return(0,r.promiseApi)(s.hasSubscribe,t,"GET",!0)},subscribeInfo:function(t){return(0,r.promiseApi)(s.subScribe,t,"POST")},getGuideStep:function(t,e){return(0,r.promiseApi)(s.guideStepApi,t,"GET",!0,e)},setGuideStep:function(t,e){return(0,r.promiseApi)(s.setGuideStepApi,t,"POST",!0,e)},updateReddot:function(t){return(0,r.promiseApi)(s.updateReddotApi,t,"POST",!0)}}},"13ea":function(t,e,n){var r=n("03dd"),i=n("42a2"),o=n("d370"),a=n("6747"),s=n("30c9"),u=n("0d24"),c=n("eac5"),l=n("73ac"),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},1451:function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("d9bb"),i=n("d7c7"),o=c(n("9417")),a=n("60fe"),s=c(n("9d1f")),u=c(n("0330"));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function f(){f=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:O(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",g="executing",v="completed",y={};function m(){}function _(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==l(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function O(e,n,r){var i=d;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?v:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(l(e)+" is not iterable")}return _.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},T(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(p(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){g(o,r,i,a,s,"next",t)}function s(t){g(o,r,i,a,s,"throw",t)}a(void 0)}))}}var y=r.isProd?"a0c89d6ac-wxe17e6efa4c656fcd.tj.wxgateway.com":"a0c87febb-wxe17e6efa4c656fcd.tj.wxgateway.com",m=wx.cloud.services.Gateway({domain:y});function _(){return(_=v(f().mark((function e(n){var c,l,p,d,g,v,y,m,_,b;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==n.url.indexOf(r.newServerUrl)||-1!==n.url.indexOf(r.boxliteUrl)){e.next=2;break}return e.abrupt("return",t.request(n));case 2:l=getApp(),p=!!r.isProd&&(null==l||null===(c=l.globalData)||void 0===c?void 0:c.tencentHostControl),d=n.url,g=d.split("/").splice(0,3),v=g[0]+"//"+g[1]+g[2],y=d.split(v)[1],m={"X-WX-REGION":"ap-shanghai","X-WX-GATEWAY-ID":i.gateWayId,HOST:i.gateHost,"x-wx-include-credentials":"openid, unionid"},_=n.data?h({},n.data):{},n.method&&"GET"!==n.method||Object.keys(n.data).forEach((function(t){_[t]=encodeURIComponent("string"==typeof n.data[t]?n.data[t]:JSON.stringify(n.data[t]))})),p?(b={data:n.method&&"GET"!==n.method?n.data:_,path:y,method:n.method,header:h(h({},n.header),m)},wx.cloud.gateway.call(b).then((function(t){n.success(t)})).catch((function(e){var i;-1!=JSON.stringify(e).indexOf("errCode")&&([102020,102021].includes(e.errCode)?y.includes("user/login/wechat_mini")?t.redirectTo({url:"/packages/service_lineup/pages/service_lineup/network_busy"}):t.showToast({title:"太火爆了，晚点再来看看吧",icon:"none"}):t.showToast({title:"太火爆了，请稍后重试",icon:"none"}),s.default.event("gateWayError",{errCode:e.errCode}),o.default.report({msg:"网关错误 ".concat(a.errorsCodeListObj[e.errCode]||"未知"," ").concat(e.errCode),level:null===u.default||void 0===u.default||null===(i=u.default.logType)||void 0===i?void 0:i.RET_ERROR,ext1:e.origin,ext2:JSON.stringify(n)+" "+JSON.stringify(e)}),r.isProd||t.showToast({title:">>>>>>>>> 网关层失败url:"+y,duration:2e3,icon:"none"}))}))):t.request(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}wx.cloud.gateway=m,e.default=function(t){return _.apply(this,arguments)}}).call(this,n("543d").default)},"14d9":function(t,e,n){var r=n("c9b7");function i(t){return(i="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports={rollingService:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,s=[],u=JSON.parse(JSON.stringify(t)),c=e.points,l=e.pop_score,f=void 0===l?1:l,p=e.benefit_level,h=e.user_level;if(s=i.map((function(t){return a(a({},t),{},{config:{type:t.type,reLaunch:1==t.type,appId:t.app_id,finderUserName:t.video_id,feedId:t.path,page:t.path}})})),o>0){var d=JSON.parse((0,r.stringReplace)(JSON.stringify(u.coupon),o>99?"99+":o));s.push(d)}if(c>0){var g=JSON.parse((0,r.stringReplace)(JSON.stringify(u.points),c>99999?"99999+":c));s.push(g)}if(4!=h){var v=p!=h?0:1,y=p+v,m="";2==y&&(m="进阶玩家"),3==y&&(m="头号玩家"),4==y&&(m="收藏大师");var _=n[y]-f,b=v?"升级":"保级",w=JSON.parse((0,r.stringReplace)(JSON.stringify(u.level_new),_,b,m));s.push(w)}return s},bannerService:function(t){if(t)return t.map((function(t){var e=t.jump_type||t.type,n=t.path||t.jump_address||t.corridor_path||"",r=t.video_id||"",i=t.title_content||t.title||t.name,o=t.id||t.id_;return a(a({},t),{},{id:o,title:i,config:{type:e,page:n,finderUserName:r,reLaunch:1==e,appId:t.app_id,feedId:n}})}))},livesTrackService:function(t,e){var n=e.track,i=void 0===n?null:n,o=e.track_show,s=void 0===o?null:o;return t.map((function(t){var e=t.name,n=t.id_;return a(a({},t),{},{track:i?JSON.parse((0,r.stringReplace)(JSON.stringify(i),e,n)):null,track_show:s?JSON.parse((0,r.stringReplace)(JSON.stringify(s),e,n)):null})}))}}},"18e0":function(t,e,n){var r=n("501e");t.exports=function(t){return r(t)&&t!=+t}},"1a24":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("58b5")),i=o(n("1a87"));function o(t){return t&&t.__esModule?t:{default:t}}var a,s,u,c=["hover-class","hover-start-time","space","src"],l=["color","font-size","font-weight","font-family","backgroundColor","backgroundImage","border","border-radius","box-sizing","line-height","margin-top"],f=0,p=0,h=function(e,n){return new Promise((function(r,i){try{(n?n.createSelectorQuery():t.createSelectorQuery()).selectAll(e).fields({dataset:!0,size:!0,rect:!0,properties:c,computedStyle:l},(function(t){if(0===t.length)throw new Error("没有获取到".concat(e,"元素信息"));r(t)})).exec()}catch(t){i(t)}}))},d=function(t){return t.map((function(t){return r.default.isBackgroundElement(t)?(t.type="background",t.rank=a.background):r.default.isTopElement(t)?(t.type="top",t.rank=a.topZindex):r.default.isTopTextElement(t)?(t.type="top",t.rank=a.topTextZindex):r.default.isTextElement(t)?(t.type="text",t.rank=a.text):r.default.isImageElement(t)?(t.type="image",t.rank=a.image):(t.type="viewBackground",t.rank=a.viewBackground),t}))},g=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;void 0===o&&(o=Promise.resolve());var a=r,c=o.then((function(){return n[a]?Promise.all(i.default.drawElements({context:e,posterTop:f,posterLeft:p,storeItems:n[a],basePixelRatio:s,baseScreenWidth:u})):Promise.resolve()}));return r>=Object.keys(n).length?c:t(e,n,r+1,c)},v=function(e,n,i,o){e.clearRect(0,0,i[0].width,i[0].height);var a=n||"#fff";e.fillStyle=a,e.fillRect(0,0,i[0].width,i[0].height),e.draw(),e.setTextBaseline("top");var s={};return function(t){return t.sort((function(t,e){return t.rank<e.rank?-1:t.rank>e.rank?1:0}))}(d(o)).forEach((function(t){s[t.rank]||(s[t.rank]=[]),(r.default.isBackgroundElement(t)||r.default.isTopElement(t)||r.default.isTopTextElement(t)||r.default.isViewBacElement(t)||r.default.isImageElement(t)||r.default.isTextElement(t))&&s[t.rank].push(t)})),g(e,s).then((function(){return new Promise((function(n,r){e.draw(!0,(function(e){t.getSystemInfoSync().model.indexOf("iPhone")>-1?n():setTimeout((function(){n()}),500)}))}))}))},y=function(e){var n=t.getSystemInfoSync(),i={screenWidth:n.screenWidth,pixelRatio:n.pixelRatio,views:[]};return setTimeout((function(){e.forEach((function(t){r.default.isBackgroundElement(t)?i.views.push({backgroundImage:t.backgroundImage,"border-radius":t["border-radius"],dataset:t.dataset,src:t.src,border:t.border}):r.default.isTopElement(t)?i.views.push({border:t.border,"border-radius":t["border-radius"],src:t.src,dataset:t.dataset}):r.default.isTopTextElement(t)?i.views.push({color:t.color,dataset:t.dataset,"font-family":t["font-family"],"font-size":t["font-size"],"font-weight":t["font-weight"],"line-height":t["line-height"],border:t.border}):r.default.isViewBacElement(t)?i.views.push({backgroundColor:t.backgroundColor,"border-radius":t["border-radius"],dataset:t.dataset,border:t.border}):r.default.isImageElement(t)?i.views.push({border:t.border,"border-radius":t["border-radius"],src:t.src,dataset:t.dataset}):r.default.isTextElement(t)?i.views.push({color:t.color,dataset:t.dataset,"font-family":t["font-family"],"font-size":t["font-size"],"font-weight":t["font-weight"],"line-height":t["line-height"],border:t.border}):i.views.push({border:t.border,dataset:t.dataset})}))}),0),i};e.default=function(){var t=arguments.length<=0?void 0:arguments[0],e=t.context,n=t.canvasDefaultColor,r=t.drawWrapperName,i=t.drawClassName,o=t.drawRank,s=t.alipayExportConsole,u=(t.alipayImportData,t.domProp),c=t.poster,l=t.domWrapper;a=o;var d=0===c.length?h(r,u):c,g=0===l.length?h(i,u):l;return Promise.all([d,g]).then((function(t){return f=t[0][0].top,p=t[0][0].left,s&&y(t[1]),v(e,n,t[0],t[1])}))}}).call(this,n("543d").default)},"1a87":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("58b5"));var i=function(t,e,n,r){o(e).isCircle?a(t,e,n,r):s(t,e,n,r)},o=function(t){var e=t.width,n=t.height,r=t["border-radius"],i=parseInt(r,10);if(-1!==r.indexOf("%")){var o=parseInt(i/100*e,10),a=parseInt(i/100*n,10);return{isCircle:o===a,borderRadius:o,borderRadiusX:o,borderRadiusY:a}}return{isCircle:!0,borderRadius:i}},a=function(t,e,n,r){var i=u(e,n,r),a=i.width,s=i.height,c=i.left,l=i.top,f=i.backgroundColor,p=i.border,h=i.dataset,d=o(e).borderRadius,g=y(p),v=g.borderWidth,m=g.borderColor;if(h.linear){var _=t.createLinearGradient(0,0,250,0);_.addColorStop(0,"rgba(247,247,247,1)"),_.addColorStop(1,"rgba(255,255,255,1)"),t.fillStyle=_,t.fillRect(c,l,a,s)}else t.beginPath(),t.moveTo(c+d,l),t.lineTo(c+a-d,l),t.arcTo(c+a,l,c+a,l+d,d),t.lineTo(c+a,l+s-d),t.arcTo(c+a,l+s,c+a-d,l+s,d),t.lineTo(c+d,l+s),t.arcTo(c,l+s,c,l+s-d,d),t.lineTo(c,l+d),t.arcTo(c,l,c+d,l,d),t.closePath(),f&&(t.fillStyle=f,t.fill()),m&&v&&(t.setLineWidth(v),t.setStrokeStyle(m),t.stroke())},s=function(t,e){var n=e.width,r=e.height,i=e.left,a=e.top,s=e.backgroundColor,u=e.border,c=y(u),l=c.borderWidth,f=c.borderColor,p=o(e),h=p.borderRadiusX,d=p.borderRadiusY;t.beginPath(),t.moveTo(i+h,a),t.lineTo(i+n-h,a),t.quadraticCurveTo(i+n,a,i+n,a+d),t.lineTo(i+n,a+r-d),t.quadraticCurveTo(i+n,a+r,i+n-h,a+r),t.lineTo(i+h,a+r),t.quadraticCurveTo(i,a+r,i,a+r-d),t.lineTo(i,a+d),t.quadraticCurveTo(i,a,i+h,a),t.closePath(),s&&(t.fillStyle=s,t.fill()),f&&l&&(t.setLineWidth(l),t.setStrokeStyle(f),t.stroke())},u=function(t,e,n){return t.left-=n,t.top-=e,t},c=function(t){return"0px"!==t},l=function(t,e,n,r){var i;switch(e.border,e["border-radius"],function(t){var e=t["border-radius"];return(e?e.split(" "):[]).length>1?"noAllRadius":!c(e)||"50%"!==e&&t.width/2!==parseInt(e)?!c(e)||"50%"===e&&t.width/2===parseInt(e)?"noRadius":"allRadius":"allRadiusHalf"}(e)){case"noAllRadius":i=f(t,e,n,r);break;case"noRadius":i=g(t,e,n,r);break;case"allRadius":i=f(t,e,n,r);break;case"allRadiusHalf":i=d(t,e,n,r)}return i.then((function(){return Promise.resolve()}))},f=function(t,e,n,r){var i=e.src,o=e.width,a=e.height,s=e.left,u=e.top;return e.dataset,v(i).then((function(n){var r=e["border-radius"],c=n.width,l=n.height,f=i.match(/(http|https):\/\/([\w.]+\/?)\S*/)?n.path:i,d=r?r.split(" "):[],g=[];if(t.save(),1===d.length){var v=parseInt(r)/2;p(t,s,u,o,a,v)}else d.forEach((function(t){g.push(parseInt(t))})),h(t,s,u,o,a,g);t.drawImage(f,0,0,c,l,s,u,o,a),t.restore()}))},p=function(t,e,n,r,i,o){r<2*o&&(o=r/2),i<2*o&&(o=i/2),t.beginPath(),t.fillStyle="red",t.arc(e+o,n+o,o,Math.PI,1.5*Math.PI),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.lineTo(e+r,n+o),t.arc(e+r-o,n+o,o,1.5*Math.PI,2*Math.PI),t.lineTo(e+r,n+i-o),t.lineTo(e+r-o,n+i),t.arc(e+r-o,n+i-o,o,0,.5*Math.PI),t.lineTo(e+o,n+i),t.lineTo(e,n+i-o),t.arc(e+o,n+i-o,o,.5*Math.PI,Math.PI),t.lineTo(e,n+o),t.lineTo(e+o,n),t.fill(),t.closePath(),t.clip()},h=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o[1],n),t.lineTo(e+r-o[1],n),t.arcTo(e+r,n,e+r,n+o[1],o[1]),t.lineTo(e+r,n+i-o[2]),t.arcTo(e+r,n+i,e+r-o[2],n+i,o[2]),t.lineTo(e+o[3],n+i),t.arcTo(e,n+i,e,n+i-o[3],o[3]),t.lineTo(e,n+o[0]),t.arcTo(e,n,e+o[0],n,o[0]),t.closePath(),t.clip()},d=function(t,e,n,r){var i=e.src,o=e.width,a=(e.height,e.left,e.top,e.dataset),s=e.border,u=_(e,n,r),c=u.coordX,l=u.coordY,f=y(s),p=(f.borderWidth,f.borderColor);return v(i).then((function(n){var r=n.width,s=n.height;a.border&&(t.beginPath(),t.fillStyle=p,t.arc(c,l,o/2,0,2*Math.PI,!1),t.closePath(),t.fill());var u=m(e,r,s),f=u.left,h=u.top,d=u.realWidth,g=u.realHeight;t.save(),t.beginPath(),t.arc(c,l,d/2,0,2*Math.PI,!1),t.closePath(),t.clip();var v=i.match(/(http|https):\/\/([\w.]+\/?)\S*/)?n.path:i;t.drawImage(v,0,0,r,s,f,h,d,g),t.restore()}))},g=function(e,n,r,i){var o=u(n,r,i),a=o.src,s=o.width,c=o.height,l=o.left,f=o.top,p=o.dataset,h=n.backgroundImage?n.backgroundImage:"",d=h.substring(4,h.length-1),g=a||d.replace(/\"/g,"");if(/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&‘,()*+;=\-._~:@\/?%\s]*?)\s*$/i.test(g))throw new Error("背景图的background：url不支持本地地址，请更换为网络资源");return v(g).then((function(n){var r=n.width,i=n.height,o=n.path,a=p.rotate,u=0,h=0,d=0,v=0,y=g.match(/(http|https):\/\/([\w.]+\/?)\S*/)?o:g;if(a){e.save();var m=t.getSystemInfoSync(),_=m.windowWidth,b=(m.pixelRatio,2*_/a.deviceBase);u=Math.floor(b*a.width/2),h=Math.floor(b*a.height/2),d=Math.floor(b*a.top/2),v=Math.floor(b*a.left/2),e.translate(v+.5*u,d+.5*h),e.rotate(a.deg*Math.PI/180),e.drawImage(y,0,0,r,i,-.5*u,-.5*h,u,h),e.restore()}else u=s,h=c,d=f,v=l,e.save(),e.beginPath(),e.rect(l,f,s,c),e.closePath(),e.clip(),e.drawImage(y,0,0,r,i,v,d,u,h),e.restore()}))},v=function(e){return new Promise((function(n,r){t.getImageInfo({src:e,success:function(t){n(t)}})}))},y=function(t){var e,n,r=0;return function(t){return"0px none rgb(0, 0, 0)"!==t}(t)&&t&&(r=parseInt(t.split(/\s/)[0],10),n=t.split(/\s/)[1],e=t.match(/(rgb).*/gi)[0]),{borderWidth:r,borderStyle:n,borderColor:e}},m=function(t,e,n){var r=t.border,i=function(t,e){return{imgWidth:t.width-2*e,imgHeight:t.height-2*e,imgLeft:t.left+e,imgTop:t.top+e}}(t,y(r).borderWidth),o=i.imgWidth,a=i.imgHeight,s=e/n,u=s>0?o:a*s,c=s>0?o*(1/s):a;return{realWidth:u,realHeight:c,left:i.imgLeft+(s>0?0:(o-u)/2),top:i.imgTop+(s>0?(a-c)/2:0)}},_=function(t,e,n){var r=u(t,e,n),i=r.width,o=r.height;return{coordX:i/2+r.left,coordY:o/2+r.top}},b=function(t,e,n,r){var i=u(e,n,r),o=i.dataset,a=o.text,s=o.align,c=o.linefeed,l=o.drawnum,f=i.left,p=(i.top,i.color),h=i.width,d=i["font-weight"],g=i["font-size"],v=i["font-family"];t.save();var y=Array.isArray(a)?a[0]:a,m=d>600||"bold"===d?"bold":"normal",_=Math.round(parseFloat(g));t.font="normal normal ".concat(m," ").concat(_,"px ").concat(v,",sans-serif");var b=s||"left";t.textAlign=b,t.fillStyle=p;var x=f;"center"===s&&(x=f+h/2),"right"===s&&(x=f+h);var k=y;if(c&&c>0){k="";for(var T=w(t,y,h),P=parseInt(c),O=0;O<P;O++)k+=T[O];k=T.length>P?k.substring(0,k.length-2)+"...":k}l&&l>0&&(k=y.substring(0,parseInt(l)),k=y.length>l?k+"...":k),S(t,e,k,x,b),t.restore()},w=function(t,e,n){for(var r=[],i=0;-1!==(i=x(t,e,n));)r.push(e.substr(0,i)),e=e.substr(i);return e&&r.push(e),r},x=function(t,e,n){for(var r=0,i=e.length-1;r<=i;){var o=Math.floor((r+i)/2),a=t.measureText(e.substr(0,o)).width,s=t.measureText(e.substr(0,o+1)).width;if(a<=n&&s>n)return o;a<n?r=o+1:i=o-1}return-1},S=function(t,e,n,r,i){for(var o=e["font-size"],a=e.width,s=(e.left,e.top),u=e["line-height"],c="normal"===u?o:u,l=c=parseInt(c,10),f=w(t,n,a),p=parseInt(o),h=0;h<f.length;h++){var d=0===h?s+(l-p)/2:s+h*l;t.textAlign=i,t.fillText(f[h],r,d)}};e.default={drawElements:function(){var e=arguments.length<=0?void 0:arguments[0],n=e.context,o=e.posterTop,a=e.posterLeft,s=e.storeItems,u=(e.basePixelRatio,e.baseScreenWidth);t.getSystemInfoSync(),u||375;var c=[];return s.forEach((function(t){if(r.default.isBackgroundElement(t)){var e=l(n,t,o,a);c.push(e)}else if(r.default.isViewBacElement(t)){var s=i(n,t,o,a);c.push(s)}else if(r.default.isTextElement(t)){var u=b(n,t,o,a);c.push(u)}else if(r.default.isImageElement(t)){var f=l(n,t,o,a);c.push(f)}else if(r.default.isTopElement(t)){var p=l(n,t,o,a);c.push(p)}else{var h=i(n,t,o,a);c.push(h)}})),c}}}).call(this,n("543d").default)},"1a8c":function(t,e){t.exports=function(t){var e=_typeof2(t);return null!=t&&("object"==e||"function"==e)}},"1bac":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"1d92":function(t,e,n){var r=n("e0ef");t.exports=function(t){return r(2,t)}},"1d9c":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.publicConfig=void 0;var r=n("b775");e.publicConfig=r.isProd?"public/globalConfig_pro.json":"public/globalConfig_test.json"},"1fb5":function(t,e,n){e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[l++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(f(t,s,s+a>u?u:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function f(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(l(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"20ea":function(t,e,n){function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){var e,n=[],i=[],o=r(t.substring(0,t.length-1).split("%,"));try{for(o.s();!(e=o.n()).done;){var a=e.value;n.push(a.substring(0,a.lastIndexOf(" ")).trim()),i.push(a.substring(a.lastIndexOf(" "),a.length)/100)}}catch(t){o.e(t)}finally{o.f()}return{colors:n,percents:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.GD=void 0,e.GD={isGradient:function(t){return!(!t||!t.startsWith("linear")&&!t.startsWith("radial"))},doGradient:function(t,e,n,r){t.startsWith("linear")?function(t,e,n,r){for(var i=function(t,e,n){var r,i=t.match(/([-]?\d{1,3})deg/);switch(i&&i[1]?parseFloat(i[1]):0){case 0:r=[0,-n/2,0,n/2];break;case 90:r=[e/2,0,-e/2,0];break;case-90:r=[-e/2,0,e/2,0];break;case 180:r=[0,n/2,0,-n/2];break;case-180:r=[0,-n/2,0,n/2];break;default:var o=0,a=0,s=0,u=0;i[1]>0&&i[1]<90?(o=e/2-(e/2*Math.tan((90-i[1])*Math.PI*2/360)-n/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,u=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,a=-u):i[1]>-180&&i[1]<-90?(o=-e/2+(e/2*Math.tan((90-i[1])*Math.PI*2/360)-n/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,u=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,a=-u):i[1]>90&&i[1]<180?(o=e/2+(-e/2*Math.tan((90-i[1])*Math.PI*2/360)-n/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,u=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,a=-u):(o=-e/2-(-e/2*Math.tan((90-i[1])*Math.PI*2/360)-n/2)*Math.sin(2*(90-i[1])*Math.PI*2/360)/2,u=Math.tan((90-i[1])*Math.PI*2/360)*o,s=-o,a=-u),r=[o,a,s,u]}return r}(n,t,e),o=r.createLinearGradient(i[0],i[1],i[2],i[3]),s=n.match(/linear-gradient\((.+)\)/)[1],u=a(s.substring(s.indexOf(",")+1)),c=0;c<u.colors.length;c++)o.addColorStop(u.percents[c],u.colors[c]);r.setFillStyle(o)}(e,n,t,r):t.startsWith("radial")&&function(t,e,n,r){for(var i=a(n.match(/radial-gradient\((.+)\)/)[1]),o=r.createCircularGradient(0,0,t<e?e/2:t/2),s=0;s<i.colors.length;s++)o.addColorStop(i.percents[s],i.colors[s]);r.setFillStyle(o)}(e,n,t,r)}}},"20f1":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.wechatTemplateInfo=e.wechatSubscribe=e.subscribeRobotUrl=void 0,e.wechatSubscribe="common/wechat_message/user_subscribe",e.wechatTemplateInfo="common/wechat_message/template_info",e.subscribeRobotUrl="common/official_account/is_subscribed"},2286:function(t,e,n){var r=n("85e3"),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}},"242e":function(t,e,n){var r=n("72af"),i=n("ec69");t.exports=function(t,e){return t&&r(t,e,i)}},2474:function(t,e,n){var r=n("2b3e").Uint8Array;t.exports=r},"25c0":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.vipUpUrl=e.userRobotPopupAccessory=e.userBenefitsSubscribe=e.queryBenefitsSubscribe=e.popTaskReward=e.popTaskList=e.popScoreTotal=e.popScoreList=e.popBadges=e.popBadgeNum=e.popBadgeList=e.popBadgeHistoryList=e.popBadgeDetail=e.pointsMallTag=e.hideBenefitsHint=e.getSquirrelUser=e.getBenefitsHint=e.drawStagePrize=void 0,e.getSquirrelUser="new/squirrel_activity/get_squirrel_user",e.getBenefitsHint="new/member/get_benefits_hint",e.hideBenefitsHint="new/member/hide_benefits_hint",e.userBenefitsSubscribe="new/sg/wechat_message/multiple_subscribe_v2",e.queryBenefitsSubscribe="new/sg/wechat_message/user_subscribe_query_v2",e.popScoreTotal="new/pop_score/total",e.popScoreList="new/pop_score/list",e.popTaskList="new/pop_task_v2/list",e.popBadges="new/badge/show_badges",e.popBadgeNum="new/badge/nums",e.userRobotPopupAccessory="new/robot/popup_accessory",e.popBadgeList="new/badge/list",e.popBadgeHistoryList="new/badge/history",e.popBadgeDetail="new/badge/detail",e.popTaskReward="new/pop_task/reward",e.drawStagePrize="new/question_game/draw_stage_prize",e.pointsMallTag="new/points_store/goods_categories",e.vipUpUrl="new/member/upgrade_query"},2686:function(t,e){t.exports={onPageScroll:function(t){this.$children.length&&(this.$children.filter((function(t){return"pm-back-button"===t.components_name}))[0].pmBackButtonScrollTop=t.scrollTop)},beforeDestroy:function(){this.$children.length&&(this.$children.filter((function(t){return"pm-back-button"===t.components_name}))[0].pmBackButtonScrollTop=0)}}},2769:function(t,e,n){var r=n("5ca0")(n("51f5"));t.exports=r},"28c9":function(t,e){t.exports=function(){this.__data__=[],this.size=0}},2934:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.promiseApi=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("b775"));e.promiseApi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise((function(a,s){r.default.postApi(t,e,n,(function(t){!t.data&&!t.statusCode||1!=t.data.code&&200!=t.statusCode?s(t):a(t)}),i,o)}))}},"29d8":function(t,e,n){function r(t){return t&&"object"==_typeof2(t)&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n("6ca1")),o=r(n("0644")),a=r(n("020f")),s=r(n("6747")),u=r(n("13ea")),c=r(n("eaa6")),l=r(n("1a8c")),f=r(n("e2a0")),p=r(n("4cfe")),h=r(n("8730")),d=r(n("18e0")),g=r(n("4245")),v=r(n("1d92")),y=r(n("3eea")),m=r(n("2769")),_=r(n("9520")),b=r(n("501e")),w=r(n("66c7")),x=function(t){void 0===t&&(t={});var e=/(ID)/g;return i.decamelizeKeys(t,(function(t,n){return n(t.replace(e,(function(t,e){return"_"+e.toLowerCase()})))}))};function S(t){return void 0===t&&(t=0),new Promise((function(e){setTimeout(e,t)}))}var k=function(t){Array.isArray(t)&&t.forEach((function(t){}))},T=function(t){k(["BFF执行出错",t])},P=n("d439"),O=v((function(t){try{var e=(new Date).getTime().toString();return P(e+","+t)+","+e}catch(t){return""}})),A=new Map;function C(t){var e=t.errorMsg,n=t.field,r=t.defaultValue,i=void 0===r?"":r,o=t.validateFunc;return{get:function(t){var r=i,a=function(){return!t&&k(e)};try{r=A.get(n)}catch(t){return a(),r}return o&&o(r)&&!r?(a(),r):r},set:function(t){return!this.get(!0)&&(void 0===t||o&&!o(t)?(A.set(n,i),!1):(A.set(n,t),!0))}}}var E=C({errorMsg:"请先设置 config.request，示例：SDK.setConfig({ request: axios.request })",field:"REQUEST",validateFunc:_}),j=C({errorMsg:'请正确设置 config.gid，示例：SDK.setConfig({ gid: "xxx" })',field:"GID",validateFunc:f}),I=C({errorMsg:"请正确设置 config.paginationLimit，示例：SDK.setConfig({ paginationLimit: 20 })",field:"PAGINATION_LIMIT",defaultValue:R,validateFunc:b}),R=999;function D(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function L(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){D(o,r,i,a,s,"next",t)}function s(t){D(o,r,i,a,s,"throw",t)}a(void 0)}))}}function U(){return(U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function B(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var N,$=(function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=Object.create((e&&e.prototype instanceof f?e:f).prototype),o=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function f(){}function p(){}function h(){}var d={};s(d,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==e&&n.call(v,i)&&(d=v);var y=h.prototype=f.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==_typeof2(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,s(y,"constructor",h),s(h,"constructor",p),p.displayName=s(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(_.prototype),s(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(N={exports:{}}),N.exports);function q(t){return G.apply(this,arguments)}function G(){return(G=L($.mark((function t(e){var n,r,i;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Array.isArray(e)){t.next=2;break}return t.abrupt("return");case 2:if(!e.length){t.next=23;break}if(i=e.shift(),t.prev=4,!Array.isArray(i)){t.next=11;break}return t.next=8,Promise.all(i.map((function(t){return t(n)})));case 8:r=t.sent,t.next=14;break;case 11:return t.next=13,i(n);case 13:r=t.sent;case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(4),T(t.t0),t.abrupt("return",r);case 20:n=r,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}}),t,null,[[4,16]])})))).apply(this,arguments)}var F={deleted_at:{is_null:!0}},H="\nid\nkey: id\ncreatedAt: created_at\nupdatedAt: updated_at\n",z={tableName:"activities",fields:"\n  "+H+"\n  title\n  alias\n  type\n  state\n  enabled\n  type\n  enabled\n  start\n  begin\n  finish\n  end\n  description\n  icon\n  priority\n  ruleImage: rule_image\n  state\n  tags\n  title\n  banners\n  detailImages: detail_images\n  joinRewards: join_rewards\n  url\n  canExitStates: can_exit_states\n  canJoinStates: can_join_states\n  joinTicket: join_ticket\n  class\n  hookUrl: hook_url\n  extra\n  thumbnailImage: thumbnail_image\n  class\n  clientResources: client_resources"},W=function(){function t(t){this.__preApiPath="",this.__preApiPath=t.preApiPath}var e=t.prototype;return e.__request=function(t){var e=E.get(),n={headers:{}};return A.get("PROJECT_ID")&&(n.headers["X-Project-ID"]=A.get("PROJECT_ID")),A.get("CLIENT_KEY")&&(n.headers["X-Sign"]=O(A.get("CLIENT_KEY"))),e(g(n,t)).then((function(t){return"OK"===(null==t?void 0:t.code)?l(null==t?void 0:t.data)?(t.data.now=null==t?void 0:t.now,t.data):null==t?void 0:t.data:Promise.reject(t)})).catch((function(t){return Promise.reject(t)}))},e.__generatePath=function(t){return""+(A.get("ENDPOINT")||"")+this.__preApiPath+(t?"/"+t:"")},t}(),V=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(W),J=["id"],Y=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/activities"})||this).info=function(t){var n=t.id,r=M(t,J);return e.__request({url:e.__generatePath("info/"+n),params:r})},e}return B(e,t),e}(V),K=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/boosts"})||this).help=function(t){return e.__request({url:e.__generatePath("help"),method:"POST",data:{id:null==t?void 0:t.id,helpedCode:null==t?void 0:t.code}})},e}return B(e,t),e}(V),X=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/checkins"})||this).usersCheck=function(t){return e.__request({url:e.__generatePath("users/check/"+t.gid),method:"POST"})},e}return B(e,t),e}(V),Q=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/ecommerce/v1/ecommerce/configs"})||this).enabled=function(){return e.__request({url:e.__generatePath("enabled"),method:"GET"})},e}return B(e,t),e}(V),Z=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/ecommerce/v1/ecommerce/orders"})||this).ordersAsync=function(t){return e.__request({url:e.__generatePath("async"),method:"POST",data:t})},e.ordersAsyncStatus=function(){return e.__request({url:e.__generatePath("async/status"),method:"GET"})},e.dispatchSelect=function(t){return e.__request({url:e.__generatePath("dispatch/select"),method:"POST",data:t})},e}return B(e,t),e}(V),tt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/equity/v1/equity/exchange"})||this).exchange=function(t){return e.__request({url:e.__generatePath(),method:"POST",data:t})},e}return B(e,t),e}(V),et=function(t){var e=function(t){return function t(e){return a(e,(function(n,r){(p(n)||c(n)||d(n)||f(n)&&u(n)||l(n)&&u(t(n)))&&delete e[r]})),s(e)&&h(e,void 0),e}(o(t))}(t);return u(e)?"":function t(e){return"object"!=_typeof2(e)||Array.isArray(e)?"string"==typeof e&&/^(\$\w+)/.test(e)?e:JSON.stringify(e):"{"+Object.keys(e).map((function(n){return n+":"+t(e[n])})).join(",")+"}"}(e).replace(/^{(.*?)}$/g,"$1")};function nt(t,e){t||(t={});try{if(f(t)&&!/^{.+}$/.test(w(t)))return t;if(s(t))return t;if(l(t)){var n=x(g(e?{}:o(F),t));return et(Object.keys(n).length>1?{and:n}:n)}}catch(e){return t}return t}function rt(t){var e=t.tableName,n=t.fields,r=void 0===n?"":n;return"\n    data: "+(void 0===e?"":e)+"(\n      where: { "+nt(t.where,t.omitBaseWhere)+" }\n    ) {\n      "+r+"\n    }\n  "}function it(t){var e=t.tableName,n=void 0===e?"":e,r=t.uniqueKey,i=void 0===r?"id":r,o=t.omitBaseWhere,a=t.fields,s=void 0===a?"":a,u=t.order,c=t.limit,l=void 0===c?I.get():c,f=t.currentPage,p=t.offset,h=void 0===p?0:p;!h&&f&&(h=(f-1)*l);var d,g=nt(t.where,o);return"\n    agg: "+n+"(where: { "+g+" }) {\n      total: count_"+i+"\n    }\n    data: "+n+"(\n      where: { "+g+" },\n      "+et({offset:h,order_by:x((d=u,void 0===d&&(d={}),Object.entries(d).reduce((function(t,e){var n=e[1];return n&&(t[e[0]]=n.replace(/end$/,"")),t}),{}))),limit:l})+"\n    ) {\n      "+s+"\n    }\n  "}function ot(t){var e=t||{},n=e.data,r=e.agg;return{total:(null==r?void 0:r[0].total)||0,data:void 0===n?[]:n}}var at=function(t){function e(){return t.apply(this,arguments)||this}B(e,t);var n=e.prototype;return n.__query=function(t,e,n){var r,i="query {\n      "+e(t)+"\n    }";return this.__request({url:this.__generatePath(),method:"POST",data:{query:(r=i,f(r)?r.replace(/\n +/g,"\n "):"")}}).then(n)},n.queryList=function(t){return this.__query(t,rt,(function(t){return null==t?void 0:t.data}))},n.queryDetail=function(t){return this.queryList(t).then((function(t){return null==t?void 0:t[0]}))},n.queryPagination=function(t){return this.__query(t,it,ot)},e}(W),st={tableName:"tasks",fields:"\n  "+H+"\n  teamId:team_id\n  autoDraw: auto_draw\n  claimType: claim_type\n  activityId: activity_id\n  ttlDuration: ttl_duration\n  tipsType: tips_type\n  title\n  alias\n  comment\n  counterType: counter_type\n  cycle\n  desc\n  enabled\n  endDate : end_date\n  event\n  filterEval: filter_eval\n  icon\n  group\n  loopLimit: loop_limit\n  preDoneCount: pre_done_count\n  preTasks: pre_tasks\n  priority\n  progressField: progress_field\n  title\n  ttlDuration: ttl_duration\n  type\n  url\n  visible\n  buttonText: button_text\n  buttonDoneText: button_done_text\n  stageTasks: stage_tasks\n  beginDate: begin_date,\n  endDate: end_date,\n  difficulty"},ut={tableName:"user_tasks",fields:"done\n  doneAt: done_at\n  draw\n  drawIndexes: draw_indexes\n  gid\n  id\n  progress\n  taskID: task_id\n  task {\n    stageTasks: stage_tasks\n  }"},ct=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/graphql/user"})||this).tasks=function(t){return q([[function(){return e.queryPagination(U({},st,y(t,["where"])||{}))},function(){return e.queryList(U({},ut,t||{}))}],function(t){var e=t[0],n=t[1];return{total:e.total,data:e.data.map((function(t){return U({},t,y(m(n,(function(e){return e.taskID===t.id})),["id","taskID"]))}))}}])},e}return B(e,t),e}(at),lt={tableName:"user_coins",fields:"\n  gid\n  coinId: coin_id\n  coins\n  totalCoins: total_coins\n  "},ft={tableName:"rewards_logs",fields:"\n  "+H+"\n  gid\n  tradeNo: trade_no\n  channel\n  source\n  reason\n  successIndexes: success_indexes\n  done\n  group\n  rewardTypes: reward_types\n  rewards\n  extra\n  type\n  activity_id\n  reason\n  "},pt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/equity/v1/equity/graphql/user"})||this).userCoins=function(t){return e.queryPagination(U({},lt,t||{}))},e.rewardsLogs=function(t){return e.queryPagination(U({},ft,t||{}))},e}return B(e,t),e}(at),ht={tableName:"product_designers",fields:"\n  "+H+"\n  name\n  firstLetter: first_letter\n  country\n  priority\n  publish\n  productCount: product_count\n  productCommentCount: product_comment_count\n  avatar\n  extraImages: extra_images\n  desc\n  keywords\n  "},dt={tableName:"product_spu",fields:"\n  "+H+"\n  name\n  subTitle: sub_title\n  brandID: brand_id\n  type\n  shopID: shop_id\n  logicCategoryID: logic_category_id\n  keywords\n  spuCode: spu_code\n  showTime: show_time\n  hideTime: hide_time\n  publishTime: publish_time\n  downTime: down_time\n  sendTime: send_time\n  priority\n  price\n  showPrice: show_price\n  showCoin: show_coin\n  promotionPrice: promotion_price\n  mainImage: main_image\n  bannerImages: banner_images\n  descImages: desc_images\n  extraImages: extra_images\n  url\n  desc\n  note\n  fundID: fund_id\n  hot\n  new\n  recommend\n  publish\n  show\n  hideStock: hide_stock\n  verify\n  "},gt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/product/v1/product/graphql"})||this).productSpuList=function(t){var n,r,i=o(t),a=null==i||null==(n=i.where)?void 0:n.category;return null==i||null==(r=i.where)||delete r.category,e.__query(void 0,(function(){var t=it(U({},dt,{tableName:dt.tableName+(a?"":"s")},i||{}));if(a){var e="where: { "+nt({id:a})+" }";return"\n            info: product_show_categories(\n              "+(u(e)?"":e)+"\n            ) {\n              id\n              "+t+"\n            }\n          "}return t}),(function(t){var e;return U({},ot((null==t||null==(e=t.info)?void 0:e[0])||t),{now:null==t?void 0:t.now})}))},e.productDesignerList=function(t){return e.queryPagination(U({},ht,t||{}))},e}return B(e,t),e}(at),vt="\n  "+H+"\n  sended\n  freightPaid: freight_paid\n  multiSend: multi_send\n  sendType: send_type\n  gid\n  orderDispatchNum: order_dispatch_num\n  freightAmount: freight_amount\n  image\n  userPropID: user_prop_id\n  userCouponID: user_coupon_id\n  warehouse\n  express\n  status\n  ",yt={tableName:"orders",fields:"\n  "+H+"\n  stock\n  orderType:order_type\n  title\n  gid\n  orderNum: order_num\n  totalAmount: total_amount\n  payAmount:pay_amount\n  refundAmount:refund_amount\n  couponDiscount: coupon_discount\n  promotionDiscount: promotion_discount\n  userCouponID: user_coupon_id\n  source\n  activityID: activity_id\n  payType: pay_type\n  status\n  hideItems: hide_items\n  invalid\n  paid\n  multiSend: multi_send\n  confirm\n  canSend: can_send\n  confirmTime:confirm_time\n  invoice\n  autoConfirmTime: auto_confirm_time\n  payTime: pay_time\n  payOrderNum: pay_order_num\n  sendTime:send_time\n  presellBatchID: presell_batch_id\n  presellSendTime: presell_send_time\n  commentTime: comment_time\n  autoSendTime: auto_send_time\n  closeTime: close_time\n  closeReason: close_reason\n  items: order_items {\n    \n  orderNum: order_num\n  orderID: order_id\n  shopID: shop_id\n  shop\n  spuID: spu_id\n  spu\n  skuID: sku_id\n  sku\n  gift\n  score\n  price\n  count\n  couponDiscount: coupon_discount\n  promotions\n  scoreAdd: score_add\n  invalid\n  refundAmount: refund_amount\n  refund\n  attributes\n  sendedTime: sended_time\n  orderRefunds: order_refunds {\n    id\n  }\n  \n  }\n  dispatches: order_dispatches {\n    "+vt+"\n  }\n  mainImage: main_image\n  extra\n"},mt={tableName:"order_dispatch_relations",fields:"\n    order: "+yt.tableName+" {\n      "+yt.fields+"\n    }\n    orderDispatch: order_dispatches {\n      "+vt+"\n    }\n  ",uniqueKey:"order_id"},_t=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/product/v1/product/graphql/user"})||this).orderList=function(t){return e.queryPagination(U({},yt,t||{}))},e.orderInfo=function(t){return e.queryDetail(U({},yt,{where:{id:t.id}}))},e.orderDispatchRelations=function(t){return e.queryPagination(U({},mt,t||{},{omitBaseWhere:!0}))},e}return B(e,t),e}(at),bt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/invitations"})||this).generateCode=function(t){return e.__request({url:e.__generatePath("generate-code/"+t.id),method:"POST"})},e.usersBind=function(t){return e.__request({url:e.__generatePath("users/bind"),method:"POST",data:t})},e}return B(e,t),e}(V),wt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/lotteries"})||this).usersRoll=function(t){return e.__request({url:e.__generatePath("users/roll"),method:"POST",data:t})},e.user=function(t){return e.__request({url:e.__generatePath("users/"+t.gid),method:"GET"})},e}return B(e,t),e}(V),xt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/order/v1/order"})||this).orderList=function(t){var n=1;try{n=t.currentPage||t.offset/t.limit+1}catch(t){n=1}return e.__request({url:e.__generatePath(),method:"GET",params:{page:n,size:t.limit}}).then((function(t){return{total:(null==t?void 0:t.rawCount)||0,data:(null==t?void 0:t.resultSet)||[]}}))},e.orderInfo=function(t){return e.__request({url:e.__generatePath("user/"+t.orderNum),method:"GET"})},e}return B(e,t),e}(V),St=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/ecommerce/v1/ecommerce/user"})||this).spu=function(t){return e.__request({url:e.__generatePath("spu/"+t.id),method:"GET",data:t})},e}return B(e,t),e}(V),kt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/reciprocities"})||this).usersInfo=function(t){return e.__request({url:e.__generatePath("users/info"),method:"POST",data:t})},e.usersReceive=function(t){return e.__request({url:e.__generatePath("users/receive"),method:"POST",data:t})},e.share=function(t){return e.__request({url:e.__generatePath("users/share"),method:"POST",data:t})},e}return B(e,t),e}(V),Tt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/tasks"})||this).usersClaim=function(t){return e.__request({url:e.__generatePath("users/claim"),method:"POST",data:{taskID:null==t?void 0:t.id}})},e.usersDraw=function(t){return e.__request({url:e.__generatePath("users/draw"),method:"POST",data:{taskID:null==t?void 0:t.id,index:null==t?void 0:t.index}})},e.eventsUser=function(t){return e.__request({url:e.__generatePath("events/user"),method:"POST",data:t})},e}return B(e,t),e}(V),Pt=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/activity/v1/activity/teams"})||this).usersCreate=function(t){return e.__request({url:e.__generatePath("users"),method:"POST",data:t})},e.userDissolve=function(t){return e.__request({url:e.__generatePath("users/dissolve"),method:"POST",data:{userTeamId:null==t?void 0:t.id}})},e.userJoin=function(t){return e.__request({url:e.__generatePath("users/join"),method:"POST",data:{userTeamId:null==t?void 0:t.id}})},e.userLeave=function(t){return e.__request({url:e.__generatePath("users/leave"),method:"POST",data:{userTeamId:null==t?void 0:t.id}})},e}return B(e,t),e}(V),Ot=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/wealth/v1/wealth/trades"})||this).pay=function(t){return e.__request({url:e.__generatePath("pay"),method:"POST",data:t})},e.payStatus=function(t){return e.__request({url:e.__generatePath("pay/status"),method:"POST",data:t})},e}return B(e,t),e}(V),At=function(t){function e(){var e;return(e=t.call(this,{preApiPath:"/user/v1/user/users"})||this).addresses=function(){return e.__request({url:e.__generatePath("addresses"),method:"GET"})},e.updateAddress=function(t){return e.__request({url:e.__generatePath("addresses"),method:"PUT",data:t})},e.createAddress=function(t){return e.__request({url:e.__generatePath("addresses"),method:"POST",data:t})},e.setDefaultAddress=function(t){return e.__request({url:e.__generatePath("addresses/default"),method:"POST",data:t})},e.deleteAddress=function(t){return e.__request({url:e.__generatePath("addresses/"+t.id),method:"DELETE"})},e}return B(e,t),e}(V),Ct=new Y,Et=new K,jt=new X,It=new Q,Rt=new Z,Dt=new tt,Lt=new ct,Ut=new pt,Bt=new gt,Mt=new _t,Nt=new bt,$t=new wt,qt=new xt,Gt=new St,Ft=new kt,Ht=new Tt,zt=new Pt,Wt=new Ot,Vt=new At,Jt=function(){function t(){this.id=0,this.alias=""}var e=t.prototype;return e.__init=function(){var t=L($.mark((function t(){var e;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lt.queryDetail(U({where:{alias:this.alias}},z,{fields:"id\n        alias"}));case 2:null!=(e=t.sent)&&e.id&&(this.id=e.id);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.info=function(t){var e=this;return Ct.info(U({id:this.id,alias:this.alias},t||{})).then((function(t){var n,r=g(new on,t);return null==r||null==(n=r.plugins)||n.some((function(t){var e,n;return null==t||null==(e=t.data)||null==(n=e.users)?void 0:n.some((function(t){return j.set(null==t?void 0:t.gid)}))})),e.id||(e.id=r.id),r}))},e.help=function(t){return Et.help(t)},e.checkin=function(){return jt.usersCheck({gid:j.get()})},e.createInvitationCode=function(t){return Nt.generateCode(t)},e.bindInvitation=function(t){return Nt.usersBind(t)},e.lottery=function(t){return $t.usersRoll(t)},e.lotteryUserInfo=function(){return $t.user({gid:j.get()})},e.reciprocityInfo=function(t){return Ft.usersInfo(t)},e.receiveReciprocity=function(t){return Ft.usersReceive(t)},e.shareReciprocityCode=function(t){return Ft.share(t)},e.claimTask=function(t){return Ht.usersClaim(t)},e.drawTask=function(t){return Ht.usersDraw(t)},e.rewardsLogs=function(t){return Ut.rewardsLogs(g({where:{gid:j.get(),done:!0,type:0,activityId:this.id}},t))},e.exchange=function(t){return Dt.exchange(t)},e.postTaskEvent=function(t){var e=g({gid:j.get()},t);return Ht.eventsUser(e)},e.createTeam=function(t){return zt.usersCreate(t)},e.dissolveTeam=function(t){return zt.userDissolve(t)},e.joinTeam=function(t){return zt.userJoin(t)},e.leaveTeam=function(t){return zt.userLeave(t)},t}();function Yt(){return(Yt=L($.mark((function t(e){var n;return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(n=new Jt).alias=null==e?void 0:e.alias,t.next=5,n.__init();case 5:return t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),k(t.t0),t.abrupt("return",Promise.reject(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var Kt,Xt=["orderNum","orderType"],Qt=function(){function t(){}var n=t.prototype;return n.ordersAsync=function(t){return Rt.ordersAsync(t).then(L($.mark((function t(){return $.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=Rt.ordersAsyncStatus,r=300;!function(){var i=L($.mark((function i(){return $.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,S(r+=20);case 2:n().then((function(n){var r;if("ok"===(null==n?void 0:n.code))return null!=n&&null!=(r=n.data)&&r.processing?void o():void t(null==n?void 0:n.data);e(n)})).catch((function(){o()}));case 3:case"end":return i.stop()}}),i)})));function o(){return i.apply(this,arguments)}return o}()()})));case 2:case"end":return t.stop()}}),t)}))))},n.dispatchSelect=function(t){return Rt.dispatchSelect(t)},n.spuInfo=function(t){return Gt.spu(t)},n.pay=function(t){var n=t.orderNum,r=void 0===n?"":n,i=t.orderType,o=void 0===i?e.TradeOrderType.order:i,a=M(t,Xt);return Array.isArray(a.orders)&&a.orders.length||(a.orders=[{orderNum:r,orderType:o}]),a.orders.forEach((function(t,n,r){t.orderType||(r[n].orderType=e.TradeOrderType.order)})),Wt.pay(a)},n.payWechat=function(t){var e=g({platform:"wechat",payType:"jsapi"},t);return this.pay(e).then((function(t){try{var e=null==t?void 0:t.wechat;return U({},t,{params:{appId:null==t?void 0:t.platformAppID,nonceStr:null==e?void 0:e.randomStr,package:null==e?void 0:e.package,paySign:null==e?void 0:e.sign,signType:null==e?void 0:e.signType,timeStamp:null==t?void 0:t.timeStamp}})}catch(e){return t}}))},n.payStatus=function(t){return Wt.payStatus(t)},n.productSpuList=function(t){var e=Bt.productSpuList;return new Promise((function(n,r){e(t).then((function(r){var i,o;if(null!=r&&r.now&&(null!=t&&null!=(i=t.where)&&i.show||null!=t&&null!=(o=t.where)&&o.publish)){var a,s,u=new Date(1e3*(null==r?void 0:r.now)).toISOString();null!=t&&null!=(a=t.where)&&a.show&&(t.where.showTime={lte:u},t.where.hideTime={gte:u}),null!=t&&null!=(s=t.where)&&s.publish&&(t.where.publishTime={lte:u},t.where.downTime={gte:u}),e(t).then((function(t){return n(t)})).catch((function(){return n(r)}))}else n(r)})).catch((function(t){return r(t)}))}))},n.designerList=function(t){return Bt.productDesignerList(t)},n.orderList=function(t){var e=g({where:{gid:j.get()}},t);return Mt.orderList(e)},n.orderDispatchRelations=function(t){var e=g({where:{order:{gid:j.get()}}},t);return Mt.orderDispatchRelations(e)},n.orderInfo=function(t){return qt.orderInfo(t)},n.createAddress=function(t){return Vt.createAddress(t)},n.addresses=function(){return Vt.addresses()},n.updateAddress=function(t){var e=j.get(),n=g({gid:e,userID:Number(e)||0},t);return Vt.updateAddress(n)},n.setDefaultAddress=function(t){return Vt.setDefaultAddress(t)},n.deleteAddress=function(t){return Vt.deleteAddress(t)},n.enabledConfigs=function(){return It.enabled()},t}();!function(t){t[t.internal=0]="internal",t[t.external=1]="external",t[t.h5=2]="h5"}(Kt||(Kt={}));var Zt,te=function(){};(Zt=e.ActivityPluginType||(e.ActivityPluginType={})).boost="boost",Zt.checkin="checkin",Zt.lottery="lottery",Zt.nanoCode="nanoCode",Zt.weight="weight",Zt.task="task",Zt.notice="notice",Zt.exchange="exchange",Zt.barrage="barrage",Zt.prop="prop",Zt.coin="coin",Zt.rewardCode="rewardCode",Zt.remote="remote",Zt.reciprocity="reciprocity",Zt.invitation="invitation",Zt.team="team";var ee,ne,re=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),ie=function(t){function e(){return t.apply(this,arguments)||this}B(e,t);var n=e.prototype;return n.__getConfigs=function(){var t;return(null==(t=this.data)?void 0:t.configs)||[]},n.__getUsers=function(){var t;return(null==(t=this.data)?void 0:t.users)||[]},n.__baseGetDatas=function(t){var e=this,n=t||{},r=n.objectConverter,i=n.howToMatch,o=this.__getUsers();return this.__getConfigs().map((function(t){var n=U({},o.find((function(e){return i(t,e)}))||{},t,{__activity:e.__activity});return r?r(n):n}))},e}(re);(ee=e.LotteryPatternType||(e.LotteryPatternType={}))[ee.free=0]="free",ee[ee.tokens=1]="tokens",(ne=e.LotteryLifeCycle||(e.LotteryLifeCycle={})).hours="hours",ne.days="days";var oe,ae,se,ue=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),ce=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new le,t)},howToMatch:function(t,e){return(null==e?void 0:e.lotteryID)===(null==t?void 0:t.id)}})},e}(ie),le=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(ue);(oe=e.TaskCountType||(e.TaskCountType={}))[oe.incr=0]="incr",oe[oe.incrBy=1]="incrBy",(ae=e.TaskClaimType||(e.TaskClaimType={}))[ae.none=0]="none",ae[ae.claimUser=1]="claimUser",ae[ae.claimServer=2]="claimServer",(se=e.TaskCycleType||(e.TaskCycleType={})).days="days",se.weeks="weeks",se.months="months";var fe,pe,he,de,ge,ve,ye,me=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),_e=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new be,t)},howToMatch:function(t,e){return(null==e?void 0:e.taskID)===(null==t?void 0:t.id)}})},e}(ie),be=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(me);(fe=e.OrderType||(e.OrderType={})).secret="secret",fe.presell="presell",fe.fund="fund",(pe=e.OrderUserType||(e.OrderUserType={})).admin="admin",pe.user="user",(he=e.InvoiceType||(e.InvoiceType={})).paper="paper",he.net="net",(de=e.OrderStatus||(e.OrderStatus={})).waitPay="waitPay",de.waitSend="waitSend",de.collecting="collecting",de.waitManualSend="waitManualSend",de.sended="sended",de.close="close",de.success="success",function(t){t.wait="wait",t.paid="paid",t.sent="sent",t.expressed="expressed"}(ge||(ge={})),(ve=e.TradeOrderType||(e.TradeOrderType={})).order="order",ve.dispatch="dispatch",(e.ConfigPlatform||(e.ConfigPlatform={})).wechat="wechat",(e.PayType||(e.PayType={})).jsapi="jsapi",(ye=e.TradeOrderStatus||(e.TradeOrderStatus={})).success="success",ye.refund="refund",ye.notPay="notPay",ye.close="close",ye.fail="fail",ye.other="other";var we,xe,Se=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),ke=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new Te,t)},howToMatch:function(t,e){return(null==e?void 0:e.coinId)===(null==t?void 0:t.id)}})},e}(ie),Te=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(Se),Pe=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),Oe=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).getDatas=v((function(){return e.__baseGetDatas({howToMatch:function(t,e){var n;return(null==e?void 0:e.exchangeProductId)===(null==t||null==(n=t.exchange)?void 0:n.id)}}).map((function(t){var e=U({},t,t.exchange);return g(new Ae,e)}))})),e}return B(e,t),e}(ie),Ae=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).__getCoinPlugins=v((function(){return e.__activity.getCoinPlugins()})),e.hasAllDeductionReward=v((function(){var t;return!(null!=(t=e.deductionRewards)&&t.some((function(t){return e.__getCoinPlugins().every((function(e){return e.getDatas().every((function(e){return e.coinId!==t.id||!e.coins||e.coins<t.count}))}))})))})),e.isUnrestrictedOnPurchase=v((function(){return!1})),e}return B(e,t),e}(Pe);(we=e.CheckinChoiceRewardType||(e.CheckinChoiceRewardType={}))[we.progress=0]="progress",we[we.fixed=1]="fixed",(xe=e.CheckinCycle||(e.CheckinCycle={})).isoWeek="isoWeek",xe.month="month";var Ce,Ee=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),je=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new Ie,t)},howToMatch:function(t,e){return(null==e?void 0:e.checkinId)===(null==t?void 0:t.id)}})},e}(ie),Ie=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(Ee),Re=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),De=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new Le,t)},howToMatch:function(t,e){return(null==e?void 0:e.invitationId)===(null==t?void 0:t.id)}})},e}(ie),Le=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(Re),Ue=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),Be=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new Me,t)},howToMatch:function(t,e){return(null==e?void 0:e.rewardCodeId)===(null==t?void 0:t.id)}})},e}(ie),Me=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(Ue);(Ce=e.ReciprocityType||(e.ReciprocityType={}))[Ce.give=0]="give",Ce[Ce.askFor=1]="askFor";var Ne,$e,qe=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),Ge=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new Fe,t)},howToMatch:function(t,e){return(null==e?void 0:e.reciprocityId)===(null==t?void 0:t.id)}})},e}(ie),Fe=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(qe),He=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(te),ze=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e.prototype.getDatas=function(){return this.__baseGetDatas({objectConverter:function(t){return g(new We,t)},howToMatch:function(t,e){return(null==e?void 0:e.teamId)===(null==t?void 0:t.id)}})},e}(ie),We=function(t){function e(){return t.apply(this,arguments)||this}return B(e,t),e}(He);(Ne=e.ActivityState||(e.ActivityState={})).none="none",Ne.start="start",Ne.begin="begin",Ne.end="end",Ne.finish="finish",($e=e.ActivityClassEnum||(e.ActivityClassEnum={})).default="default",$e.lottery="lottery";var Ve,Je,Ye,Ke,Xe,Qe,Ze,tn,en,nn,rn=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).class=e.ActivityClassEnum.default,n.type="default",n.state=e.ActivityState.none,n}return B(n,t),n}(te),on=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).id=0,e}B(e,t);var n=e.prototype;return n.__getPlugins=function(t,e){var n,r=this;return(null==(n=this.plugins)?void 0:n.filter((function(e){return e.type===t})).map((function(t){return U({},t,{__activity:r})})).map((function(t){return e(t)})))||[]},n.getCoinPlugins=function(){return this.__getPlugins("coin",(function(t){return g(new ke,t)}))},n.getTaskPlugins=function(){return this.__getPlugins("task",(function(t){return g(new _e,t)}))},n.getExchangePlugins=function(){return this.__getPlugins("exchange",(function(t){return g(new Oe,t)}))},n.getLotteryPlugins=function(){return this.__getPlugins("lottery",(function(t){return g(new ce,t)}))},n.getCheckinPlugins=function(){return this.__getPlugins("checkin",(function(t){return g(new je,t)}))},n.getInvitationPlugins=function(){return this.__getPlugins("invitation",(function(t){return g(new De,t)}))},n.getRewardCodePlugins=function(){return this.__getPlugins("rewardCode",(function(t){return g(new Be,t)}))},n.getReciprocityPlugins=function(){return this.__getPlugins("reciprocity",(function(t){return g(Ge,t)}))},n.getTeamPlugins=function(){return this.__getPlugins("team",(function(t){return g(new ze,t)}))},n.__generateItemMapFromPlugins=function(t){return t.reduce((function(t,e){return e.alias&&(t[e.alias]=e.getDatas()),t}),{})},n.getCoins=function(){return this.__generateItemMapFromPlugins(this.getCoinPlugins())},n.getTasks=function(){return this.__generateItemMapFromPlugins(this.getTaskPlugins())},n.getExchanges=function(){return this.__generateItemMapFromPlugins(this.getExchangePlugins())},n.getLotteries=function(){return this.__generateItemMapFromPlugins(this.getLotteryPlugins())},n.getCheckins=function(){return this.__generateItemMapFromPlugins(this.getCheckinPlugins())},n.getInvitations=function(){return this.__generateItemMapFromPlugins(this.getInvitationPlugins())},n.getRewardCodes=function(){return this.__generateItemMapFromPlugins(this.getRewardCodePlugins())},n.getReciprocitys=function(){return this.__generateItemMapFromPlugins(this.getReciprocityPlugins())},n.getTeams=function(){return this.__generateItemMapFromPlugins(this.getTeamPlugins())},e}(rn);(Ve=e.BarrageKeepType||(e.BarrageKeepType={}))[Ve.none=0]="none",Ve[Ve.duration=1]="duration",Ve[Ve.number=2]="number",(Je=e.ExpressCode||(e.ExpressCode={})).YTO="YTO",Je.STO="STO",Je.SF="SF",Je.HTKY="HTKY",Je.ZTO="ZTO",Je.YUNDA="YUNDA",Je.JT="JT",Je.JD="JD",Je.EMS="EMS",Je.DEPPON="DEPPON",Je.OTHERS="OTHERS",function(t){t.bs="bs"}(Ye||(Ye={})),(Ke=e.ItemType||(e.ItemType={})).spu="spu",Ke.sku="sku",(Xe=e.MoneyOffType||(e.MoneyOffType={})).count="count",Xe.price="price",(Qe=e.SpuType||(e.SpuType={})).normal="normal",Qe.score="score",Qe.gift="gift",Qe.presell="presell",Qe.secret="secret",Qe.fund="fund",Qe.virtual="virtual",Qe.token="token",(Ze=e.FundStatus||(e.FundStatus={}))[Ze.start=0]="start",Ze[Ze.next=1]="next",Ze[Ze.wait=2]="wait",Ze[Ze.waitSend=3]="waitSend",Ze[Ze.success=4]="success",Ze[Ze.fail=5]="fail",(tn=e.StockBatchStatus||(e.StockBatchStatus={})).unsend="unsend",tn.send="send",(en=e.SendType||(e.SendType={})).manual="manual",en.bs="bs",(nn=e.WeightType||(e.WeightType={}))[nn.weightOverlap=0]="weightOverlap",nn[nn.weightNoOverlap=1]="weightNoOverlap",nn[nn.randomOverlap=2]="randomOverlap",nn[nn.randomNoOverlap=3]="randomNoOverlap",e.Activity=rn,e.ActivityInfo=on,e.ActivityPlugin=re,e.ActivityPluginInfo=ie,e.BFF=q,e.BaseModel=te,e.Checkin=Ee,e.CheckinData=Ie,e.CheckinPluginData=je,e.Coin=Se,e.CoinData=Te,e.CoinPluginData=ke,e.ExchangeData=Ae,e.ExchangePluginData=Oe,e.ExchangeProduct=Pe,e.InternalActivityService=Jt,e.InternalECommerceService=Qt,e.Invitation=Re,e.InvitationData=Le,e.InvitationPluginData=De,e.Lottery=ue,e.LotteryData=le,e.LotteryPluginData=ce,e.Reciprocity=qe,e.ReciprocityData=Fe,e.ReciprocityPluginData=Ge,e.RewardCode=Ue,e.RewardCodeData=Me,e.RewardCodePluginData=Be,e.Task=me,e.TaskData=be,e.TaskPluginData=_e,e.Team=He,e.TeamData=We,e.TeamPluginData=ze,e.asyncCreateActivityService=function(t){return Yt.apply(this,arguments)},e.createActivityService=function(t){var e=new Jt;return null!=t&&t.id&&(e.id=t.id),null!=t&&t.alias&&(e.alias=t.alias),e},e.createECommerceService=function(){return new Qt},e.init=function(t){var e=t||{},n=e.clientKey,r=void 0===n?"":n,i=e.endpoint,o=e.projectID,a=void 0===o?"":o;A.set("ENDPOINT",void 0===i?"":i),A.set("CLIENT_KEY",r),A.set("PROJECT_ID",a)},e.setConfig=function(t){var e=t||{},n=e.request,r=e.gid,i=void 0===r?"":r,o=e.paginationLimit,a=void 0===o?R:o;_(n)&&A.set("REQUEST",n),i&&A.set("GID",String(i)),a&&b(a)&&A.set("PAGINATION_LIMIT",a)}},"2abd":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.isPC=function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,r=0;r<e.length-1;r++)if(t.indexOf(e[r])>0){n=!1;break}return n}},"2b03":function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},"2b10":function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},"2b3e":function(t,e,n){var r=n("585a"),i="object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},"2c9c":function(t,e){!function(){var e,n,r,i,o,a,s=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],u=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],c=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],l=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],f=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],p=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],h=[],d=[],g=[],v=[],y=[],m=2;function _(t,e){var n;t>e&&(n=t,t=e,e=n),n=e,n*=e,n+=e,n>>=1,v[n+=t]=1}function b(t,e){var r;for(g[t+n*e]=1,r=-2;r<2;r++)g[t+r+n*(e-2)]=1,g[t-2+n*(e+r+1)]=1,g[t+2+n*(e+r)]=1,g[t+r+1+n*(e+2)]=1;for(r=0;r<2;r++)_(t-1,e+r),_(t+1,e-r),_(t-r,e-1),_(t+r,e+1)}function w(t){for(;t>=255;)t=((t-=255)>>8)+(255&t);return t}var x=[];function S(t,e,n,r){var i,o,a;for(i=0;i<r;i++)h[n+i]=0;for(i=0;i<e;i++){if(255!=(a=f[h[t+i]^h[n]]))for(o=1;o<r;o++)h[n+o-1]=h[n+o]^p[w(a+x[r-o])];else for(o=n;o<n+r;o++)h[o]=h[o+1];h[n+r-1]=255==a?0:p[w(a+x[0])]}}function k(t,e){var n;return t>e&&(n=t,t=e,e=n),n=e,n+=e*e,n>>=1,v[n+=t]}function T(t){var e,r,i,o;switch(t){case 0:for(r=0;r<n;r++)for(e=0;e<n;e++)e+r&1||k(e,r)||(g[e+r*n]^=1);break;case 1:for(r=0;r<n;r++)for(e=0;e<n;e++)1&r||k(e,r)||(g[e+r*n]^=1);break;case 2:for(r=0;r<n;r++)for(i=0,e=0;e<n;e++,i++)3==i&&(i=0),i||k(e,r)||(g[e+r*n]^=1);break;case 3:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=o,e=0;e<n;e++,i++)3==i&&(i=0),i||k(e,r)||(g[e+r*n]^=1);break;case 4:for(r=0;r<n;r++)for(i=0,o=r>>1&1,e=0;e<n;e++,i++)3==i&&(i=0,o=!o),o||k(e,r)||(g[e+r*n]^=1);break;case 5:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=0,e=0;e<n;e++,i++)3==i&&(i=0),(e&r&1)+!(!i|!o)||k(e,r)||(g[e+r*n]^=1);break;case 6:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=0,e=0;e<n;e++,i++)3==i&&(i=0),(e&r&1)+(i&&i==o)&1||k(e,r)||(g[e+r*n]^=1);break;case 7:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=0,e=0;e<n;e++,i++)3==i&&(i=0),(i&&i==o)+(e+r&1)&1||k(e,r)||(g[e+r*n]^=1)}}function P(t){var e,n=0;for(e=0;e<=t;e++)y[e]>=5&&(n+=3+y[e]-5);for(e=3;e<t-1;e+=2)y[e-2]==y[e+2]&&y[e+2]==y[e-1]&&y[e-1]==y[e+1]&&3*y[e-1]==y[e]&&(0==y[e-3]||e+3>t||3*y[e-3]>=4*y[e]||3*y[e+3]>=4*y[e])&&(n+=40);return n}function O(){var t,e,r,i,o,a=0,s=0;for(e=0;e<n-1;e++)for(t=0;t<n-1;t++)(g[t+n*e]&&g[t+1+n*e]&&g[t+n*(e+1)]&&g[t+1+n*(e+1)]||!(g[t+n*e]||g[t+1+n*e]||g[t+n*(e+1)]||g[t+1+n*(e+1)]))&&(a+=3);for(e=0;e<n;e++){for(y[0]=0,r=i=t=0;t<n;t++)(o=g[t+n*e])==i?y[r]++:y[++r]=1,s+=(i=o)?1:-1;a+=P(r)}s<0&&(s=-s);var u=s,c=0;for(u+=u<<2,u<<=1;u>n*n;)u-=n*n,c++;for(a+=10*c,t=0;t<n;t++){for(y[0]=0,r=i=e=0;e<n;e++)(o=g[t+n*e])==i?y[r]++:y[++r]=1,i=o;a+=P(r)}return a}var A=null,C={get ecclevel(){return m},set ecclevel(t){m=t},get size(){return _size},set size(t){_size=t},get canvas(){return A},set canvas(t){A=t},getFrame:function(t){return function(t){var y,P,A,C,E,j,I,R;C=t.length,e=0;do{if(e++,A=4*(m-1)+16*(e-1),r=l[A++],i=l[A++],o=l[A++],a=l[A],C<=(A=o*(r+i)+i-3+(e<=9)))break}while(e<40);for(n=17+4*e,E=o+(o+a)*(r+i)+i,C=0;C<E;C++)d[C]=0;for(h=t.slice(0),C=0;C<n*n;C++)g[C]=0;for(C=0;C<(n*(n+1)+1)/2;C++)v[C]=0;for(C=0;C<3;C++){for(A=0,P=0,1==C&&(A=n-7),2==C&&(P=n-7),g[P+3+n*(A+3)]=1,y=0;y<6;y++)g[P+y+n*A]=1,g[P+n*(A+y+1)]=1,g[P+6+n*(A+y)]=1,g[P+y+1+n*(A+6)]=1;for(y=1;y<5;y++)_(P+y,A+1),_(P+1,A+y+1),_(P+5,A+y),_(P+y+1,A+5);for(y=2;y<4;y++)g[P+y+n*(A+2)]=1,g[P+2+n*(A+y+1)]=1,g[P+4+n*(A+y)]=1,g[P+y+1+n*(A+4)]=1}if(e>1)for(C=s[e],P=n-7;;){for(y=n-7;y>C-3&&(b(y,P),!(y<C));)y-=C;if(P<=C+9)break;b(6,P-=C),b(P,6)}for(g[8+n*(n-8)]=1,P=0;P<7;P++)_(7,P),_(n-8,P),_(7,P+n-7);for(y=0;y<8;y++)_(y,7),_(y+n-8,7),_(y,n-8);for(y=0;y<9;y++)_(y,8);for(y=0;y<8;y++)_(y+n-8,8),_(8,y);for(P=0;P<7;P++)_(8,P+n-7);for(y=0;y<n-14;y++)1&y?(_(8+y,6),_(6,8+y)):(g[8+y+6*n]=1,g[6+n*(8+y)]=1);if(e>6)for(C=u[e-7],A=17,y=0;y<6;y++)for(P=0;P<3;P++,A--)1&(A>11?e>>A-12:C>>A)?(g[5-y+n*(2-P+n-11)]=1,g[2-P+n-11+n*(5-y)]=1):(_(5-y,2-P+n-11),_(2-P+n-11,5-y));for(P=0;P<n;P++)for(y=0;y<=P;y++)g[y+n*P]&&_(y,P);for(E=h.length,j=0;j<E;j++)d[j]=h.charCodeAt(j);if(h=d.slice(0),E>=(y=o*(r+i)+i)-2&&(E=y-2,e>9&&E--),j=E,e>9){for(h[j+2]=0,h[j+3]=0;j--;)C=h[j],h[j+3]|=255&C<<4,h[j+2]=C>>4;h[2]|=255&E<<4,h[1]=E>>4,h[0]=64|E>>12}else{for(h[j+1]=0,h[j+2]=0;j--;)C=h[j],h[j+2]|=255&C<<4,h[j+1]=C>>4;h[1]|=255&E<<4,h[0]=64|E>>4}for(j=E+3-(e<10);j<y;)h[j++]=236,h[j++]=17;for(x[0]=1,j=0;j<a;j++){for(x[j+1]=1,I=j;I>0;I--)x[I]=x[I]?x[I-1]^p[w(f[x[I]]+j)]:x[I-1];x[0]=p[w(f[x[0]]+j)]}for(j=0;j<=a;j++)x[j]=f[x[j]];for(A=y,P=0,j=0;j<r;j++)S(P,o,A,a),P+=o,A+=a;for(j=0;j<i;j++)S(P,o+1,A,a),P+=o+1,A+=a;for(P=0,j=0;j<o;j++){for(I=0;I<r;I++)d[P++]=h[j+I*o];for(I=0;I<i;I++)d[P++]=h[r*o+j+I*(o+1)]}for(I=0;I<i;I++)d[P++]=h[r*o+j+I*(o+1)];for(j=0;j<a;j++)for(I=0;I<r+i;I++)d[P++]=h[y+j+I*a];for(h=d,y=P=n-1,A=E=1,R=(o+a)*(r+i)+i,j=0;j<R;j++)for(C=h[j],I=0;I<8;I++,C<<=1){128&C&&(g[y+n*P]=1);do{E?y--:(y++,A?0!=P?P--:(A=!A,6==(y-=2)&&(y--,P=9)):P!=n-1?P++:(A=!A,6==(y-=2)&&(y--,P-=8))),E=!E}while(k(y,P))}for(h=g.slice(0),C=0,P=3e4,A=0;A<8&&(T(A),(y=O())<P&&(P=y,C=A),7!=C);A++)g=h.slice(0);for(C!=A&&T(C),P=c[C+(m-1<<3)],A=0;A<8;A++,P>>=1)1&P&&(g[n-1-A+8*n]=1,A<6?g[8+n*A]=1:g[8+n*(A+1)]=1);for(A=0;A<7;A++,P>>=1)1&P&&(g[8+n*(n-7+A)]=1,A?g[6-A+8*n]=1:g[7+8*n]=1);return g}(t)},utf16to8:function(t){var e,n,r,i;for(e="",r=t.length,n=0;n<r;n++)(i=t.charCodeAt(n))>=1&&i<=127?e+=t.charAt(n):i>2047?(e+=String.fromCharCode(224|i>>12&15),e+=String.fromCharCode(128|i>>6&63),e+=String.fromCharCode(128|i>>0&63)):(e+=String.fromCharCode(192|i>>6&31),e+=String.fromCharCode(128|i>>0&63));return e},draw:function(t,e,r,i,o){var a=e.ctx,s=r.left,u=r.top,c=r.width,l=r.height,f=i.borderRadius,p=void 0===f?0:f,h=i.backgroundColor,d=i.color,g=void 0===d?"#000000":d,v=(i.border||{}).borderWidth;if(m=o||m,a){a.save(),v&&(c-=v,l-=v);var y=Math.min(c,l);t=this.utf16to8(t);var _=this.getFrame(t),b=y/n;e.setOpacity(i),e.setTransform(r,i),s=-c/2,u=-l/2,h&&(e.setBackground(h,c,l),e.roundRect(s,u,c,l,p,!0,!1)),a.setFillStyle(g);for(var w=0;w<n;w++)for(var x=0;x<n;x++)_[x*n+w]&&a.fillRect(s+b*w,u+b*x,b,b);a.restore(),e.setBorder(r,i)}}};t.exports={api:C}}()},"2cf8":function(t,e,n){var r=n("47f5");t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},"2dcb":function(t,e,n){var r=n("91e9")(Object.getPrototypeOf,Object);t.exports=r},"2ec1":function(t,e,n){var r=n("100e"),i=n("9aff");t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,a)}return e}))}},"2f62":function(t,e,n){n.r(e),function(t){n.d(e,"Store",(function(){return p})),n.d(e,"createLogger",(function(){return C})),n.d(e,"createNamespacedHelpers",(function(){return T})),n.d(e,"install",(function(){return b})),n.d(e,"mapActions",(function(){return k})),n.d(e,"mapGetters",(function(){return S})),n.d(e,"mapMutations",(function(){return x})),n.d(e,"mapState",(function(){return w}));var r=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){r.emit("vuex:action",t,e)}),{prepend:!0}))}function o(t,e){if(void 0===e&&(e=[]),null===t||"object"!==_typeof2(t))return t;var n=function(t,e){return t.filter(e)[0]}(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=o(t[n],e)})),r}function a(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function s(t){return null!==t&&"object"===_typeof2(t)}var u=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},u.prototype.addChild=function(t,e){this._children[t]=e},u.prototype.removeChild=function(t){delete this._children[t]},u.prototype.getChild=function(t){return this._children[t]},u.prototype.hasChild=function(t){return t in this._children},u.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},u.prototype.forEachChild=function(t){a(this._children,t)},u.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},u.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},u.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(u.prototype,c);var l,f=function(t){this.register([],t,!1)};f.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},f.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},f.prototype.update=function(t){!function t(e,n,r){if(n.update(r),r.modules)for(var i in r.modules){if(!n.getChild(i))return;t(e.concat(i),n.getChild(i),r.modules[i])}}([],this.root,t)},f.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new u(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&a(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},f.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},f.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var p=function(t){var e=this;void 0===t&&(t={}),!l&&"undefined"!=typeof window&&window.Vue&&b(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new f(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var o=this,a=this.dispatch,s=this.commit;this.dispatch=function(t,e){return a.call(o,t,e)},this.commit=function(t,e,n){return s.call(o,t,e,n)},this.strict=r;var u=this._modules.root.state;y(this,u,[],this._modules.root),v(this,u),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:l.config.devtools)&&i(this)},h={state:{configurable:!0}};function d(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function g(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;y(t,n,[],t._modules.root,!0),v(t,n,e)}function v(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};a(i,(function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var s=l.config.silent;l.config.silent=!0,t._vm=new l({data:{$$state:e},computed:o}),l.config.silent=s,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){}),{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),l.nextTick((function(){return r.$destroy()})))}function y(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!o&&!i){var s=m(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){l.set(s,u,r.state)}))}var c=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=_(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:r?t.commit:function(n,r,i){var o=_(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return m(t.state,n)}}}),i}(t,a,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,a+n,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return function(t){return t&&"function"==typeof t.then}(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}(t,r,i,c)})),r.forEachGetter((function(e,n){!function(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}(t,a+n,e,c)})),r.forEachChild((function(r,o){y(t,e,n.concat(o),r,i)}))}function m(t,e){return e.reduce((function(t,e){return t[e]}),t)}function _(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function b(t){l&&t===l||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(l=t)}h.state.get=function(){return this._vm._data.$$state},h.state.set=function(t){},p.prototype.commit=function(t,e,n){var r=this,i=_(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},p.prototype.dispatch=function(t,e){var n=this,r=_(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(t){}var u=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(t){}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(t){}e(t)}))}))}},p.prototype.subscribe=function(t,e){return d(t,this._subscribers,e)},p.prototype.subscribeAction=function(t,e){return d("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},p.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},p.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},p.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),y(this,this.state,t,this._modules.get(t),n.preserveState),v(this,this.state)},p.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=m(e.state,t.slice(0,-1));l.delete(n,t[t.length-1])})),g(this)},p.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},p.prototype.hotUpdate=function(t){this._modules.update(t),g(this,!0)},p.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(p.prototype,h);var w=O((function(t,e){var n={};return P(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=A(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),x=O((function(t,e){var n={};return P(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=A(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),S=O((function(t,e){var n={};return P(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||A(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),k=O((function(t,e){var n={};return P(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=A(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"==typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),T=function(t){return{mapState:w.bind(null,t),mapGetters:S.bind(null,t),mapMutations:x.bind(null,t),mapActions:k.bind(null,t)}};function P(t){return function(t){return Array.isArray(t)||s(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function O(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function A(t,e,n){return t._modulesNamespaceMap[n]}function C(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var a=t.actionFilter;void 0===a&&(a=function(t,e){return!0});var s=t.actionTransformer;void 0===s&&(s=function(t){return t});var u=t.logMutations;void 0===u&&(u=!0);var c=t.logActions;void 0===c&&(c=!0);var l=t.logger;return void 0===l&&(l=console),function(t){var f=o(t.state);void 0!==l&&(u&&t.subscribe((function(t,a){var s=o(a);if(n(t,f,s)){var u=I(),c=i(t),p="mutation "+t.type+u;E(l,p,e),l.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),l.log("%c mutation","color: #03A9F4; font-weight: bold",c),l.log("%c next state","color: #4CAF50; font-weight: bold",r(s)),j(l)}f=s})),c&&t.subscribeAction((function(t,n){if(a(t,n)){var r=I(),i=s(t),o="action "+t.type+r;E(l,o,e),l.log("%c action","color: #03A9F4; font-weight: bold",i),j(l)}})))}}function E(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(n){t.log(e)}}function j(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function I(){var t=new Date;return" @ "+R(t.getHours(),2)+":"+R(t.getMinutes(),2)+":"+R(t.getSeconds(),2)+"."+R(t.getMilliseconds(),3)}function R(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t}var D={Store:p,install:b,version:"3.6.2",mapState:w,mapMutations:x,mapGetters:S,mapActions:k,createNamespacedHelpers:T,createLogger:C};e.default=D}.call(this,n("c8ba"))},"30c9":function(t,e,n){var r=n("9520"),i=n("b218");t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},"32b3":function(t,e,n){var r=n("872a"),i=n("96384"),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},"32f4":function(t,e){t.exports=function(){return[]}},"34f3":function(t,e,n){(function(e){!function(e,n){t.exports=n()}(0,(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function n(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function o(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}try{Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}),Array.prototype.includes||(Array.prototype.includes=function(t){return!!~this.indexOf(t)})}catch(t){}var a,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,l=function(t){for(var e,n,r,i,o="",a=0,s=(t=String(t)).length%3;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");o+=u.charAt((e=n<<16|r<<8|i)>>18&63)+u.charAt(e>>12&63)+u.charAt(e>>6&63)+u.charAt(63&e)}return s?o.slice(0,s-3)+"===".substring(s):o},f={uint8ArrayToBase64:function(t){for(var e=[],n=0,r=t.length;n<r;n+=4096)e.push(String.fromCharCode.apply(null,t.subarray(n,n+4096)));return l(e.join(""))},encode:function(t){return function(t){return l(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){var n;return n="0x"+e,String.fromCharCode(n)})))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},decode:function(t){var e=(t=t.replace(/\-/g,"+").replace(/_/g,"/")).length%4;return e>0&&(t+="====".substring(e)),function(t){return decodeURIComponent(function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!c.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(3&t.length));for(var e,n,r,i="",o=0;o<t.length;)e=u.indexOf(t.charAt(o++))<<18|u.indexOf(t.charAt(o++))<<12|(n=u.indexOf(t.charAt(o++)))<<6|(r=u.indexOf(t.charAt(o++))),i+=64===n?String.fromCharCode(e>>16&255):64===r?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return i}(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t)}},p=Object.prototype.toString,h=f,d=function(t){return"[object Object]"===p.call(t)},g=function(t){return"[object Array]"===p.call(t)},v=function(t,e){var n;void 0===e&&(e=0);var r=[];return function(){for(var i=arguments,o=[],a=0;a<arguments.length;a++)o[a]=i[a];return clearTimeout(n),n=setTimeout((function(){var e=t.apply(void 0,o);r.forEach((function(t){return t(e)})),r=[]}),e),new Promise((function(t){return r.push(t)}))}},y=function(){return Date.now()+"-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},m=function t(){for(var e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];return 0===n.length?{}:n.length<2?n[0]:n.reduce((function(e,n){if(!d(e)||!d(n))return e;var r=e||{};return Object.entries(n).forEach((function(n){var i=n[0],a=n[1];if(void 0!==a)if(e[i])if(g(e[i])){if(!g(a))return void(r[i]=a);var s=g(a)?a:[a];r[i]=o(e[i],s)}else d(e[i])?r[i]=t(e[i],a):r[i]=a;else r[i]=a})),r}))},_=function(t){return!!/^[a-zA-Z\$_][a-zA-Z\d_]*$/.test(t)},b=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,w=function(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!b.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")},x=function(t){return isNaN(Number(t))?t:Number(t)},S=function(t){var e,n=t.replace(/^v/,"").replace(/\+.*$/,""),r=("-",-1===(e=n).indexOf("-")?e.length:e.indexOf("-")),i=n.substring(0,r).split(".");return i.push(n.substring(r+1)),i},k=function(t,e){[t,e].forEach(w);for(var n=S(t),r=S(e),i=0;i<Math.max(n.length-1,r.length-1);i++){var o=parseInt(n[i]||0,10),a=parseInt(r[i]||0,10);if(o>a)return 1;if(a>o)return-1}var s=n[n.length-1],u=r[r.length-1];if(s&&u){var c=s.split(".").map(x),l=u.split(".").map(x);for(i=0;i<Math.max(c.length,l.length);i++){if(void 0===c[i]||"string"==typeof l[i]&&"number"==typeof c[i])return-1;if(void 0===l[i]||"string"==typeof c[i]&&"number"==typeof l[i])return 1;if(c[i]>l[i])return 1;if(l[i]>c[i])return-1}}else if(s||u)return s?-1:1;return 0},T=function(t){if("string"==typeof t)return t;try{return(JSON.stringify(t,(e=[],n=[],function(t,r){if(r instanceof Error)return"Error.message: "+r.message+" \n  Error.stack: "+r.stack;if("object"==_typeof2(r)&&null!==r){var i=e.indexOf(r);if(-1!==i)return"[Circular "+n[i]+"]";e.push(r),n.push(t||"root")}return r}),4)||"undefined").replace(/"/gim,"")}catch(t){return"error happen when sdk stringify: \n "+t.message+" \n "+t.stack}var e,n},P=function(){return"undefined"!=typeof jd?jd:"undefined"!=typeof tt?tt:"undefined"!=typeof qq?qq:"undefined"!=typeof swan?swan:"undefined"!=typeof dd?dd:"undefined"!=typeof my?my:wx},O=function(){return"undefined"!=typeof dd?dd.httpRequest:P().request},A=function(t){function e(e){var n=t.call(this,e.request)||this;return n.stack=[],n.initialize=function(){return Promise.resolve(!0)},n.add=function(t){n.stack.push(t)},n.getItems=function(){return n.stack},n.unshift=function(t){var e;return(e=n.stack).unshift.apply(e,t)},n.clean=function(){var t=n.stack;return n.stack=[],t},n.checkQueue=function(){n.stack.length>100&&(n.stack=n.stack.slice(-100))},n.option=e,n.initialize(),n}return n(e,t),e.prototype.flush=function(t,e){var n=this;if(void 0===t&&(t={}),this.stack.length){var i=JSON.parse(JSON.stringify(t));i.idenTifier=i.idenTifier+e;var a=this.stack.map((function(t){return t.props=r(r({},t.props),i),t}));this.stack=[],this.request({events:a}).then((function(t){t.success||(n.stack=o(n.stack,a))})).catch((function(){n.stack=o(n.stack,a)}))}},e}((function(t){this.delay=100,this.upload=v(t,this.delay),this.request=t})),C="__SR_SDK_TRACKER__",E="TRACKS",j="USER_INFO",I="LOGID_EVENTS",R="IDENTIFIERUSER",D="REPORTING",L="PAUSED",U="SDK_INTERNAL_ERROR",B=["page","page_title","time","chan_wxapp_scene","chan_id","chan_refer_app_id","room_id"],M=["app_id","open_id","user_id","union_id","local_id"],N=P(),$=[],q=N.request,G=function(t){return $.forEach((function(e){var n;try{t.requestStartTime=Date.now(),null===(n=e.onStart)||void 0===n||n.call(e,t)}catch(t){}})),q(r(r({},t),{success:function(e){var n;$.forEach((function(n){var r;try{null===(r=n.success)||void 0===r||r.call(n,e,t)}catch(t){try{a("sdk_error_log",{_sdk_error_log:{message:"request success error",type:U,error:t.message}})}catch(t){}}})),null===(n=t.success)||void 0===n||n.call(t,e)},fail:function(e){var n;$.forEach((function(n){var r;try{null===(r=n.fail)||void 0===r||r.call(n,e,t)}catch(t){try{a("sdk_error_log",{_sdk_error_log:{message:"request fail error",type:U,error:t.message}})}catch(t){}}})),null===(n=t.fail)||void 0===n||n.call(t,e)},complete:function(e){var n;$.forEach((function(n){var r;try{null===(r=n.complete)||void 0===r||r.call(n,e,t)}catch(t){try{a("sdk_error_log",{_sdk_error_log:{message:"request complete error",type:U,error:t.message}})}catch(t){}}})),null===(n=t.complete)||void 0===n||n.call(t,e)}}))},F=!1,H=function(t,e){a||(a=e),!F&&function(){try{Object.defineProperty(N,"request",{get:function(){return G}})}catch(t){}finally{F=!0}}(),$.push(t)},z=P(),W=P(),V=[],J=W.requestPayment,Y=W.requestOrderPayment,K=function(t,e){var n=J;return"requestOrderPayment"==e&&(n=Y),V.forEach((function(e){var n;try{null===(n=e.onStart)||void 0===n||n.call(e,t)}catch(t){try{s("sdk_error_log",{_sdk_error_log:{message:"requestPayment onStart error",type:U,error:t.message}})}catch(t){}}})),n(r(r({},t),{success:function(e){var n;V.forEach((function(n){var r;try{null===(r=n.success)||void 0===r||r.call(n,e,t)}catch(t){try{s("sdk_error_log",{_sdk_error_log:{message:"requestPayment success error",type:U,error:t.message}})}catch(t){}}})),null===(n=t.success)||void 0===n||n.call(t,e)},fail:function(e){var n;V.forEach((function(n){var r;try{null===(r=n.fail)||void 0===r||r.call(n,e,t)}catch(t){try{s("sdk_error_log",{_sdk_error_log:{message:"requestPayment fail error",type:U,error:t.message}})}catch(t){}}})),null===(n=t.fail)||void 0===n||n.call(t,e)}}))},X=!1,Q=function(t,e,n){var r=n.value;return n.value=function(){var t;try{t=r.apply(this,arguments)}catch(t){try{var e=this.getServerUrl();this.request({type:"sdk api exec error",props:{sr_sdk_version:this.version,system_info:this.getSystemInfo(),framework_info:this.getFrameworkInfo(),message:(t||{}).message||t,stack:(t||{}).stack}},{url:e,method:"POST"})}catch(t){}}return t},n},Z=function(t,e,n){var r=n.value;return n.value=function(){if(this.inited)return r.apply(this,arguments)},n},et=function(){function t(){}return t.AddUnsigned=function(t,e){var n,r,i,o,a;return i=2147483648&t,o=2147483648&e,a=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^a^i^o:n|r?1073741824&a?3221225472^a^i^o:1073741824^a^i^o:a^i^o},t.FF=function(t,e,n,r,i,o,a){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.F(e,n,r),i),a)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.GG=function(t,e,n,r,i,o,a){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.G(e,n,r),i),a)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.HH=function(t,e,n,r,i,o,a){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.H(e,n,r),i),a)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.II=function(t,e,n,r,i,o,a){return t=this.AddUnsigned(t,this.AddUnsigned(this.AddUnsigned(this.I(e,n,r),i),a)),this.AddUnsigned(this.RotateLeft(t,o),e)},t.ConvertToWordArray=function(t){for(var e,n=t.length,r=n+8,i=16*((r-r%64)/64+1),o=Array(i-1),a=0,s=0;s<n;)a=s%4*8,o[e=(s-s%4)/4]=o[e]|t.charCodeAt(s)<<a,s++;return a=s%4*8,o[e=(s-s%4)/4]=o[e]|128<<a,o[i-2]=n<<3,o[i-1]=n>>>29,o},t.WordToHex=function(t){var e,n="",r="";for(e=0;e<=3;e++)n+=(r="0"+(t>>>8*e&255).toString(16)).substr(r.length-2,2);return n},t.Utf8Encode=function(t){var e,n="";t=t.replace(/\r\n/g,"\n");for(var r=0;r<t.length;r++)(e=t.charCodeAt(r))<128?n+=String.fromCharCode(e):e>127&&e<2048?(n+=String.fromCharCode(e>>6|192),n+=String.fromCharCode(63&e|128)):(n+=String.fromCharCode(e>>12|224),n+=String.fromCharCode(e>>6&63|128),n+=String.fromCharCode(63&e|128));return n},t.init=function(t){for("string"!=typeof t&&(t=JSON.stringify(t)),this._string=this.Utf8Encode(t),this.x=this.ConvertToWordArray(this._string),this.a=1732584193,this.b=4023233417,this.c=2562383102,this.d=271733878,this.k=0;this.k<this.x.length;this.k+=16)this.AA=this.a,this.BB=this.b,this.CC=this.c,this.DD=this.d,this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k],this.S11,3614090360),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+1],this.S12,3905402710),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S13,606105819),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+3],this.S14,3250441966),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S11,4118548399),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+5],this.S12,1200080426),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S13,2821735955),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+7],this.S14,4249261313),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S11,1770035416),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+9],this.S12,2336552879),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S13,4294925233),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+11],this.S14,2304563134),this.a=this.FF(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S11,1804603682),this.d=this.FF(this.d,this.a,this.b,this.c,this.x[this.k+13],this.S12,4254626195),this.c=this.FF(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S13,2792965006),this.b=this.FF(this.b,this.c,this.d,this.a,this.x[this.k+15],this.S14,1236535329),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S21,4129170786),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+6],this.S22,3225465664),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S23,643717713),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k],this.S24,3921069994),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S21,3593408605),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+10],this.S22,38016083),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S23,3634488961),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+4],this.S24,3889429448),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S21,568446438),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+14],this.S22,3275163606),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S23,4107603335),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+8],this.S24,1163531501),this.a=this.GG(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S21,2850285829),this.d=this.GG(this.d,this.a,this.b,this.c,this.x[this.k+2],this.S22,4243563512),this.c=this.GG(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S23,1735328473),this.b=this.GG(this.b,this.c,this.d,this.a,this.x[this.k+12],this.S24,2368359562),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+5],this.S31,4294588738),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+8],this.S32,2272392833),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+11],this.S33,1839030562),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+14],this.S34,4259657740),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+1],this.S31,2763975236),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+4],this.S32,1272893353),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+7],this.S33,4139469664),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+10],this.S34,3200236656),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+13],this.S31,681279174),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k],this.S32,3936430074),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+3],this.S33,3572445317),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+6],this.S34,76029189),this.a=this.HH(this.a,this.b,this.c,this.d,this.x[this.k+9],this.S31,3654602809),this.d=this.HH(this.d,this.a,this.b,this.c,this.x[this.k+12],this.S32,3873151461),this.c=this.HH(this.c,this.d,this.a,this.b,this.x[this.k+15],this.S33,530742520),this.b=this.HH(this.b,this.c,this.d,this.a,this.x[this.k+2],this.S34,3299628645),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k],this.S41,4096336452),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+7],this.S42,1126891415),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+14],this.S43,2878612391),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+5],this.S44,4237533241),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+12],this.S41,1700485571),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+3],this.S42,2399980690),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+10],this.S43,4293915773),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+1],this.S44,2240044497),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+8],this.S41,1873313359),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+15],this.S42,4264355552),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+6],this.S43,2734768916),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+13],this.S44,1309151649),this.a=this.II(this.a,this.b,this.c,this.d,this.x[this.k+4],this.S41,4149444226),this.d=this.II(this.d,this.a,this.b,this.c,this.x[this.k+11],this.S42,3174756917),this.c=this.II(this.c,this.d,this.a,this.b,this.x[this.k+2],this.S43,718787259),this.b=this.II(this.b,this.c,this.d,this.a,this.x[this.k+9],this.S44,3951481745),this.a=this.AddUnsigned(this.a,this.AA),this.b=this.AddUnsigned(this.b,this.BB),this.c=this.AddUnsigned(this.c,this.CC),this.d=this.AddUnsigned(this.d,this.DD);return(this.WordToHex(this.a)+this.WordToHex(this.b)+this.WordToHex(this.c)+this.WordToHex(this.d)).toLowerCase()},t.x=Array(),t.S11=7,t.S12=12,t.S13=17,t.S14=22,t.S21=5,t.S22=9,t.S23=14,t.S24=20,t.S31=4,t.S32=11,t.S33=16,t.S34=23,t.S41=6,t.S42=10,t.S43=15,t.S44=21,t.RotateLeft=function(t,e){return t<<e|t>>>32-e},t.F=function(t,e,n){return t&e|~t&n},t.G=function(t,e,n){return t&n|e&~n},t.H=function(t,e,n){return t^e^n},t.I=function(t,e,n){return e^(t|~n)},t}(),nt=P();function rt(){var t=getCurrentPages()||"";return t[t.length-1]||""}function it(t){var e="/";try{var n=rt();if(!n)return n;var r,i=n.route||n.__route__,o=n.options||{};for(var a in r=n.options||{},e=i+"?",o)"share"===t&&"txsrShareInfoSdk"===a||_(a)&&r[a]&&(e+=a+"="+o[a]+"&");e=e.substring(0,e.length-1)}catch(t){}return e}function ot(t){try{var e=rt();return e?(e.options,(e.options||{})[t]||""):e}catch(t){}return"/"}function at(){try{return("undefined"!=typeof tt?function(){var t,e=rt();try{var n,r=e.route||e.__route__;return n="undefined"!=typeof __ttConfig?__ttConfig.global.window.navigationBarTitleText:TMAConfig.global.window.navigationBarTitleText,(e?null===(t=__allConfig__[r])||void 0===t?void 0:t.navigationBarTitleText:"")||n}catch(t){}}():"undefined"!=typeof jd?function(){var t,e,n=rt();try{var r=__jdConfig.global.window.navigationBarTitleText;return(n?((null===(e=null===(t=__jdConfig.page)||void 0===t?void 0:t[n.route+".html"])||void 0===e?void 0:e.window)||{}).navigationBarTitleText:"")||r}catch(t){}}():function(){var t,e,n,r=rt();try{var i=__wxConfig.global.window.navigationBarTitleText,o=r?((null===(e=null===(t=__wxConfig.page)||void 0===t?void 0:t[r.route+".html"])||void 0===e?void 0:e.window)||{}).navigationBarTitleText:"",a=null===(n=null===__wxAppCode__||void 0===__wxAppCode__?void 0:__wxAppCode__[r.route+".json"])||void 0===n?void 0:n.navigationBarTitleText;return o||a||i}catch(t){}}())||"未知"}catch(t){}return"未知"}function st(t,e,n){try{var i=t[0],o=void 0===i?{}:i;if(o)switch(o.type){case"tap":case"longpress":case"longtap":case"confirm":var a=(o.currentTarget||{}).dataset,s=void 0===a?{}:a;0==Object.keys(s).length&&(s=o.target.dataset);var u=this||{},c=u.is,l=void 0===c?"":c;u.data,e("element",r({is_sdk_auto_track:!0,is:l,type:o.type,element_id:"#"+n},s))}}catch(t){}}function ut(){var t,e=(rt()||{}).route||"";try{t=nt.getStorageSync(C+"_production")}catch(t){}var n=t.USER_INFO||{},r=n.local_id,i=n.txsr_from_share_info,o=void 0===i?{}:i,a=o.mi,s=void 0===a?"":a,u=o.d,c=void 0===u?0:u,l=o.o,f=void 0===l?"":l,p=et.init(r+e),h=""!==s&&p===s?c:c+1;return s=et.init(r+e),0===c&&(f=s),JSON.stringify({mi:s,d:h,o:f})}function ct(t){return["qqFriends","qzone","fast","friends","timeline","recentContact"][parseInt(t)]||"friends"}var lt=function(t,e){return"boolean"==typeof t?t:void 0===(null==t?void 0:t[e])||(null==t?void 0:t[e])};function ft(t){return t.route||t.__route__||""}function pt(t){return t.route||t.__route__||""}var ht=P(),dt=O(),gt="";try{gt="1.10.1"}catch(t){}var vt=function(){function t(){var t=this;this.env="production",this.cachePrefix=C,this.inited=!1,this.option={},this.context={idenTifier:"-------"},this.idenTifierChanArr=B,this.idenTifierUserArr=M,this.reportState="WAITING",this.needCheckUrlInfo=[],this.autoProxyData={},this.remoteConfigInfo={masterSwitch:!0,isOpenProxyWxApi:!1},this.openTrack=function(){var t=this;this.checkFallback(),this.option.autoStart&&this.startReport(),setTimeout((function(){t.trackLogEvents()}),999)},this.initRemoteConfig=function(){try{var t=this;dt({url:"https://zhls.qq.com/open/sdk?token="+this.option.token,data:{},header:{"content-type":"json"},success:function(e){try{var n=e.data;if(t.remoteConfigInfo=m(t.remoteConfigInfo,n),t.track("sdk_config_info",{_sdk_config_info:t.remoteConfigInfo}),!t.remoteConfigInfo.masterSwitch)return;t.openTrack(),t.remoteConfigInfo.isOpenProxyWxApi&&t.openProxyWxApi()}catch(e){t.track("sdk_error_log",{_sdk_error_log:{message:"request proxyConfig success",type:U,error:e.message}}),t.openTrack()}},fail:function(e){t.track("sdk_error_log",{_sdk_error_log:{message:"request proxyConfig fail, url: https://zhls.qq.com/open/sdk?token="+t.option.token,type:U,error:e.errMsg}}),t.openTrack()}})}catch(t){this.track("sdk_error_log",{_sdk_error_log:{message:"request proxyConfig error, url: https://zhls.qq.com/open/sdk?token="+this.option.token,type:U,error:t.message}}),this.openTrack()}},this.openProxyWxApi=function(){var t=this;try{var e=r({},this.remoteConfigInfo);if(delete e.masterSwitch,delete e.isOpenProxyWxApi,!Object.keys(e).length)return;Object.keys(e).forEach((function(n){t.autoProxyData[n]={},e[n].forEach((function(e){t.autoProxyData[n][e.name]={_sr_track_url:"",_sr_track_body:""},e.value.forEach((function(r){t.needCheckUrlInfo.push({name:e.name,url:r.url,eventName:n,grabLocation:r.grabLocation})}))}))}))}catch(t){this.track("sdk_error_log",{_sdk_error_log:{message:"openProxyWxApi error",type:U,error:t.message}})}},this.hackAutoTrack=function(){var t=this;H({success:function(e,n){t.remoteConfigInfo.isOpenProxyWxApi&&t.checkRequestUrl(n.url).forEach((function(r){var i;if("request"===r.grabLocation){var o=function(t){var e="";void 0===t?e=decodeURI(location.search):t.split("?").length>1&&(e="?"+t.split("?")[1]);var n=new Object;if(-1!=e.indexOf("?"))for(var r=e.substr(1).split("&"),i=0;i<r.length;i++)n[r[i].split("=")[0]]=decodeURI(r[i].split("=")[1]);return n}(n.url);i=m(o,n.data)}else i=e.data;t.autoProxyData[r.eventName][r.name]._sr_track_body=i,t.autoProxyData[r.eventName][r.name]._sr_track_url=r.url,t.ckObjectFullFill(r.eventName)&&("custom_order"==r.eventName?t.track(r.eventName,{is_sdk_auto_track:!0,_auto_proxy_data:t.formatAutoData(r.eventName),order:{order_time:Number((new Date).getTime()),order_status:"give_order"}}):(t.track(r.eventName,{is_sdk_auto_track:!0,_auto_proxy_data:t.formatAutoData(r.eventName)}),t.clearProxyData(r.eventName)))}))}},this.track.bind(this)),function(t,e){s||(s=e),!X&&function(){try{Object.defineProperty(W,"requestPayment",{get:function(){return function(t){return K(t,"requestPayment")}}}),Object.defineProperty(W,"requestOrderPayment",{get:function(){return function(t){return K(t,"requestOrderPayment")}}})}catch(t){}finally{X=!0}}(),V.push(t)}({onStart:function(){t.remoteConfigInfo.isOpenProxyWxApi&&(t.ckObjectFullFill("custom_order")?t.track("custom_order",{is_sdk_auto_track:!0,_auto_proxy_data:t.formatAutoData("custom_order"),order:{order_time:Number((new Date).getTime()),order_status:"pay"}}):t.track("sdk_error_log",{_sdk_error_log:{message:"custom_order error",type:"ORDER_MISSING_ERROR",error:"Incomplete order"}}))},success:function(){t.remoteConfigInfo.isOpenProxyWxApi&&t.ckObjectFullFill("custom_order")&&(t.track("custom_order",{is_sdk_auto_track:!0,_auto_proxy_data:t.formatAutoData("custom_order"),order:{order_time:Number((new Date).getTime()),order_status:"payed"}}),t.clearProxyData("custom_order"))},fail:function(){t.remoteConfigInfo.isOpenProxyWxApi&&t.ckObjectFullFill("custom_order")&&t.track("custom_order",{is_sdk_auto_track:!0,_auto_proxy_data:t.formatAutoData("custom_order"),order:{order_time:Number((new Date).getTime()),order_status:"cancel_pay"}})}},this.track.bind(this))},this.clearProxyData=function(t){var e=this,n=Object.keys(this.autoProxyData[t]);0!==n.length&&n.forEach((function(n){try{e.autoProxyData[t][n]._sr_track_url="",e.autoProxyData[t][n]._sr_track_body=""}catch(t){e.track("sdk_error_log",{_sdk_error_log:{message:"clearProxyData error",type:U,error:t.message}})}}))},this.ckObjectFullFill=function(t){var e=this;if(void 0===this.autoProxyData[t])return!1;var n=Object.keys(this.autoProxyData[t]);if(0===n.length)return!1;var r=!0;return n.forEach((function(n){try{""==e.autoProxyData[t][n]._sr_track_body&&(r=!1)}catch(t){e.track("sdk_error_log",{_sdk_error_log:{message:"ckObjectFullFill error",type:U,error:t.message}})}})),r},this.checkRequestUrl=function(t){var e=[];return this.needCheckUrlInfo.forEach((function(n){t.includes(n.url)&&e.push(r({},n))})),e},this.formatAutoData=function(t){var e=this,n=r({},this.autoProxyData[t]);return Object.keys(n).forEach((function(t){try{n[t]=h.encode(JSON.stringify(n[t]))}catch(t){e.track("sdk_error_log",{_sdk_error_log:{message:"formatAutoData error",type:U,error:t.message}})}})),n},this.triggerFlush=v((function(){t.checkAndUpload()}),1e3),this.eventDataFmatter=function(e){var n=+new Date,i=t.getPageInfo();if(void 0!==t._onQueue){var o=t._onQueue(e);d(e)&&(e=o)}return r(r(r({},i),e),{time:n})},this.checkRequiredOptionItem=function(){return!!t.option.token||!!t.option.skipTokenCheck},this.checkVersionInfo=function(){if(t.setContext({sr_sdk_version:t.version},1),t.isDev()){var e="https://mp.zhls.qq.com/sdk/sr-sdk-version-info.json?timesamp="+Date.now();return t.request({},{url:e,method:"GET"}).then((function(e){var n=(e.data||{})[t.name],r=!0;if(n)return t.version&&(1===k(n.version.min,t.version)?r=!1:k(n.version.max,t.version)),{success:r,data:n,msg:""}})).catch((function(t){return void 0===t&&(t={}),{success:!1,data:void 0,msg:t.errMsg}}))}},this.queueInitialize=function(){var e=t.getServerUrl();return t.queue=new A({request:function(n){var i=n.events.map((function(e){return r(r({},e),{from:"undefined"!=typeof jd?"sr-sdk-jd":"undefined"!=typeof tt?"sr-sdk-bytedancemp":"undefined"!=typeof qq?"sr-sdk-qqmp":"undefined"!=typeof swan?"sr-sdk-baidu":"undefined"!=typeof dd?"sr-sdk-dd":"undefined"!=typeof my?"sr-sdk-alimp":"sr-sdk-wxapp",tracking_id:t.tracking_id,log_id:++t.log_id})}));return t.setCache(I,{last_tracking_id:t.tracking_id,last_max_log_id:t.log_id}),t.request(i,{url:e,method:"POST"}).catch((function(t){return"request:fail url not in domain list"===t.msg?r(r({},t),{success:!0}):t}))}}),!0},this.trackLogEvents=function(){var e=t.getCache(I)||{};return e.last_max_log_id?(t.track("logid_events",e),!0):(++t.log_id,!1)},this.tracking_id=y(),this.log_id=-1,this.checkStaticMethods()}return t.prototype.init=function(t){if(this.inited)return this;var e=ht.getStorageSync("__SR_SDK_TRACKER___production"),n=e&&e.USER_INFO&&e.USER_INFO.app_id||"";n&&n!==this.option.appid&&ht.removeStorageSync("__SR_SDK_TRACKER___production"),this.version=gt||"",this.option=m(this.defaultOptions,this.option,t);var r,i=_typeof2(t.autoProxy);if("object"===i){var o=t.autoProxy,a=o.openAutoTrackOpenId,s=void 0===a||a,u=o.openSdkShareDepth,c=void 0===u||u,l=o.openAutoTrackUnionId,f=void 0===l||l,p=o.autoTrack,h=void 0===p||p;this.option.proxyComponent=!0,this.option.proxyPage=!0,this.option.openAutoTrackOpenId=s,this.option.openSdkShareDepth=c,this.option.autoTrack=h,this.option.openAutoTrackUnionId=f,this.option.trackApp=!0}if("boolean"===i&&t.autoProxy&&(this.option.proxyComponent=!0,this.option.proxyPage=!0,this.option.openAutoTrackOpenId=!0,this.option.openAutoTrackUnionId=!0,this.option.autoTrack=!0,this.option.openSdkShareDepth=!0,this.option.trackApp=!0),!this.checkRequiredOptionItem())return this;this.cacheManagerInitialize();try{this.proxyInitialize()}catch(t){this.errorHandle(t)}return this.queueInitialize(),this.contextInitialize(),this.inited=!0,this.checkVersionInfo(),this.initRemoteConfig(),this.option.openProxyRequest&&this.hackAutoTrack(),this.option.openErrorMonitoring&&(r=this.track.bind(this),z.onError((function(t){t&&r("sdk_error_log",{_sdk_error_log:{message:"JS_RUN_ERROR",type:"JS_RUN_ERROR",error:t}})})),H({complete:function(t,e){var n=t.errMsg,i=t.statusCode,o=t.data,a="";n.indexOf("timeout")>-1?a="timeout":n.indexOf("fail")>-1?a="failed":i?i<0?a="failed":i>=400&&(a="error"):a="failed",a&&r("sdk_error_log",{_sdk_error_log:{message:"AJAX_ERROR",type:"AJAX_ERROR",error:{AJAX_ERROR:"request "+a,resStatus:i||0,resDuration:Date.now()-e.requestStartTime,resData:T(o),reqUrl:e.url,reqMethod:e.method||"get",reqParam:T(e.data),errMsg:n.slice(0,1e3)}}})}},r)),this},t.prototype.track=function(t,e){if(this.remoteConfigInfo.masterSwitch){var n=this.option.debug;JSON.stringify(e||{}).length;var r=this.eventDataFmatter(e);return n&&console&&console.log,this.queue.add({type:t,props:r}),this.queue.checkQueue(),(this.queue.getItems().length||0)>9&&this.reportState===D?this.flush():this.triggerFlush(),this}},t.prototype.setContext=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=!1),n&&this.flush(),void 0!==t.sr_sdk_version&&0===e&&delete t.sr_sdk_version,this.context=r(r(r({},this.context),t),{wx_user:r(r({},this.context.wx_user),t.wx_user||{}),chan:r(r({},this.context.chan),t.chan||{})}),this.setIdenTifier({value:r({},t),type:"context",isSr:e}),this},t.prototype.setUser=function(t,e,n){return void 0===t&&(t={}),void 0===e&&(e=0),void 0===n&&(n=!1),n&&this.flush(),this.context=Object.assign({},this.context,{wx_user:r(r({},this.context.wx_user),t)}),this.setIdenTifier({value:r({},t),type:"user",isSr:e}),this.setCache(j,this.context.wx_user),this},t.prototype.setChan=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1),n&&this.flush();var i=t.chan_id,o=(this.context.chan||{}).chan_id;return this.context=Object.assign({},this.context,{chan:r(r(r({},this.context.chan),t),{chan_id:i||o||""})}),this.setIdenTifier({value:r({},t),type:"chan",isSr:e}),this},t.prototype.setComponent=function(t){var e=t.component_id,n=t.component_name;return this.context=Object.assign({},this.context,{component:r(r({},t),{component_id:e,component_name:n})}),this},t.prototype.clearComponent=function(){return delete this.context.component,this},t.prototype.setActivityInfo=function(t){var e=t.activity_id,n=t.activity_name,i=t.activity_type,o=t.activity_index;return this.context=Object.assign({},this.context,{activity_info:r(r({},t),{activity_id:e,activity_name:n,activity_type:i,activity_index:o})}),this},t.prototype.clearActivityInfo=function(){return delete this.context.activity_info,this},t.prototype.startReport=function(){return this.reportState=D,this.triggerFlush(),this},t.prototype.resumeReport=function(){var t=this.getCache(E)||[];return this.queue.unshift(t),this.reportState===L&&(this.reportState=D),this.triggerFlush(),this},t.prototype.pauseReport=function(){return this.reportState=L,this.setCache(E,this.queue.clean()),this},t.prototype.flush=function(){return this.queue.flush(this.context,this.getCache(R)),this},t.prototype.onQueue=function(t){return this._onQueue=t,this},t.prototype.getInfo=function(){var t={option:this.option,tracking_id:this.tracking_id,context:this.context,is_dev:this.isDev()};return"SR_SDK_INFO="+h.encode(JSON.stringify(t))},t.prototype.getLocalId=function(){return this.context.wx_user.local_id||""},t.prototype.getWxUserInfo=function(){return r({},this.context.wx_user)},t.prototype.getChanInfo=function(){return r({},this.context.chan)},t.prototype.getPagePathInfo=function(){return it()||""},t.prototype.checkStaticMethods=function(){if("development"===this.env)try{var t=this.constructor;["create"].forEach((function(e){t[e]}))}catch(t){}},t.prototype.checkFallback=function(){var t=this;setTimeout((function(){t.checkAndUpload(),t.checkFallback()}),1e4)},t.prototype.checkAndUpload=function(){this.reportState===D&&this.flush()},t.prototype.contextInitialize=function(){var t=this.getUser(),e=this.getSystemInfo(),n=e.brand,i=e.model,o=e.version,a=e.environment,s=e.screenWidth,u=e.screenHeight,c=e.system,l=e.platform,f=e.SDKVersion,p=e.benchmarkLevel,h=e.locationReducedAccuracy,d=this.getFrameworkInfo();this.context=m(this.context,{wx_user:r(r({},t),{app_id:this.option.appid}),system_info:{brand:n,model:i,version:o,environment:a,screenWidth:s,screenHeight:u,system:c,platform:l,SDKVersion:f,benchmarkLevel:p,LRA:h},framework_info:d,chan:{}}),this.setIdenTifier({value:{app_id:this.option.appid},type:"user",isSr:1})},t.prototype.rleitrValue=function(t,e,n){var r=t.split("");return r[e]=n,r.join("")},t.prototype.setuserchanItr=function(t,e,n){var r=this,i=this.getCache(R)||"-----";Object.keys(t).forEach((function(t,o){"user"===e&&-1!==r.idenTifierUserArr.indexOf(t)&&r.setCache(R,r.rleitrValue(i,r.idenTifierUserArr.indexOf(t),n)),"chan"===e&&-1!==r.idenTifierChanArr.indexOf(t)&&(r.context.idenTifier=r.rleitrValue(r.context.idenTifier,r.idenTifierChanArr.indexOf(t),n))}))},t.prototype.setcontextItr=function(t,e){t.wx_user&&this.setuserchanItr(r({},t.wx_user),"user",e),t.chan&&this.setuserchanItr(r({},t.chan),"chan",e),delete t.wx_user,delete t.chan,this.setuserchanItr(r({},t),"chan",e)},t.prototype.setIdenTifier=function(t){var e=t.value,n=t.type,r=t.isSr;switch(n){case"context":this.setcontextItr(e,r);break;default:this.setuserchanItr(e,n,r)}},t.prototype.getUser=function(){var t=this.context.wx_user||this.getCache(j)||{};return t.local_id&&50===t.local_id.length||(t={local_id:y()},this.setIdenTifier({value:r({},t),type:"user",isSr:1}),this.setCache(j,t)),t},t.prototype.cacheManagerInitialize=function(){var t=this.getCacheManager();this.cacheManager=t},t.prototype.getCache=function(t){return this.cacheManager?(this.cacheManager.get(C)||{})[t]:{}},t.prototype.setCache=function(t,e){var n;this.cacheManager;var i=r(r({},this.cacheManager.get(C)||{}),((n={})[t]=e,n));this.cacheManager.set(C,i)},t.prototype.getServerUrl=function(){return("function"==typeof this.option.serverUrl?this.option.serverUrl.call(this):this.option.serverUrl||"https://zhls.qq.com/api/report")+"?token="+this.option.token},t.prototype.getTrackingId=function(){return this.tracking_id},i([Q],t.prototype,"init",null),i([Q,Z],t.prototype,"track",null),i([Q,Z],t.prototype,"setContext",null),i([Q,Z],t.prototype,"setUser",null),i([Q,Z],t.prototype,"setChan",null),i([Q,Z],t.prototype,"setComponent",null),i([Q,Z],t.prototype,"clearComponent",null),i([Q,Z],t.prototype,"setActivityInfo",null),i([Q,Z],t.prototype,"clearActivityInfo",null),i([Q,Z],t.prototype,"startReport",null),i([Q,Z],t.prototype,"resumeReport",null),i([Q,Z],t.prototype,"pauseReport",null),i([Q,Z],t.prototype,"flush",null),i([Q,Z],t.prototype,"onQueue",null),i([Q,Z],t.prototype,"getInfo",null),i([Q,Z],t.prototype,"getLocalId",null),i([Q,Z],t.prototype,"getWxUserInfo",null),i([Q,Z],t.prototype,"getChanInfo",null),i([Q,Z],t.prototype,"getPagePathInfo",null),t}();function yt(t,e,n,r){void 0===r&&(r=!1);var i=t[e];t[e]=function(){for(var t=arguments,e=this,a=[],s=0;s<arguments.length;s++)a[s]=t[s];var u=function(){return i&&i.apply(e,a)};return r&&(u=function(){return Promise.resolve().then((function(){return i.apply(e,a)}))}),n.apply(this,o([u],a))}}for(var mt=function(){},_t={},bt={},wt=function(){return(new Date).getTime()},xt=function(){},St={},kt={},Tt=function(){return(new Date).getTime()},Pt=["utf8","utf-8","unicode-1-1-utf-8"],Ot=new Uint8Array(256),At=0;At<Ot.length;++At)Ot[At]=At;var Ct=new function(t){if(Pt.indexOf(t)<0)throw new RangeError("Invalid encoding type. Only utf-8 is supported");this.encoding="utf-8",this.encode=function(t){if("string"!=typeof t)throw new TypeError("passed argument must be of tye string");for(var e=unescape(encodeURIComponent(t)),n=new Uint8Array(e.length),r=e.split(""),i=0;i<r.length;i++)n[i]=r[i].charCodeAt(0);return n}}("utf-8");function Et(){}Et.prototype.encrypt=function(t,e){return function(t,e){for(var n,r=t.length,i=new Uint8Array(r),o=0,a=0,s=0;s<r;++s)a=a+e[o=o+1&255]&255,n=e[o],e[o]=e[a],e[a]=n,i[s]=t[s]^e[e[o]+e[a]&255];return i}(Ct.encode(t),function(t){for(var e=new Uint8Array(256),n=0;n<256;++n)e[n]=n;var r,i=0;for(n=0;n<256;++n)i=i+e[n]+t[n%t.length]&255,r=e[n],e[n]=e[i],e[i]=r;return e}(Ct.encode(e)))};var jt=new Et,It={},Rt=function(t){return t},Dt=P(),Lt=O(),Ut=function(t){function i(){var e=t.call(this)||this;return e.name="mp",e.component=Rt,e.page=Rt,e.proxySetNavigation=function(){try{var t=Dt.setNavigationBarTitle;Object.defineProperty(Dt,"setNavigationBarTitle",{get:function(){return function(e){void 0===e&&(e={});try{var n=rt();try{__wxConfig.page=__wxConfig.page||{}}catch(t){}var r=__wxConfig.page[n.route+".html"];r&&((r.window||{}).navigationBarTitleText=e.title)}catch(t){}t.call(this,e)}}})}catch(t){}},e.request=function(t,n){try{var r=function(t){return void 0===t&&(t={}),0===t.code};"function"==typeof e.option.onUploaded&&(r=e.option.onUploaded);var i={},o={};if(e.option.encrypt){var a=y(),s=jt.encrypt(JSON.stringify(t),a);o={"Content-Type":"application/x-sr-encrypted","Content-Encrypting-Key":a},i=f.uint8ArrayToBase64(s)}else i=t;return new Promise((function(t,e){Lt({url:n.url,method:n.method||"POST",data:i,header:o,success:function(e){void 0===e&&(e={});var n=e.data,i=void 0===n?{}:n,o=r(i);t({success:void 0===o||o,data:i.data||i,msg:i.errMsg})},fail:function(t){e({success:!1,data:void 0,msg:t.errMsg})}})}))}catch(t){}},e.defaultOptions={autoProxy:!0,autoStart:!0,debug:!1,encrypt:!1,usePlugin:!1,proxyPage:!1,proxyComponent:!1,autoTrack:!1,trackApp:!0,openSdkShareDepth:!1,installFrom:"",openAutoTrackOpenId:!1,openAutoTrackUnionId:!1,openErrorMonitoring:!1,openProxyRequest:!1},e.proxySetNavigation(),e}return n(i,t),i.prototype.getCacheManager=function(){var t=""+this.env,e=function(e){return e+"_"+t};return{get:function(t){var n;try{n="undefined"!=typeof my?Dt.getStorageSync({key:e(t)}).data:Dt.getStorageSync(e(t))}catch(t){return n}return n},set:function(t,n){try{"undefined"!=typeof my?Dt.setStorageSync({key:e(t),data:n}):Dt.setStorageSync(e(t),n)}catch(t){return!1}return!0}}},i.prototype.proxyInitialize=function(){return Ut.options=this.option,this.trackApp(),!0},i.prototype.trackApp=function(){var t=this,e=!1;Dt.onAppShow((function(n){void 0===n&&(n={});var i=n,o=i.query,a=void 0===o?{}:o,s=i.path,u=i.shareTicket,c=t.option.openSdkShareDepth,l=t.option.openAutoTrackOpenId,f=t.option.openAutoTrackUnionId,p=t.option.appid,h=function(t){void 0===t&&(t={});var e={};if("undefined"!=typeof tt&&Object.keys(t).includes("[object Object]")&&delete t["[object Object]"],t.scene){try{var n=decodeURIComponent(t.scene);(n=n.replace("?","").trim()).split("&").map((function(t){if(t){var n=t.split("="),r=n[0],i=n[1];_(r)&&(e[r]=void 0===i||i)}}))}catch(t){}t=r(r({},t),e)}return t}(a||{}),d=h.txsrShareInfoSdk||"{}",g=t;if(h&&"{}"!==JSON.stringify(h)){var v="?";Object.entries(h).forEach((function(t,e){var n=t[0],r=t[1];v+=(0===e?"":"&")+n+"="+r})),s+=v}if(t.setChan(r(r({},h),{chan_wxapp_scene:n.scene,chan_refer_app_id:(n.referrerInfo||{}).appId}),1),h.chan_id&&t.setChan({chan_id:h.chan_id},1),c&&"{}"!==d)try{t.setUser({txsr_from_share_info:JSON.parse(decodeURIComponent(d))},1)}catch(t){}e||(e=!0,t.option.trackApp&&lt(t.option.autoProxy,"app_launch")&&t.track("app_launch",{is_sdk_auto_track:!0,page:s}));var y=(t.cacheManager.get(C)||{}).USER_INFO||{},m=y.open_id,b=void 0===m?"":m,w=y.union_id;if(l&&!b||f&&(void 0===w||!w))try{Dt.login({success:function(t){var e=t.code;Lt({url:"https://zhls.qq.com/wxlogin/getOpenId?appid="+p+"&js_code="+e,data:{},header:{"content-type":"application/json"},success:function(t){var e=t.data,n=e.openId,r=e.unionId,i=void 0===r?"":r;g.setUser({open_id:n,union_id:i},1),c&&u&&n&&g.getOpenGId(u,n)}})}})}catch(e){t.errorHandle(e)}c&&u&&b&&t.getOpenGId(u,b),t.option.trackApp&&lt(t.option.autoProxy,"app_show")&&t.track("app_show",{is_sdk_auto_track:!0,page:s})})),Dt.onAppHide((function(){t.option.trackApp&&lt(t.option.autoProxy,"app_exit")&&t.track("exit_wxapp",{is_sdk_auto_track:!0})}))},i.prototype.getOpenGId=function(t,e){var n=this.option.appid,r=this;Dt.getShareInfo({shareTicket:t,success:function(t){var i=t.iv,o=t.encryptedData;Lt({url:"https://zhls.qq.com/wxlogin/convertData",data:{appid:n,openid:e,data:o,iv:i},header:{"content-type":"application/json"},success:function(t){var e=(t&&t.data).openGId;e&&r.setChan({openGId:e},1)}})},fail:function(t){}})},i.prototype.errorHandle=function(t){try{var e=this.getServerUrl();this.request({type:"sdk api exec error",props:{sr_sdk_version:this.version,system_info:this.getSystemInfo(),framework_info:this.getFrameworkInfo(),message:t,stack:t}},{url:e,method:"POST"})}catch(t){}},i.prototype.getSystemInfo=function(){try{return Dt.getSystemInfoSync()}catch(t){return{}}},i.prototype.getFrameworkInfo=function(){var t,n;try{if(e&&Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"})&&Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).TARO_ENV&&(t="taro"),this.option.installFrom){var r=String(this.option.installFrom).toLowerCase(),i=/^((taro)|(uni[\-]?app)|(chameleon)|(wepy)|(mpvue))(@v?([\S]*))?/g.exec(r);i&&i[1]&&("taro"===t&&i[2]?n=i[8]:"taro"!==t&&(n=i[8],t=i[3]?"uni-app":i[4]||i[5]||i[6]||"unknown"))}}catch(n){t="unknown"}return{framework:t,version:n}},i.prototype.getPageInfo=function(){var t=it(),e=rt()||{},n=at,r=(e.data||{}).title||e.title;try{void 0===r&&t&&!It[t]&&(It[t]=!0),"string"==typeof r&&(n=function(){return r}),"function"==typeof r&&(n=r)}catch(t){}return{page:t,page_title:n()}},i.prototype.isDev=function(){return"devtools"===function(){try{return"undefined"==typeof __wxConfig?"":__wxConfig.platform}catch(t){}return""}()},i.create=function(){var t;try{t=new i}catch(e){t=i.prototype}return t},i}(vt).create(),Bt=Page,Mt=Component;return Page=function(t){if(Ut.option.proxyPage){var e=function(t,e,n,r,i,o){return function(a){return function(t,e,n,r,i,o,a){if(yt(t,"onLoad",(function(t,e){t(),this.lauchTime=wt()})),lt(a,"browse_page")&&yt(t,"onShow",(function(t){var r=this,i=function(){var t=ft(r);r.showTime=wt();var i=ot.call(r,"room_id")||ot.call(r,"roomId")||ot.call(r,"roomid");i&&n({room_id:i},1),e("browse_wxapp_page",{is_sdk_auto_track:!0,refer_page:pt(bt),is_newly_open:!_t[t]}),_t[t]=!0};t().then(i).catch(i)}),!0),lt(a,"leave_page")&&yt(t,"onHide",(function(t){t();var n=this.showTime?wt()-this.showTime:0;n=n>144e5?0:n,this.showTime=0,e("leave_wxapp_page",{is_sdk_auto_track:!0,refer_page:pt(bt),stay_time:n}),bt=this,r({refer_page:ft(this)})})),lt(a,"leave_page")&&yt(t,"onUnload",(function(t){t();var n=this.showTime?wt()-this.showTime:0;n=n>144e5?0:n,e("leave_wxapp_page",{is_sdk_auto_track:!0,refer_page:pt(bt),stay_time:n}),bt=this,r({refer_page:ft(this)})})),lt(a,"page_pull_down_refresh")&&yt(t,"onPullDownRefresh",(function(t){t(),e("page_pull_down_refresh",{is_sdk_auto_track:!0})})),lt(a,"page_reach_bottom")&&yt(t,"onReachBottom",(function(t){t(),e("page_reach_bottom",{is_sdk_auto_track:!0})})),lt(a,"page_share_app_message")){if("function"==typeof t.onShareAppMessage){var s=t.onShareAppMessage||mt;t.onShareAppMessage=function(t){void 0===t&&(t={});var n=s.call(this,t)||{};try{var r=n.path||it.call(this,"share");-1===r.indexOf("?")?r+="?":"&"!==r.slice(-1)&&(r+="&");var i=void 0,a=void 0;o&&(i=ut(),a=JSON.parse(i),r=r+"txsrShareInfoSdk="+encodeURIComponent(i)),e("page_share_app_message",{is_sdk_auto_track:!0,from_type:t.from||"未知",share_to:ct(t.shareTarget),share_path:r,share_title:n.title,share_image_url:n.imageUrl,refer_page:pt(bt),txsr_share_info_sdk:a}),n.path=r}catch(t){}return n}}if("function"==typeof t.onShareTimeline){var u=t.onShareTimeline||mt;t.onShareTimeline=function(t){void 0===t&&(t={});var n=u.call(this,t)||{};try{var r=n.path||it.call(this,"share"),i=n.query||"";-1===r.indexOf("?")?r+="?":"&"!==r.slice(-1)&&(r+="&");var a=void 0,s=void 0;o&&(a=ut(),s=JSON.parse(a),r=r+"txsrShareInfoSdk="+encodeURIComponent(a)),e("page_share_app_message",{is_sdk_auto_track:!0,from_type:t.from||"未知",share_to:"timeline",query:i,share_path:r,share_title:n.title,share_image_url:n.imageUrl,refer_page:pt(bt),txsr_share_info_sdk:s}),n.path=r}catch(t){}return n}}}return i&&Object.entries(t).filter((function(t){var e=t[0];return t[1],!["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onPageScroll","onShareAppMessage","onResize","onTabItemTap"].includes(e)})).forEach((function(n){var r=n[0];"function"==typeof n[1]&&yt(t,r,(function(t){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return st.call(this,i,e,r),t()}))})),t}(a,t,e,n,r,i,o)}}(Ut.track.bind(Ut),Ut.setChan.bind(Ut),Ut.setContext.bind(Ut),Ut.option.autoTrack,Ut.option.openSdkShareDepth,Ut.option.autoProxy);Bt(e(t))}else Bt(t)},Page.after=Bt.after,Component=function(t){if(Ut.option.proxyComponent){var e=function(t,e,n,r,i,o){return function(a){return function(t,e,n,r,i,o,a){try{if(t.methods=t.methods||{},yt(t.methods,"onLoad",(function(t,e){t(),this.lauchTime=Tt()})),lt(a,"browse_page")&&yt(t.methods,"onShow",(function(t){var r=this,i=function(){var t=ft(r);r.showTime=Tt();var i=ot.call(r,"room_id")||ot.call(r,"roomId")||ot.call(r,"roomid");i&&n({room_id:i},1),e("browse_wxapp_page",{is_sdk_auto_track:!0,refer_page:pt(kt),is_newly_open:!St[t]}),St[t]=!0};t().then(i).catch(i)}),!0),lt(a,"leave_page")&&yt(t.methods,"onUnload",(function(t){t();var n=this.showTime?Tt()-this.showTime:0;n=n>144e5?0:n,e("leave_wxapp_page",{is_sdk_auto_track:!0,refer_page:pt(kt),stay_time:n}),kt=this,r({refer_page:ft(this)})})),lt(a,"page_pull_down_refresh")&&yt(t.methods,"onPullDownRefresh",(function(t){t(),e("page_pull_down_refresh",{is_sdk_auto_track:!0})})),lt(a,"page_reach_bottom")&&yt(t.methods,"onReachBottom",(function(t){t(),e("page_reach_bottom",{is_sdk_auto_track:!0})})),lt(a,"leave_page")&&yt(t.methods,"onHide",(function(t){t();var n=this.showTime?Tt()-this.showTime:0;n=n>144e5?0:n,this.showTime=0,e("leave_wxapp_page",{is_sdk_auto_track:!0,refer_page:pt(kt),stay_time:n}),kt=this,r({refer_page:ft(this)})})),lt(a,"page_share_app_message")){if("function"==typeof t.methods.onShareAppMessage){var s=t.methods.onShareAppMessage||xt;t.methods.onShareAppMessage=function(t){void 0===t&&(t={});var n=s.call(this,t)||{};try{var r=n.path||it.call(this,"share");-1===r.indexOf("?")?r+="?":"&"!==r.slice(-1)&&(r+="&");var i=void 0,a=void 0;o&&(i=ut(),a=JSON.parse(i),r=r+"txsrShareInfoSdk="+encodeURIComponent(i)),e("page_share_app_message",{is_sdk_auto_track:!0,from_type:t.from||"未知",share_to:"friends",share_path:r,share_title:n.title,share_image_url:n.imageUrl,refer_page:pt(kt),txsr_share_info_sdk:a}),n.path=r}catch(t){}return n}}if("function"==typeof t.methods.onShareTimeline){var u=t.methods.onShareTimeline||xt;t.methods.onShareTimeline=function(t){void 0===t&&(t={});var n=u.call(this,t)||{};try{var r=n.path||it.call(this,"share"),i=n.query||"";-1===r.indexOf("?")?r+="?":"&"!==r.slice(-1)&&(r+="&");var a=void 0,s=void 0;o&&(a=ut(),s=JSON.parse(a),r=r+"txsrShareInfoSdk="+encodeURIComponent(a)),e("page_share_app_message",{is_sdk_auto_track:!0,from_type:t.from||"未知",share_to:ct(t.shareTarget),share_path:r,query:i,share_title:n.title,share_image_url:n.imageUrl,refer_page:pt(kt),txsr_share_info_sdk:s}),n.path=r}catch(t){}return n}}}t.methods&&i&&Object.entries(t.methods).filter((function(t){var e=t[0];return t[1],!["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onPageScroll","onShareAppMessage","onResize","onTabItemTap","observer"].includes(e)})).forEach((function(n){var r=n[0];"function"==typeof n[1]&&yt(t.methods,r,(function(t){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return st.call(this,i,e,r),t()}))}))}catch(t){}return t}(a,t,e,n,r,i,o)}}(Ut.track.bind(Ut),Ut.setChan.bind(Ut),Ut.setContext.bind(Ut),Ut.option.autoTrack,Ut.option.openSdkShareDepth,Ut.option.autoProxy);return Mt(e(t))}return Mt(t)},Component.after=Mt.after,Ut}))}).call(this,n("4362"))},"365c":function(t,e,n){var r=u(n("3a57")),i=u(n("36d1")),o=u(n("cf7d")),a=u(n("b570")),s=u(n("835e"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return c="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},c(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=f(f(f(f(f({},r.default),i.default),o.default),a.default),s.default)},"36d1":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("2934");e.default={smartAddress:function(t){return(0,r.promiseApi)("new/sg/address/smart",t,"POST")},addressList:function(t){return(0,r.promiseApi)("new/sg/address/list",t,"GET")},add_address:function(t){return(0,r.promiseApi)("new/sg/address/add",t,"POST")},updateAddress:function(t){return(0,r.promiseApi)("new/sg/address/alter",t,"POST")},deleteAddress:function(t){return(0,r.promiseApi)("new/sg/address/delete",t,"POST")},specialStpre:function(t){return(0,r.promiseApi)("new/sg/store/oms_recommend_store_dt",t,"POST")}}},3729:function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},3763:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.weekTaskRules=e.vipBenefitsRuleUrl=e.todayTaskRules=e.timeLimitTaskRules=e.taskActUrl=e.specialUpdateTaskUrl=e.specialConsumeTaskUrl=e.rouseRuleUrl=void 0;var r=n("b775");e.timeLimitTaskRules=r.isProd?"file/task/time_limit_task_rules.json":"file/task/time_limit_task_rules_test.json",e.todayTaskRules=r.isProd?"file/task/today_task_rules.json":"file/task/today_task_rules_test.json",e.weekTaskRules=r.isProd?"file/task/week_task_rules.json":"file/task/week_task_rules_test.json",e.taskActUrl=r.isProd?"v230/config/home_page_online.json":"v230/config/home_page_test.json",e.rouseRuleUrl=(r.isProd,"task/task_new/rouse_rule.json"),e.specialConsumeTaskUrl="file/task/special_consume_task_rules.json",e.specialUpdateTaskUrl="file/task/special_update_task_rules.json",e.vipBenefitsRuleUrl="vipBenefits/rule/rules.json"},3818:function(t,e,n){var r=n("7e64"),i=n("8057"),o=n("32b3"),a=n("5b01"),s=n("0f0f"),u=n("e538"),c=n("4359"),l=n("54eb"),f=n("1041"),p=n("a994"),h=n("1bac"),d=n("42a2"),g=n("c87c"),v=n("c2b6"),y=n("fa21"),m=n("6747"),_=n("0d24"),b=n("cc45"),w=n("1a8c"),x=n("d7ee"),S=n("ec69"),k=n("9934"),T="[object Arguments]",P="[object Function]",O="[object Object]",A={};A[T]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[O]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[P]=A["[object WeakMap]"]=!1,t.exports=function t(e,n,C,E,j,I){var R,D=1&n,L=2&n,U=4&n;if(C&&(R=j?C(e,E,j,I):C(e)),void 0!==R)return R;if(!w(e))return e;var B=m(e);if(B){if(R=g(e),!D)return c(e,R)}else{var M=d(e),N=M==P||"[object GeneratorFunction]"==M;if(_(e))return u(e,D);if(M==O||M==T||N&&!j){if(R=L||N?{}:y(e),!D)return L?f(e,s(R,e)):l(e,a(R,e))}else{if(!A[M])return j?e:{};R=v(e,M,D)}}I||(I=new r);var $=I.get(e);if($)return $;I.set(e,R),x(e)?e.forEach((function(r){R.add(t(r,n,C,r,e,I))})):b(e)&&e.forEach((function(r,i){R.set(i,t(r,n,C,i,e,I))}));var q=B?void 0:(U?L?h:p:L?k:S)(e);return i(q||e,(function(r,i){q&&(r=e[i=r]),o(R,i,t(r,n,C,i,e,I))})),R}},3822:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.abKing=e.abFollow=e.abDrawBox=e.abBoxGoods=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("8916"));var i=function(t){t.usePlugin(r.default,{url:"https://abtest-tx-beijing-01.saas.sensorsdata.cn/api/v2/abtest/online/results?project-key=5262A59D52A8C7BE765A70626DBB97B3A8A002BB"})};e.abKing=function(t){return new Promise((function(e,n){i(t),r.default.fastFetchABTest({param_name:"icontest",default_value:0,value_type:"Number",callback:function(t){e(t)}})}))},e.abFollow=function(t){return new Promise((function(e,n){i(t),r.default.fastFetchABTest({param_name:"follow",default_value:"",value_type:"String",callback:function(t){e(t)}})}))},e.abBoxGoods=function(t){return new Promise((function(e,n){i(t),r.default.fastFetchABTest({param_name:"goods",default_value:"",value_type:"String",callback:function(t){e(t)}})}))},e.abDrawBox=function(t){return new Promise((function(e,n){i(t),r.default.fastFetchABTest({param_name:"draw_box_new",default_value:1,value_type:"Number",callback:function(t){e(t)}})}))}},"384d":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.jsonBoxonlineRecommend=e.boxActPopupConfig=e.actPopupConfig=void 0;var r=n("b775");e.actPopupConfig=r.isProd?"file/robot/popup_config.json":"file/robot/popup_config_test.json",e.boxActPopupConfig=r.isProd?"file/robot/box_popup.json":"file/robot/box_popup_test.json",e.jsonBoxonlineRecommend=r.isProd?"boxonline/popmartvip/recommend.json":"boxonline/popmartvip/recommend-stage.json"},"3a57":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=n("92e3"),o=n("25c0"),a=n("ad98"),s=n("e666"),u=n("d96b"),c=n("477b"),l=n("89a3"),f=n("556d"),p=n("5729"),h=n("2934");function d(t){return(d="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function g(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==d(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){return(0,h.promiseApi)(p.eventUrl,t,"GET")};e.default=(g(g(g(g(g(g(g(g(g(g(r={goGetOmsStore:function(t){return(0,h.promiseApi)(i.omsRecommendStore,t,"GET")},goGetOmsRecommendStoreV2:function(t){return(0,h.promiseApi)(i.omsRecommendStoreV2,t,"GET")},goGetSquirrelUser:function(t){return(0,h.promiseApi)(o.getSquirrelUser,t)},goGetBenefitsHint:function(t){return(0,h.promiseApi)(o.getBenefitsHint,t)},goHideBenefitsHint:function(t){return(0,h.promiseApi)(o.hideBenefitsHint,t)},goUserBenefitsSubscribe:function(t){return(0,h.promiseApi)(o.userBenefitsSubscribe,t)},goQueryBenefitsSubscribe:function(t){return(0,h.promiseApi)(o.queryBenefitsSubscribe,t,"GET")},goAddWechatGroup:function(t){return(0,h.promiseApi)(s.addWechatGroup,t,"GET")},getPromotion:function(t){return(0,h.promiseApi)(a.giftPromotionUrl,t,"GET")},getOrderPromotion:function(t){return(0,h.promiseApi)(a.orderPromotionUrl,t,"POST")},getCartPromotion:function(t){return(0,h.promiseApi)(a.cartPromotionUrl,t,"POST")},getPackageAct:function(t){return(0,h.promiseApi)(s.packageActUrl,t,"POST")},packageLottery:function(t){return(0,h.promiseApi)(s.packageLotteryUrl,t,"POST")},goGetNewGoodsList:function(t){return(0,h.promiseApi)(i.newGoodsList,t)},goGetNewGoodsBanners:function(t){return(0,h.promiseApi)(i.newGoodsBanners,t,"GET",!0)},goPostNewGoodsSubscribe:function(t){return(0,h.promiseApi)(i.newGoodsSubscribe,t)},goPostNewHistoryGoods:function(t){return(0,h.promiseApi)("new/sg/goods/new_list_by_month",t)},goPostNewGoodsIsSell:function(t){return(0,h.promiseApi)(i.newGoodsIsSell,t)},goGetIpList:function(t){return(0,h.promiseApi)(i.ipList,t,"GET")},goGetIpGoodsList:function(t){return(0,h.promiseApi)(i.ipGoodsList,t,"GET")},goPostSearchGoodsList:function(t){return(0,h.promiseApi)(i.searchGoodsList,t,"POST",!0)},goPostGoodsSpusInventory:function(t){return(0,h.promiseApi)(i.goodsSpusInventory,t)},goPostGoodsHotList:function(t){return(0,h.promiseApi)(i.goodsHotList,t,"GET",!0)},getLuckyBgAct:function(t){return(0,h.promiseApi)(s.luckyBgActUrl,t,"GET",!0)},getLuckyBgDetail:function(t){return(0,h.promiseApi)(s.luckyBgDetailUrl,t,"GET",!0)},luckyBgSubmit:function(t){return(0,h.promiseApi)(s.luckyBgSubmitUrl,t,"POST",!0)},openBg:function(t){return(0,h.promiseApi)(s.openBgUrl,t,"POST",!0)},defaultAddress:function(t){return(0,h.promiseApi)(a.defalueAddressUrl,t,"GET",!0)},touchSubscribeMessage:function(t){return(0,h.promiseApi)(u.subscribeMessageUrl,t,"POST",!0)},querySubscribeMessage:function(t){return(0,h.promiseApi)(u.querySubscribeUrl,t,"GET",!0)},getPointsList:function(t){return(0,h.promiseApi)(a.pointsUrl,t,"POST")},goPostUserDeliverTask:function(t){return(0,h.promiseApi)(l.userDeliverTask,t)},getPayParams:function(t){return(0,h.promiseApi)(a.payUrl,t,"POST")},payResult:function(t){return(0,h.promiseApi)(a.payResUrl,t,"GET",!0)},cancelBg:function(t){return(0,h.promiseApi)(s.cancelBgUrl,t,"POST",!0)},couponGoodsList:function(t){return(0,h.promiseApi)(i.coupon_goodsUrl,t,"POST")},getAnswerActID:function(t){return(0,h.promiseApi)(s.answerActIDUrl,t,"GET")},subscribeV2:function(t){return(0,h.promiseApi)(u.subscribeV2Url,t,"POST")},goIpDetail:function(t){return(0,h.promiseApi)(c.ipDetail,t,"GET")},goIpGoods:function(t){return(0,h.promiseApi)(c.ipGoods,t,"GET")},storeTickAct:function(t){return(0,h.promiseApi)(s.storeClockActUrl,t,"GET")},storeTick:function(t){return(0,h.promiseApi)(s.starClockUrl,t,"POST")},exchange:function(t){return(0,h.promiseApi)(s.exchangeUrl,t,"POST")},getStarList:function(t){return(0,h.promiseApi)(s.starListUrl,t,"GET")},getTickLog:function(t){return(0,h.promiseApi)(s.clockLogUrl,t,"GET")},getRewardsLog:function(t){return(0,h.promiseApi)(s.rewardsLogUrl,t,"GET")},exchangeGetList:function(t){return(0,h.promiseApi)(s.exchangeListUrl,t,"GET")},querySubscribeList:function(t){return(0,h.promiseApi)(u.querySubscribeListUrl,t,"POST",!0)},goRobotList:function(t){return(0,h.promiseApi)(i.robotList,t,"POST")},goGetStoreDetail:function(t){return(0,h.promiseApi)(i.goStoreDetail,t,"GET")},goPopScoreTotal:function(t){return(0,h.promiseApi)(o.popScoreTotal,t)},goPopScoreList:function(t){return(0,h.promiseApi)(o.popScoreList,t)},goPopTaskList:function(t){return(0,h.promiseApi)(o.popTaskList,t)},goPopBadges:function(t){return(0,h.promiseApi)(o.popBadges,t)},goPopBadgeNum:function(t){return(0,h.promiseApi)(o.popBadgeNum,t)},goUserRobotPopupAccessory:function(t){return(0,h.promiseApi)(o.userRobotPopupAccessory,t,"GET")},goPopBadgeList:function(t){return(0,h.promiseApi)(o.popBadgeList,t)},goPopBadgeHistoryList:function(t){return(0,h.promiseApi)(o.popBadgeHistoryList,t)},goPopBadgeDetail:function(t){return(0,h.promiseApi)(o.popBadgeDetail,t)},goPopTaskReward:function(t){return(0,h.promiseApi)(o.popTaskReward,t)},getPopBean:function(t){return(0,h.promiseApi)(s.pop_beanUrl,t,"GET")},getTimeRule:function(t){return(0,h.promiseApi)(s.timeRuleUrl,t,"GET")},getStoreList:function(t){return(0,h.promiseApi)(s.storeListUrl,t,"GET")},getPopBeanPopBeanDetail:function(t){return(0,h.promiseApi)(s.popBeanDetailUrl,t,"GET")},createPopbean:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.promiseApi)(s.createPopbeanUrl,t,"POST",!1,e)},goGetGoodsDetail:function(t){return(0,h.promiseApi)(i.goGoodsDetail,t,"GET")},goGetRecommend:function(t){return(0,h.promiseApi)(i.goRecommend,t,"GET")},goPostInventory:function(t){return(0,h.promiseApi)(i.goInventory,t)},goGetSelloutRecommend:function(t){return(0,h.promiseApi)(i.goSelloutRecommend,t,"GET")},goGetBuyLimit:function(t){return(0,h.promiseApi)(i.goBuyLimit,t,"GET")},goPostAddCart:function(t){return(0,h.promiseApi)(i.goAddCart,t,"POST",!0)},goGetMatchList:function(t){return(0,h.promiseApi)(i.goMatchList,t,"GET")},unclaimedList:function(t){return(0,h.promiseApi)(l.unclaimed_list_url,t,"GET",!0)},claimAll:function(t){return(0,h.promiseApi)(l.claim_all_url,t,"POST",!0)},claim:function(t){return(0,h.promiseApi)(l.claim_url,t,"POST",!0)},assistedList:function(t){return(0,h.promiseApi)(l.assistedListUrl,t,"GET")},unassistedList:function(t){return(0,h.promiseApi)(l.unassistedListUrl,t,"GET")},startPointsHelp:function(t){return(0,h.promiseApi)(l.startPointsHelpUrl,t)},expiredPointsList:function(t){return(0,h.promiseApi)(l.expiredPointsListUrl,t,"GET")},helpPoints:function(t){return(0,h.promiseApi)(l.helpPointsUrl,t,"POST")},liveBroadcast:function(t){return(0,h.promiseApi)(l.liveBroadcastUrl,t,"GET")},goCouponActivity:function(t){return(0,h.promiseApi)(s.getCouponActivity,t,"POST")},goCouponBag:function(t){return(0,h.promiseApi)(s.getCouponBag,t,"POST")},getGoodsQualification:function(t){return(0,h.promiseApi)(i.goodsQualification,t,"GET")},postListByReward:function(t){return(0,h.promiseApi)(s.listByReward,t,"POST")},getPopBeanList:function(t){return(0,h.promiseApi)(s.popBeanListUrl,t,"GET")},getPopBeanCity:function(t){return(0,h.promiseApi)(s.popBeanCityUrl,t,"GET")},goCheckIdentity:function(t){return(0,h.promiseApi)(f.checkIdentityURL,t,"GET")},goApplyMegaVip:function(t){return(0,h.promiseApi)(f.applyMegaVipURL,t,"POST")},goActDeliver:function(t){return(0,h.promiseApi)(f.actDeliverURL,t,"POST")},goUserContact:function(t){return(0,h.promiseApi)(f.userContactURL,t,"POST")},goGetTicketTimes:function(t){return(0,h.promiseApi)(f.ticketTimesURL,t,"POST")},goVote:function(t){return(0,h.promiseApi)(f.voteURL,t,"POST")},goMegaTask:function(t){return(0,h.promiseApi)(f.megaTaskURL,t,"POST")},goMegaTaskList:function(t){return(0,h.promiseApi)(f.megaTaskListURL,t,"POST")},postWechatLogin:function(t){return(0,h.promiseApi)(p.wechatLogin,t,"GET")},postWechatReg:function(t){return(0,h.promiseApi)(p.wechatReg,t,"POST")},postVerifyCode:function(t){return(0,h.promiseApi)(p.verifyCode,t,"POST")},pickUpPassword:function(t){return(0,h.promiseApi)(a.pickUpPswUrl,t,"POST")},goGetFavoriteGoods:function(t){return(0,h.promiseApi)(i.goFavoriteGoods,t,"GET")},goPostDrawStagePrize:function(t){return(0,h.promiseApi)(o.drawStagePrize,t,"POST")},goUserJoinedGroup:function(t){return(0,h.promiseApi)(s.userJoinedGroup,t,"POST")},goUserCustomerService:function(t){return(0,h.promiseApi)(s.userCustomerService,t,"POST")},goTickOffTask:function(t){return(0,h.promiseApi)(s.tickoffTask,t,"POST")},goQueryStoreList:function(t){return(0,h.promiseApi)(s.queryStoreList,t,"POST")},goCouponList:function(t){return(0,h.promiseApi)(s.getCouponList,t,"GET")},goNewMsgSub:function(t){return(0,h.promiseApi)(u.newMsgSubUrl,t,"POST")},goNewGroupMsgSub:function(t){return(0,h.promiseApi)(u.newGroupMsgSubUrl,t,"POST")},goNewQueryGroupMsgSub:function(t){return(0,h.promiseApi)(u.queryGroupMsgSubUrl,t,"POST")},goNewQueryMsgSub:function(t){return(0,h.promiseApi)(u.queryMsgSubUrl,t,"POST")},goNewGoodsCalendarSub:function(t){return(0,h.promiseApi)(u.newGoodsCalendarSubUrl,t,"POST")},changeBlackBox:function(t){return(0,h.promiseApi)(p.blackBox,t,"POST")},goGetTagInfo:function(t){return(0,h.promiseApi)(i.goTagInfo,t,"GET",!0)},goGetNewShopGoods:function(t){return(0,h.promiseApi)(i.goNewShopGoods,t,"GET",!0)},goGetMallList:function(t){return(0,h.promiseApi)(i.goMallList,t,"GET")},goGetHotWords:function(t){return(0,h.promiseApi)(i.goHotWords,t,"GET")},enterAnswer:function(t){return(0,h.promiseApi)(s.enterAnswerUrl,t,"POST")},getQuestion:function(t){return(0,h.promiseApi)(s.getQuestionUrl,t,"POST")},goAnswer:function(t){return(0,h.promiseApi)(s.answerUrl,t,"POST")},goAnswerDetail:function(t){return(0,h.promiseApi)(s.answerDetailUrl,t,"POST")},goRankList:function(t){return(0,h.promiseApi)(s.rankListUrl,t,"POST")},goQueryCountdown:function(t){return(0,h.promiseApi)(s.queryCountdownUrl,t,"POST")},goAnswerlottery:function(t){return(0,h.promiseApi)(s.answerlotteryUrl,t,"POST")},goRoundList:function(t){return(0,h.promiseApi)(s.roundListUrl,t,"POST")},goAnswerTimes:function(t){return(0,h.promiseApi)(s.answerTimesUrl,t,"POST")},updateLotteryStatus:function(t){return(0,h.promiseApi)(s.updateLotteryStatusUrl,t,"POST")},getRedPacketCover:function(t){return(0,h.promiseApi)(s.redPacketCoverUrl,t,"")},goGetIpCorridor:function(t){return(0,h.promiseApi)(i.goIpCorridor,t,"GET")},queryExclusiveTask:function(t){return(0,h.promiseApi)(l.exclusiveTaskUrl,t,"POST")},queryExclusiveTaskAward:function(t){return(0,h.promiseApi)(l.exclusiveTaskAwardUrl,t,"POST")},getExclusiveTask:function(t){return(0,h.promiseApi)(l.getExclusiveTaskUrl,t,"POST")},getExclusiveTaskAward:function(t){return(0,h.promiseApi)(l.getExclusiveTaskAwardUrl,t,"POST")},megaPublicEnter:function(t){return(0,h.promiseApi)(s.megaPublicUrl,t,"POST")},megaLeaveMsg:function(t){return(0,h.promiseApi)(s.leaveMsgUrl,t,"POST")},megaViewMsg:function(t){return(0,h.promiseApi)(s.viewMsgUrl,t,"POST")},megaShareMsg:function(t){return(0,h.promiseApi)(s.shareMsgUrl,t,"POST")},megaRedPacket:function(t){return(0,h.promiseApi)(s.getRedPacketUrl,t,"POST")},megaFollowAccount:function(t){return(0,h.promiseApi)(s.followAccountUrl,t,"POST")},megaGetLeaveMsg:function(t){return(0,h.promiseApi)(s.getLeaveMsgUrl,t,"POST")},showBirthEntry:function(t){return(0,h.promiseApi)(s.birthMonthEntryUrl,t,"POST")},getBirthActID:function(t){return(0,h.promiseApi)(s.birthMonthIDUrl,t,"GET")},isBirthOpen:function(t){return(0,h.promiseApi)(s.birthMonthOpenUrl,t,"POST")},getBirthActInfo:function(t){return(0,h.promiseApi)(s.birthMonthActInfoUrl,t,"POST")},getBirthRandomPendant:function(t){return(0,h.promiseApi)(s.birthMonthRandomPendantUrl,t,"POST")},getBirthPendant:function(t){return(0,h.promiseApi)(s.birthMonthPendantUrl,t,"POST")},unlockBirthPacks:function(t){return(0,h.promiseApi)(s.birthMonthUnlockUrl,t,"POST")},getGiftRemains:function(t){return(0,h.promiseApi)(s.birthMonthGiftRemainsUrl,t,"GET")},checkWaitingOrder:function(t){return(0,h.promiseApi)(a.checkWaitOrderUrl,t,"GET")},cancelWaitingOrder:function(t){return(0,h.promiseApi)(a.cancelOrderUrl,t,"POST")},getEvent:v,lucDwAct:function(t){return(0,h.promiseApi)(s.lucDwActUrl,t,"GET")},lucDwActPublic:function(t){return(0,h.promiseApi)(s.lucDwActPublicUrl,t,"GET")},lucDwDoTask:function(t){return(0,h.promiseApi)(s.lucDwDoTaskUrl,t,"POST")},lucDwGetCards:function(t){return(0,h.promiseApi)(s.lucDwGetCardsUrl,t,"GET")},lucDwLottery:function(t){return(0,h.promiseApi)(s.lucDwLotteryUrl,t,"POST")},lucDwGetDrawList:function(t){return(0,h.promiseApi)(s.lucDwGetDrawListUrl,t,"")},lucDwCreateOrder:function(t){return(0,h.promiseApi)(s.lucDwCreateOrderUrl,t,"POST")},getPointsMallTag:function(t){return(0,h.promiseApi)(o.pointsMallTag,t,"GET")},finishTaskList:function(t){return(0,h.promiseApi)(l.doneTaskList,t,"POST")},finishTask:function(t){return(0,h.promiseApi)(l.ipTask,t,"POST")},postCoupon:function(t){return(0,h.promiseApi)(l.getCoupon,t,"POST")},getCouponStatus:function(t){return(0,h.promiseApi)(l.checkCoupon,t,"POST")}},"getEvent",v),"vipUpPop",(function(t){return(0,h.promiseApi)(o.vipUpUrl,t,"GET")})),"updateOrderAddress",(function(t){return(0,h.promiseApi)(a.updateAddressUrl,t,"POST")})),"refreshCode",(function(t){return(0,h.promiseApi)(a.refreshCodeUrl,t,"POST")})),"getListHistory",(function(t){return(0,h.promiseApi)(a.listHistoryUrl,t,"")})),"getMatchResult",(function(t){return(0,h.promiseApi)(s.getMatchResultUrl,t,"POST")})),"ipMatchAssistedList",(function(t){return(0,h.promiseApi)(s.ipMatchAssistedListUrl,t,"POST")})),"ipMatchLottery",(function(t){return(0,h.promiseApi)(s.ipMatchLotteryUrl,t,"POST")})),"selectIp",(function(t){return(0,h.promiseApi)(s.selectIpUrl,t,"POST")})),"assistUserList",(function(t){return(0,h.promiseApi)(s.assistUserListUrl,t,"POST")})),g(g(g(g(g(g(r,"shareAssist",(function(t){return(0,h.promiseApi)(s.shareAssistUrl,t,"POST")})),"userArchives",(function(t){return(0,h.promiseApi)(s.userArchivesUrl,t,"POST")})),"v5Applay",(function(t){return(0,h.promiseApi)(s.v5ApplayUrl,t,"POST")})),"yearRecrod",(function(t){return(0,h.promiseApi)(s.yearRecrodUrl,t,"POST")})),"goGetPoint",(function(t){return(0,h.promiseApi)(i.getPointUrl,t,"GET")})),"getGoodsSalePromotion",(function(t){return(0,h.promiseApi)(i.goodsSalePromotion,t,"")})))},"3b4a":function(t,e,n){var r=n("0b07"),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},"3c35":function(t,e){(function(e){t.exports=e}).call(this,{})},"3ce9":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.tencentHostConfig=e.svipExchangeTipsConfig=e.reduceLevelConfig=e.qrcodePayConfig=e.indexHomePyNextConfig=e.indexHomePyConfig=e.indexHomeConfig=e.homePageConfig=e.globalShareConfig=e.cardActivityStartConfig=e.boxtemplateConfig=e.benefitsvConfig=e.bannersConfig=void 0;var r=n("b775");e.tencentHostConfig=r.isProd?"file/tencentHostControl.json":"file/tencentHostControlTest.json",e.benefitsvConfig="file/benefitsv_300.json",e.bannersConfig=r.isProd?"file/banners.json":"file/banners_test.json",e.qrcodePayConfig=r.isProd?"v230/config/qrcode_pay_online.json":"v230/config/qrcode_pay_test.json",e.svipExchangeTipsConfig=r.isProd?"file/svip_exchange_tips.json":"file/svip_exchange_tips_test.json",e.reduceLevelConfig=r.isProd?"file/go_reduce_level.json":"file/go_reduce_level_test.json",e.cardActivityStartConfig=r.isProd?"file/card_activity_start.json":"file/card_activity_start_test.json",e.globalShareConfig=r.isProd?"v230/config/share_config_online_v5.5.json":"v230/config/share_config_test_v5.5.json",e.boxtemplateConfig=r.isProd?"v230/config/box_skin.json":"v230/config/test_box_skin.json",e.homePageConfig=r.isProd?"v230/config/home_page_online.json":"v230/config/home_page_test.json",e.indexHomeConfig=r.isProd?"home_v5.5/index_config.json":"home_v5.5/index_config_test.json",e.indexHomePyConfig=r.isProd?"v230/config/home_page_banner_online_v5.5_2.json":"v230/config/home_page_banner_test_v5.5_2.json",e.indexHomePyNextConfig=r.isProd?"v230/config/home_page_banner_online_v5.5.json":"v230/config/home_page_banner_test_v5.5.json"},"3eea":function(t,e,n){var r=n("7948"),i=n("3818"),o=n("4bb5"),a=n("e2e4"),s=n("8eeb"),u=n("e0e7"),c=n("c6cf"),l=n("1bac"),f=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),s(t,l(t),n),c&&(n=i(n,7,u));for(var f=e.length;f--;)o(n,e[f]);return n}));t.exports=f},"3fe2":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("2abd"),e.default={data:function(){return{position:[],button:{},btn:"[]"}},watch:{button:{handler:function(t){this.btn=JSON.stringify(t)},deep:!0},show:function(t){this.autoClose||(this.button?this.button.show=t:this.init())},leftOptions:function(){this.init()},rightOptions:function(){this.init()}},created:function(){void 0!==this.swipeaction.children&&this.swipeaction.children.push(this)},mounted:function(){this.init()},beforeDestroy:function(){var t=this;this.swipeaction.children.forEach((function(e,n){e===t&&t.swipeaction.children.splice(n,1)}))},methods:{init:function(){var t=this;clearTimeout(this.swipetimer),this.swipetimer=setTimeout((function(){t.getButtonSize()}),50)},closeSwipe:function(t){this.autoClose&&this.swipeaction.closeOther(this)},change:function(t){this.$emit("change",t.open),this.button.show!==t.open&&(this.button.show=t.open)},appTouchStart:function(t){var e=t.changedTouches[0].clientX;this.clientX=e,this.timestamp=(new Date).getTime()},appTouchEnd:function(t,e,n,r){var i=t.changedTouches[0].clientX,o=Math.abs(this.clientX-i),a=(new Date).getTime()-this.timestamp;o<40&&a<300&&this.$emit("click",{content:n,index:e,position:r})},onClickForPC:function(t,e,n){},getButtonSize:function(){var e=this;t.createSelectorQuery().in(this).selectAll(".uni-swipe_button-group").boundingClientRect((function(t){var n;n=e.autoClose?"none":e.show,e.button={data:t,show:n}})).exec()}}}}).call(this,n("543d").default)},4245:function(t,e,n){var r=n("f909"),i=n("2ec1")((function(t,e,n){r(t,e,n)}));t.exports=i},"42a2":function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},4357:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={state:{},mutations:{},actions:{}}},4359:function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},4416:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},4601:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.paramoutConfig=e.megaConfig=void 0;var r=n("b775");e.megaConfig=r.isProd?"file/mega/mega_rule.json":"file/mega/mega_rule_test.json",e.paramoutConfig=r.isProd?"paramout/config/actTimeConfig.json":"paramout/config/actTimeConfig_test.json"},"477b":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ipGoods=e.ipDetail=void 0,e.ipDetail="new/sg/ip/ip_detail",e.ipGoods="new/sg/goods/v2/get_goods_by_ip"},"47f5":function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},"4b17":function(t,e){t.exports=function(t){return t}},"4bb5":function(t,e,n){var r=n("e2e4"),i=n("4416"),o=n("8296"),a=n("f4d6");t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},"4cef":function(t,e){var n=/\s/;t.exports=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e}},"4cfe":function(t,e){t.exports=function(t){return void 0===t}},"4f50":function(t,e,n){var r=n("b760"),i=n("e538"),o=n("c8fe"),a=n("4359"),s=n("fa21"),u=n("d370"),c=n("6747"),l=n("dcbe"),f=n("0d24"),p=n("9520"),h=n("1a8c"),d=n("60ed"),g=n("73ac"),v=n("8adb"),y=n("8de2");t.exports=function(t,e,n,m,_,b,w){var x=v(t,n),S=v(e,n),k=w.get(S);if(k)r(t,n,k);else{var T=b?b(x,S,n+"",t,e,w):void 0,P=void 0===T;if(P){var O=c(S),A=!O&&f(S),C=!O&&!A&&g(S);T=S,O||A||C?c(x)?T=x:l(x)?T=a(x):A?(P=!1,T=i(S,!0)):C?(P=!1,T=o(S,!0)):T=[]:d(S)||u(S)?(T=x,u(x)?T=y(x):h(x)&&!p(x)||(T=s(S))):P=!1}P&&(w.set(S,T),_(T,S,m,b,w),w.delete(S)),r(t,n,T)}}},"501e":function(t,e,n){var r=n("3729"),i=n("1310");t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},"502e":function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.rulesMixin=e.newGoodsMixin=e.loginSubscribeMixin=e.GoodsDetailToOrderMixin=void 0;var i=c(n("bee3")),o=c(n("b775")),a=c(n("eea7")),s=n("365c"),u=n("2f62");function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(){h=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",g="executing",v="completed",y={};function m(){}function _(){}function b(){}var w={};l(w,s,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==n&&i.call(S,s)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,a,s,u){var c=p(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function O(e,n,r){var i=d;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=p(e,n,r);if("normal"===c.type){if(i=r.done?v:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=p(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:_,configurable:!0}),_.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},T(P.prototype),l(P.prototype,u,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),l(k,c,"Generator"),l(k,s,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function d(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}n("d9bb"),getApp(),e.newGoodsMixin={methods:{toNewGoodsListMixin:function(){t.navigateTo({url:"/packages/newGoods/pages/newGoods/newGoods?storeID=".concat(this.storeID,"&shopType=").concat(this.shopType)})},toGoodsDetailMixin:function(e,n){var r=e.$orig||e;this.clickMemberMixin(r,n);var i="newGoods"===n?"新品日历":"";t.navigateTo({url:"/packages/storeGoGoodsDetail/pages/goodsDetail/goodsDetail?goodsSpuId=".concat(r.id,"&shopType=").concat(this.shopType,"&storeID=").concat(this.storeID,"&moduleName=").concat(i)}),this.srdata("trigger_sku_component",{sku:{sku_id:r.id.toString(),sku_name:r.name},spu:{spu_id:r.id.toString(),spu_name:r.name},sku_category:null})},openSetMixin:function(e,n,r,i){var o=this;return function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){d(o,r,i,a,s,"next",t)}function s(t){d(o,r,i,a,s,"throw",t)}a(void 0)}))}}(h().mark((function s(){var u,c,l;return h().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(u=e.$orig||e).is_sub_sell_message){s.next=3;break}return s.abrupt("return");case 3:return c="ZXQOL2o_8g2TlMJtuFq7J14vfHkrWsq_lZzvi8dzjyE",l=o,s.next=7,(0,a.default)("getSetting");case 7:s.sent.subscriptionsSetting.mainSwitch?(0,a.default)("requestSubscribeMessage",{tmplIds:[c]}).then((function(){l.messgSubscribeMixin(u,n,r,i)})):t.showToast({icon:"none",title:'请去 "设置-消息订阅" 开启消息通知',duration:3e3});case 9:case"end":return s.stop()}}),s)})))()},messgSubscribeMixin:function(e,n,r,i){var o,a=this,u=t.getStorageSync("storeInfo");o=1==this.shopType?"rule_offline_store_go_detail_page_new_commodity":2==this.shopType?"rule_offline_store_go_detail_page_customer_pick_up_new_commodity":"rule_offline_store_go_detail_page_special_delivery_new_commodity";var c=1==this.shopType?1:2==this.shopType?3:2,l=[];l.push({alias:o,key:"goods_sell_".concat(this.storeID,"_").concat(e.id,"_").concat(c),type:"2",req_id:e.id}),(0,s.goNewGoodsCalendarSub)({subscribe_list:l}).then((function(s){if(1===s.data.code){t.showToast({icon:"success",title:"订阅成功",duration:3e3}),a.getNewGoodsList();var c={goods:e,template_id:"ZXQOL2o_8g2TlMJtuFq7J14vfHkrWsq_lZzvi8dzjyE",remind_msg_id:o,page_url:n,page_path:r,store_id:u.id,store_name:u.name,commodity_id:e.id,commodity_name:e.name,set_way:i?"新品日历首页":"商城列表页_新品模块"};a.remindMemberMixin(c)}else 10040===s.data.code?t.showToast({icon:"none",title:"商品已经开售啦，快去购买吧～",duration:3e3}):t.showToast({icon:"error",title:"订阅失败",duration:3e3})}))},clickMemberMixin:function(t,e){var n={page_name:e?"store_go_newgoods_page":"store_go_list_page",tab_name:1==this.shopType?"云店":"门店",commodity_name:t.name,shop_type:this.shopType,store_id:this.storeID,ship_way:1==this.shopType?1:2==this.shopType?3:2,module_name:e?"全部商品":"发售日历"};i.default.track("PopMartMemberMPCommodityCardClick",n)},remindMemberMixin:function(t){i.default.track("PopMartMemberMPSetRemind",t)},bannerBuryPointsMixin:function(t,e){var n=t.type,r=t.jump_address,o=t.name,a=t.id,s={page_name:"store_go_newgoods_page",jump_type:n,jump_url:r,image_index:t.current+1,banner_name:o,banner_id:a};i.default.track("click"==e?"PopMartMemberMPActivityBannerClick":"PopMartMemberMPActivityBannerShow",s)}}},e.rulesMixin={methods:{herfRulesMixin:function(e){t.navigateTo({url:"/packages/newRule/pages/newRule/newRule?type=".concat(e)})}}},e.GoodsDetailToOrderMixin={methods:f(f({},(0,u.mapActions)(["changeFreeRules"])),{},{getFreeRulesMixin:function(){var t=this;return new Promise((function(e,n){o.default.postApi(o.default.isProd?"store/free_shipping/free_shipping_conf_prod.json":"store/free_shipping/free_shipping_conf_test.json",{},"GET",(function(n){t.changeFreeRules(n.data.data),e(n.data.data)}))}))}})},e.loginSubscribeMixin={methods:{sendLoginSubscribeMixin:function(e){var n=t.getStorageSync("loginTemplates");this.memberMindMixin(n,e),n.length&&(0,s.pyWechatSubscribePost)({templates:n})},memberMindMixin:function(e,n){var r={rule_popmart_member_new_user_the_next_day_check_in:"6OvF9JxcaZIhXY6T85Q3WTLIfGnoxorHEBwrUpZ27JQ",rule_popmart_member_new_user_join_group:"gCpIjbTNXAiootya7Wj7DQGewBZq7G0mFLlMw58bMjk",rule_popmart_member_new_user_activity:"Cb6lBh0iwulwf1BpNdoCwgnkzIZ563rDOrVxWk-UEaQ"},o=this.optionQuery;if(Object.keys(r).forEach((function(t){if(e.includes(r[t])){var a={template_id:r[t],remind_msg_id:t,page_url:"".concat(n).concat(o?"?"+o:""),page_path:n};i.default.track("PopMartMemberMPSetRemind",a)}})),t.getStorageSync("loginFromHome")){var a={activity_id:"",h5_url:"",page_url:n,sign_up_scrne:"pages_index"};i.default.track("PopMartMemberMPSignUpPopmartMember",a)}}}}}).call(this,n("543d").default)},"51f5":function(t,e,n){var r=n("2b03"),i=n("badf"),o=n("4b17"),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},"53d1":function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("131c")),o=a(n("bee3"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}e.default={state:{boxUserInfo:{},boxList:[],couponBoxList:[],page:1,couponBoxPage:1,boxHasMore:!0,couponHasMore:!0,boxIsLoading:!1,couponIsLoading:!1},getters:{boxUserInfoData:function(t){return t.boxUserInfo},boxListData:function(t){return t.boxList},couponBoxListData:function(t){return t.couponBoxList},boxListHasMore:function(t){return t.boxHasMore},couponBoxListHasMore:function(t){return t.couponHasMore},boxListIsLoading:function(t){return t.boxIsLoading},couponBoxListIsLoading:function(t){return t.couponIsLoading}},mutations:{setBoxUserInfo:function(t,e){t.boxUserInfo=e},setBoxList:function(t,e){var n=e.couponId,r=e.nowState;n?t.couponBoxList=r:t.boxList=r},addBoxList:function(t,e){var n=e.couponId,r=e.nowState;n?t.couponBoxList=t.couponBoxList.concat(r):t.boxList=t.boxList.concat(r)},changeBoxListPage:function(t,e){var n=e.couponId,r=e.nowState;n?t.couponBoxPage=r:t.page=r},changeBoxListHasMore:function(t,e){var n=e.couponId,r=e.nowState;n?t.couponHasMore=r:t.boxHasMore=r},changeBoxListIsLoading:function(t,e){var n=e.couponId,r=e.nowState;n?t.couponIsLoading=r:t.boxIsLoading=r},setDrawBoxTemp:function(t,e){var n,r=e.spu_id,i=e.box_temp_id,o=l(t.boxList);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.spu_id===r&&(a.box_temp_id=i)}}catch(t){o.e(t)}finally{o.f()}},cleanDrawBoxTemp:function(t){var e,n=l(t.boxList);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.box_temp_id&&(r.box_temp_id=null)}}catch(t){n.e(t)}finally{n.f()}}},actions:{getBoxAuthInfo:function(t,e){var n=t.commit,r=e.userId,a=e.cb;i.default.goGetBoxAuth({user_id:r}).then((function(t){var e=t.data.data,r=u({state:-1},e);0===e.grant_coupon&&(r=u(u({},r),{},{state:1})),1===e.first_order&&(r=u(u({},r),{},{state:2})),n("setBoxUserInfo",r),a&&a(r)})).catch((function(t){o.default.track("WechatBlindBoxMachineLiteMPBoxLoginError",{error_msg:t,user_id:r})}))},boxListLoadData:function(e,n){var r=e.commit,o=e.state,a=n.couponId,s=void 0===a?null:a,u=n.refresh,c=void 0!==u&&u,l=n.reqNum,f=void 0===l?10:l,p=n.share_spu_id,h=void 0===p?null:p;if(!(!s&&o.boxIsLoading||s&&o.couponBoxListIsLoading)){r("changeBoxListIsLoading",{couponId:s,nowState:!0}),c&&(r("changeBoxListPage",{couponId:s,nowState:1}),r("changeBoxListHasMore",{couponId:s,nowState:!0}),r("setBoxList",{couponId:s,nowState:[]}));var d={page:c?1:o.page,page_size:f||10};h&&(d.share_spu_id=h),s?(d.player_coupon_id=s,d.user_id=t.getStorageSync("userId"),i.default.goGetBoxCouponGoodsList(d).then((function(t){var e=t.data.data.list;e.length<f&&r("changeBoxListHasMore",{couponId:s,nowState:!1}),r("addBoxList",{couponId:s,nowState:e}),r("changeBoxListPage",{couponId:s,nowState:o.page+1}),r("changeBoxListIsLoading",{couponId:s,nowState:!1})})).catch((function(e){r("changeBoxListIsLoading",{couponId:s,nowState:!1}),t.showToast({title:"加载商品列表失败",icon:"none"})}))):i.default.goGetBoxGoodsList(d).then((function(t){var e=t.data.data.list;e.length<f&&r("changeBoxListHasMore",{couponId:s,nowState:!1}),r("addBoxList",{couponId:s,nowState:e}),r("changeBoxListPage",{couponId:s,nowState:o.page+1}),r("changeBoxListIsLoading",{couponId:s,nowState:!1})})).catch((function(e){r("changeBoxListIsLoading",{couponId:s,nowState:!1}),t.showToast({title:"加载商品列表失败",icon:"none"})}))}},setDrawBoxTemp:function(t,e){(0,t.commit)("setDrawBoxTemp",e)},cleanDrawBoxTemp:function(t,e){(0,t.commit)("cleanDrawBoxTemp",e)}}}}).call(this,n("543d").default)},"543d":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=Ht,e.createComponent=te,e.createPage=Zt,e.createPlugin=ne,e.createSubpackageApp=ee,e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("66fd"));function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var p=Object.prototype.toString,h=Object.prototype.hasOwnProperty;function d(t){return"function"==typeof t}function g(t){return"string"==typeof t}function v(t){return"[object Object]"===p.call(t)}function y(t,e){return h.call(t,e)}function m(){}function _(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var b=/-(\w)/g,w=_((function(t){return t.replace(b,(function(t,e){return e?e.toUpperCase():""}))})),x=["invoke","success","fail","complete","returnValue"],S={},k={};function T(t,e){Object.keys(e).forEach((function(n){-1!==x.indexOf(n)&&d(e[n])&&(t[n]=function(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}(t[n],e[n]))}))}function P(t,e){t&&e&&Object.keys(e).forEach((function(n){-1!==x.indexOf(n)&&d(e[n])&&function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}(t[n],e[n])}))}function O(t){return function(e){return t(e)||e}}function A(t){return!!t&&("object"===f(t)||"function"==typeof t)&&"function"==typeof t.then}function C(t,e){for(var n=!1,r=0;r<t.length;r++){var i=t[r];if(n)n=Promise.resolve(O(i));else{var o=i(e);if(A(o)&&(n=Promise.resolve(o)),!1===o)return{then:function(){}}}}return n||{then:function(t){return t(e)}}}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["success","fail","complete"].forEach((function(n){if(Array.isArray(t[n])){var r=e[n];e[n]=function(e){C(t[n],e).then((function(t){return d(r)&&r(t)||t}))}}})),e}function j(t,e){var n=[];Array.isArray(S.returnValue)&&n.push.apply(n,u(S.returnValue));var r=k[t];return r&&Array.isArray(r.returnValue)&&n.push.apply(n,u(r.returnValue)),n.forEach((function(t){e=t(e)||e})),e}function I(t){var e=Object.create(null);Object.keys(S).forEach((function(t){"returnValue"!==t&&(e[t]=S[t].slice())}));var n=k[t];return n&&Object.keys(n).forEach((function(t){"returnValue"!==t&&(e[t]=(e[t]||[]).concat(n[t]))})),e}function R(t,e,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=I(t);if(a&&Object.keys(a).length){if(Array.isArray(a.invoke)){var s=C(a.invoke,n);return s.then((function(t){return e.apply(void 0,[E(a,t)].concat(i))}))}return e.apply(void 0,[E(a,n)].concat(i))}return e.apply(void 0,[n].concat(i))}var D={returnValue:function(t){return A(t)?t.then((function(t){return t[1]})).catch((function(t){return t[0]})):t}},L=/^\$|Window$|WindowStyle$|sendNativeEvent|restoreGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64/,U=/^create|Manager$/,B=["createBLEConnection"],M=["createBLEConnection"],N=/^on|^off/;function $(t){return U.test(t)&&-1===B.indexOf(t)}function q(t){return L.test(t)&&-1===M.indexOf(t)}function G(t){return t.then((function(t){return[null,t]})).catch((function(t){return[t]}))}function F(t){return!($(t)||q(t)||function(t){return N.test(t)&&"onPush"!==t}(t))}function H(t,e){return F(t)?function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return d(n.success)||d(n.fail)||d(n.complete)?j(t,R.apply(void 0,[t,e,n].concat(i))):j(t,G(new Promise((function(r,o){R.apply(void 0,[t,e,Object.assign({},n,{success:r,fail:o})].concat(i))}))))}:e}Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))});var z=!1,W=0,V=0;var J={promiseInterceptor:D},Y=Object.freeze({__proto__:null,upx2px:function(t,e){if(0===W&&function(){var t=wx.getSystemInfoSync(),e=t.platform,n=t.pixelRatio,r=t.windowWidth;W=r,V=n,z="ios"===e}(),0===(t=Number(t)))return 0;var n=t/750*(e||W);return n<0&&(n=-n),0===(n=Math.floor(n+1e-4))&&(n=1!==V&&z?.5:1),t<0?-n:n},addInterceptor:function(t,e){"string"==typeof t&&v(e)?T(k[t]||(k[t]={}),e):v(t)&&T(S,t)},removeInterceptor:function(t,e){"string"==typeof t?v(e)?P(k[t],e):delete k[t]:v(t)&&P(S,t)},interceptors:J});var K,X="__DC_STAT_UUID";var Q={returnValue:function(t){(function(t){(K=K||wx.getStorageSync(X))||(K=Date.now()+""+Math.floor(1e7*Math.random()),wx.setStorage({key:X,data:K})),t.deviceId=K})(t),function(t){if(t.safeArea){var e=t.safeArea;t.safeAreaInsets={top:e.top,left:e.left,right:t.windowWidth-e.right,bottom:t.windowHeight-e.bottom}}}(t)}},Z={redirectTo:{name:function(t){return"back"===t.exists&&t.delta?"navigateBack":"redirectTo"},args:function(t){if("back"===t.exists&&t.url){var e=function(t){for(var e=getCurrentPages(),n=e.length;n--;){var r=e[n];if(r.$page&&r.$page.fullPath===t)return n}return-1}(t.url);if(-1!==e){var n=getCurrentPages().length-1-e;n>0&&(t.delta=n)}}}},previewImage:{args:function(t){var e=parseInt(t.current);if(!isNaN(e)){var n=t.urls;if(Array.isArray(n)){var r=n.length;if(r)return e<0?e=0:e>=r&&(e=r-1),e>0?(t.current=n[e],t.urls=n.filter((function(t,r){return!(r<e)||t!==n[e]}))):t.current=n[0],{indicator:!1,loop:!1}}}}},getSystemInfo:Q,getSystemInfoSync:Q},tt=["success","fail","cancel","complete"];function et(t,e,n){return function(r){return e(rt(t,r,n))}}function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(v(e)){var o=!0===i?e:{};for(var a in d(n)&&(n=n(e,o)||{}),e)if(y(n,a)){var s=n[a];d(s)&&(s=s(e[a],e,o)),s&&(g(s)?o[s]=e[a]:v(s)&&(o[s.name?s.name:a]=s.value))}else-1!==tt.indexOf(a)?d(e[a])&&(o[a]=et(t,e[a],r)):i||(o[a]=e[a]);return o}return d(e)&&(e=et(t,e,r)),e}function rt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d(Z.returnValue)&&(e=Z.returnValue(t,e)),nt(t,e,n,{},r)}function it(t,e){if(y(Z,t)){var n=Z[t];return n?function(e,r){var i=n;d(n)&&(i=n(e));var o=[e=nt(t,e,i.args,i.returnValue)];void 0!==r&&o.push(r),d(i.name)?t=i.name(e):g(i.name)&&(t=i.name);var a=wx[t].apply(wx,o);return q(t)?rt(t,a,i.returnValue,$(t)):a}:function(){}}return e}var ot=Object.create(null);["onTabBarMidButtonTap","subscribePush","unsubscribePush","onPush","offPush","share"].forEach((function(t){ot[t]=function(t){return function(e){var n=e.fail,r=e.complete,i={errMsg:"".concat(t,":fail method '").concat(t,"' not supported")};d(n)&&n(i),d(r)&&r(i)}}(t)}));var at={oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]};var st=Object.freeze({__proto__:null,getProvider:function(t){var e=t.service,n=t.success,r=t.fail,i=t.complete,o=!1;at[e]?(o={errMsg:"getProvider:ok",service:e,provider:at[e]},d(n)&&n(o)):(o={errMsg:"getProvider:fail service not found"},d(r)&&r(o)),d(i)&&i(o)}}),ut=function(){var t;return function(){return t||(t=new r.default),t}}();function ct(t,e,n){return t[e].apply(t,n)}var lt=Object.freeze({__proto__:null,$on:function(){return ct(ut(),"$on",Array.prototype.slice.call(arguments))},$off:function(){return ct(ut(),"$off",Array.prototype.slice.call(arguments))},$once:function(){return ct(ut(),"$once",Array.prototype.slice.call(arguments))},$emit:function(){return ct(ut(),"$emit",Array.prototype.slice.call(arguments))}}),ft=Object.freeze({__proto__:null}),pt=Page,ht=Component,dt=/:/g,gt=_((function(t){return w(t.replace(dt,"-"))}));function vt(t){if(wx.canIUse&&wx.canIUse("nextTick")){var e=t.triggerEvent;t.triggerEvent=function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(t,[gt(n)].concat(i))}}}function yt(t,e){var n=e[t];e[t]=n?function(){vt(this);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,e)}:function(){vt(this)}}pt.__$wrappered||(pt.__$wrappered=!0,Page=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yt("onLoad",t),pt(t)},Page.after=pt.after,Component=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yt("created",t),ht(t)});function mt(t,e,n){e.forEach((function(e){(function t(e,n){if(!n)return!0;if(r.default.options&&Array.isArray(r.default.options[e]))return!0;if(d(n=n.default||n))return!!d(n.extendOptions[e])||!!(n.super&&n.super.options&&Array.isArray(n.super.options[e]));if(d(n[e]))return!0;var i=n.mixins;return Array.isArray(i)?!!i.find((function(n){return t(e,n)})):void 0})(e,n)&&(t[e]=function(t){return this.$vm&&this.$vm.__call_hook(e,t)})}))}function _t(t,e){var n;return[n=d(e=e.default||e)?e:t.extend(e),e=n.options]}function bt(t,e){if(Array.isArray(e)&&e.length){var n=Object.create(null);e.forEach((function(t){n[t]=!0})),t.$scopedSlots=t.$slots=n}}function wt(t,e){var n=(t=(t||"").split(",")).length;1===n?e._$vueId=t[0]:2===n&&(e._$vueId=t[0],e._$vuePid=t[1])}function xt(t,e){var n=t.data||{},r=t.methods||{};if("function"==typeof n)try{n=n.call(e)}catch(t){Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG}else try{n=JSON.parse(JSON.stringify(n))}catch(t){}return v(n)||(n={}),Object.keys(r).forEach((function(t){-1!==e.__lifecycle_hooks__.indexOf(t)||y(n,t)||(n[t]=r[t])})),n}var St=[String,Number,Boolean,Object,Array,null];function kt(t){return function(e,n){this.$vm&&(this.$vm[t]=e)}}function Tt(t,e){var n=t.behaviors,r=t.extends,i=t.mixins,o=t.props;o||(t.props=o=[]);var a=[];return Array.isArray(n)&&n.forEach((function(t){a.push(t.replace("uni://","wx".concat("://"))),"uni://form-field"===t&&(Array.isArray(o)?(o.push("name"),o.push("value")):(o.name={type:String,default:""},o.value={type:[String,Number,Boolean,Array,Object,Date],default:""}))})),v(r)&&r.props&&a.push(e({properties:Ot(r.props,!0)})),Array.isArray(i)&&i.forEach((function(t){v(t)&&t.props&&a.push(e({properties:Ot(t.props,!0)}))})),a}function Pt(t,e,n,r){return Array.isArray(e)&&1===e.length?e[0]:e}function Ot(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return e||(n.vueId={type:String,value:""},n.generic={type:Object,value:null},n.vueSlots={type:null,value:[],observer:function(t,e){var n=Object.create(null);t.forEach((function(t){n[t]=!0})),this.setData({$slots:n})}}),Array.isArray(t)?t.forEach((function(t){n[t]={type:null,observer:kt(t)}})):v(t)&&Object.keys(t).forEach((function(e){var r=t[e];if(v(r)){var i=r.default;d(i)&&(i=i()),r.type=Pt(0,r.type),n[e]={type:-1!==St.indexOf(r.type)?r.type:null,value:i,observer:kt(e)}}else{var o=Pt(0,r);n[e]={type:-1!==St.indexOf(o)?o:null,observer:kt(e)}}})),n}function At(t,e,n){var r={};return Array.isArray(e)&&e.length&&e.forEach((function(e,i){"string"==typeof e?e?"$event"===e?r["$"+i]=n:"arguments"===e?n.detail&&n.detail.__args__?r["$"+i]=n.detail.__args__:r["$"+i]=[n]:0===e.indexOf("$event.")?r["$"+i]=t.__get_value(e.replace("$event.",""),n):r["$"+i]=t.__get_value(e):r["$"+i]=t:r["$"+i]=function(t,e){var n=t;return e.forEach((function(e){var r=e[0],i=e[2];if(r||void 0!==i){var o,a=e[1],s=e[3];Number.isInteger(r)?o=r:r?"string"==typeof r&&r&&(o=0===r.indexOf("#s#")?r.substr(3):t.__get_value(r,n)):o=n,Number.isInteger(o)?n=i:a?Array.isArray(o)?n=o.find((function(e){return t.__get_value(a,e)===i})):v(o)&&(n=Object.keys(o).find((function(e){return t.__get_value(a,o[e])===i}))):n=o[i],s&&(n=t.__get_value(s,n))}})),n}(t,e)})),r}function Ct(t){for(var e={},n=1;n<t.length;n++){var r=t[n];e[r[0]]=r[1]}return e}function Et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=!1;if(i&&(a=e.currentTarget&&e.currentTarget.dataset&&"wx"===e.currentTarget.dataset.comType,!n.length))return a?[e]:e.detail.__args__||e.detail;var s=At(t,r,e),u=[];return n.forEach((function(t){"$event"===t?"__set_model"!==o||i?i&&!a?u.push(e.detail.__args__[0]):u.push(e):u.push(e.target.value):Array.isArray(t)&&"o"===t[0]?u.push(Ct(t)):"string"==typeof t&&y(s,t)?u.push(s[t]):u.push(t)})),u}function jt(t){var e=this,n=((t=function(t){try{t.mp=JSON.parse(JSON.stringify(t))}catch(t){}return t.stopPropagation=m,t.preventDefault=m,t.target=t.target||{},y(t,"detail")||(t.detail={}),y(t,"markerId")&&(t.detail="object"===f(t.detail)?t.detail:{},t.detail.markerId=t.markerId),v(t.detail)&&(t.target=Object.assign({},t.target,t.detail)),t}(t)).currentTarget||t.target).dataset;if(n){var r=n.eventOpts||n["event-opts"];if(r){var i=t.type,o=[];return r.forEach((function(n){var r=n[0],a=n[1],s="^"===r.charAt(0),u="~"===(r=s?r.slice(1):r).charAt(0);r=u?r.slice(1):r,a&&function(t,e){return t===e||"regionchange"===e&&("begin"===t||"end"===t)}(i,r)&&a.forEach((function(n){var r=n[0];if(r){var i=e.$vm;if(i.$options.generic&&(i=function(t){for(var e=t.$parent;e&&e.$parent&&(e.$options.generic||e.$parent.$options.generic||e.$scope._$vuePid);)e=e.$parent;return e&&e.$parent}(i)||i),"$emit"===r)return void i.$emit.apply(i,Et(e.$vm,t,n[1],n[2],s,r));var a=i[r];if(!d(a))throw new Error(" _vm.".concat(r," is not a function"));if(u){if(a.once)return;a.once=!0}var c=Et(e.$vm,t,n[1],n[2],s,r);c=Array.isArray(c)?c:[],/=\s*\S+\.eventParams\s*\|\|\s*\S+\[['"]event-params['"]\]/.test(a.toString())&&(c=c.concat([,,,,,,,,,,t])),o.push(a.apply(i,c))}}))})),"input"===i&&1===o.length&&void 0!==o[0]?o[0]:void 0}}}var It={},Rt=[];var Dt=["onShow","onHide","onError","onPageNotFound","onThemeChange","onUnhandledRejection"];function Lt(){r.default.prototype.getOpenerEventChannel=function(){return this.$scope.getOpenerEventChannel()};var t=r.default.prototype.__call_hook;r.default.prototype.__call_hook=function(e,n){return"onLoad"===e&&n&&n.__id__&&(this.__eventChannel__=function(t){if(t){var e=It[t];return delete It[t],e}return Rt.shift()}(n.__id__),delete n.__id__),t.call(this,e,n)}}function Ut(t,e){var n=e.mocks,i=e.initRefs;Lt(),t.$options.store&&(r.default.prototype.$store=t.$options.store),r.default.prototype.mpHost="mp-weixin",r.default.mixin({beforeCreate:function(){if(this.$options.mpType){if(this.mpType=this.$options.mpType,this.$mp=s({data:{}},this.mpType,this.$options.mpInstance),this.$scope=this.$options.mpInstance,delete this.$options.mpType,delete this.$options.mpInstance,"page"===this.mpType&&"function"==typeof getApp){var t=getApp();t.$vm&&t.$vm.$i18n&&(this._i18n=t.$vm.$i18n)}"app"!==this.mpType&&(i(this),function(t,e){var n=t.$mp[t.mpType];e.forEach((function(e){y(n,e)&&(t[e]=n[e])}))}(this,n))}}});var o={onLaunch:function(e){this.$vm||(wx.canIUse&&wx.canIUse("nextTick"),this.$vm=t,this.$vm.$mp={app:this},this.$vm.$scope=this,this.$vm.globalData=this.globalData,this.$vm._isMounted=!0,this.$vm.__call_hook("mounted",e),this.$vm.__call_hook("onLaunch",e))}};o.globalData=t.$options.globalData||{};var a=t.$options.methods;return a&&Object.keys(a).forEach((function(t){o[t]=a[t]})),mt(o,Dt),o}var Bt=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function Mt(t){return Behavior(t)}function Nt(){return!!this.route}function $t(t){this.triggerEvent("__l",t)}function qt(t){var e=t.$scope;Object.defineProperty(t,"$refs",{get:function(){var t={};return function t(e,n,r){e.selectAllComponents(n).forEach((function(e){var i=e.dataset.ref;r[i]=e.$vm||e,"scoped"===e.dataset.vueGeneric&&e.selectAllComponents(".scoped-ref").forEach((function(e){t(e,n,r)}))}))}(e,".vue-ref",t),e.selectAllComponents(".vue-ref-in-for").forEach((function(e){var n=e.dataset.ref;t[n]||(t[n]=[]),t[n].push(e.$vm||e)})),t}})}function Gt(t){var e,n=t.detail||t.value,r=n.vuePid,i=n.vueOptions;r&&(e=function t(e,n){for(var r,i=e.$children,o=i.length-1;o>=0;o--){var a=i[o];if(a.$scope._$vueId===n)return a}for(var s=i.length-1;s>=0;s--)if(r=t(i[s],n))return r}(this.$vm,r)),e||(e=this.$vm),i.parent=e}function Ft(t){return Ut(t,{mocks:Bt,initRefs:qt})}function Ht(t){return App(Ft(t)),t}var zt=/[!'()*]/g,Wt=function(t){return"%"+t.charCodeAt(0).toString(16)},Vt=/%2C/g,Jt=function(t){return encodeURIComponent(t).replace(zt,Wt).replace(Vt,",")};function Yt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt,n=t?Object.keys(t).map((function(n){var r=t[n];if(void 0===r)return"";if(null===r)return e(n);if(Array.isArray(r)){var i=[];return r.forEach((function(t){void 0!==t&&(null===t?i.push(e(n)):i.push(e(n)+"="+e(t)))})),i.join("&")}return e(n)+"="+e(r)})).filter((function(t){return t.length>0})).join("&"):null;return n?"?".concat(n):""}function Kt(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.isPage,i=e.initRelation,s=_t(r.default,t),u=a(s,2),c=u[0],l=u[1],f=o({multipleSlots:!0,addGlobalClass:!0},l.options||{});l["mp-weixin"]&&l["mp-weixin"].options&&Object.assign(f,l["mp-weixin"].options);var p={options:f,data:xt(l,r.default.prototype),behaviors:Tt(l,Mt),properties:Ot(l.props,!1,l.__file),lifetimes:{attached:function(){var t=this.properties,e={mpType:n.call(this)?"page":"component",mpInstance:this,propsData:t};wt(t.vueId,this),i.call(this,{vuePid:this._$vuePid,vueOptions:e}),this.$vm=new c(e),bt(this.$vm,t.vueSlots),this.$vm.$mount()},ready:function(){this.$vm&&(this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady"))},detached:function(){this.$vm&&this.$vm.$destroy()}},pageLifetimes:{show:function(t){this.$vm&&this.$vm.__call_hook("onPageShow",t)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(t){this.$vm&&this.$vm.__call_hook("onPageResize",t)}},methods:{__l:Gt,__e:jt}};return l.externalClasses&&(p.externalClasses=l.externalClasses),Array.isArray(l.wxsCallMethods)&&l.wxsCallMethods.forEach((function(t){p.methods[t]=function(e){return this.$vm[t](e)}})),n?p:[p,c]}(t,{isPage:Nt,initRelation:$t})}var Xt=["onShow","onHide","onUnload"];function Qt(t){return function(t,e){e.isPage,e.initRelation;var n=Kt(t);return mt(n.methods,Xt,t),n.methods.onLoad=function(t){this.options=t;var e=Object.assign({},t);delete e.__id__,this.$page={fullPath:"/"+(this.route||this.is)+Yt(e)},this.$vm.$mp.query=t,this.$vm.__call_hook("onLoad",t)},n}(t,{isPage:Nt,initRelation:$t})}function Zt(t){return Component(Qt(t))}function te(t){return Component(Kt(t))}function ee(t){var e=Ft(t),n=getApp({allowDefault:!0}),r=n.globalData;if(r&&Object.keys(e.globalData).forEach((function(t){y(r,t)||(r[t]=e.globalData[t])})),Object.keys(e).forEach((function(t){y(n,t)||(n[t]=e[t])})),d(e.onShow)&&wx.onAppShow&&wx.onAppShow((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.onShow.apply(n,r)})),d(e.onHide)&&wx.onAppHide&&wx.onAppHide((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.onHide.apply(n,r)})),d(e.onLaunch)){var i=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.onLaunch.call(n,i)}return t}function ne(t){var e=Ft(t);if(d(e.onShow)&&wx.onAppShow&&wx.onAppShow((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.onShow.apply(t,r)})),d(e.onHide)&&wx.onAppHide&&wx.onAppHide((function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.onHide.apply(t,r)})),d(e.onLaunch)){var n=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.onLaunch.call(t,n)}return t}Xt.push.apply(Xt,["onPullDownRefresh","onReachBottom","onAddToFavorites","onShareTimeline","onShareAppMessage","onPageScroll","onResize","onTabItemTap"]),["vibrate","preloadPage","unPreloadPage","loadSubPackage"].forEach((function(t){Z[t]=!1})),[].forEach((function(t){var e=Z[t]&&Z[t].name?Z[t].name:t;wx.canIUse(e)||(Z[t]=!1)}));var re={};"undefined"!=typeof Proxy?re=new Proxy({},{get:function(t,e){return y(t,e)?t[e]:Y[e]?Y[e]:ft[e]?H(e,ft[e]):st[e]?H(e,st[e]):ot[e]?H(e,ot[e]):lt[e]?lt[e]:y(wx,e)||y(Z,e)?H(e,it(e,wx[e])):void 0},set:function(t,e,n){return t[e]=n,!0}}):(Object.keys(Y).forEach((function(t){re[t]=Y[t]})),Object.keys(ot).forEach((function(t){re[t]=H(t,ot[t])})),Object.keys(st).forEach((function(t){re[t]=H(t,ot[t])})),Object.keys(lt).forEach((function(t){re[t]=lt[t]})),Object.keys(ft).forEach((function(t){re[t]=H(t,ft[t])})),Object.keys(wx).forEach((function(t){(y(wx,t)||y(Z,t))&&(re[t]=H(t,it(t,wx[t])))}))),wx.createApp=Ht,wx.createPage=Zt,wx.createComponent=te,wx.createSubpackageApp=ee,wx.createPlugin=ne;var ie=re;e.default=ie},5459:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.bootPopup=e.bootBase=void 0,e.bootBase="common/boot/base",e.bootPopup="common/boot/popup"},"54c2":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.shopStoreTitleConfig=e.shopStoreThematicConfig=e.shopStoreConfig=e.shopNoticeConfig=e.shopConfig=e.newShopConfig=e.navConfig=e.goodsConfig=e.couponConfig=void 0;var r=n("b775");e.shopConfig="shop/shop.json",e.shopNoticeConfig=r.isProd?"file/shop/shop_notice.json":"file/shop/shop_notice_test.json",e.couponConfig=r.isProd?"file/coupons.json":"file/test_coupons.json",e.goodsConfig="new/sg/goods/v2/conf",e.shopStoreConfig=r.isProd?"shop_store/shop_store_config.json":"shop_store/shop_store_config_test.json",e.shopStoreTitleConfig=r.isProd?"v230/config/module_content.json":"v230/config/module_content_test.json",e.shopStoreThematicConfig=r.isProd?"v230/config/thematic_online_v5.json":"v230/config/thematic_test_v5.json",e.newShopConfig=r.isProd?"v230/config/home_page_banner_online_v5.5_shop.json":"v230/config/home_page_banner_test_v5.5_shop.json",e.navConfig=r.isProd?"v230/config/online_navigation_info.json":"v230/config/test_navigation_info.json"},"54eb":function(t,e,n){var r=n("8eeb"),i=n("32f4");t.exports=function(t,e){return r(t,i(t),e)}},"556d":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.voteURL=e.userContactURL=e.ticketTimesURL=e.megaTaskURL=e.megaTaskListURL=e.checkIdentityURL=e.applyMegaVipURL=e.actDeliverURL=void 0,e.checkIdentityURL="new/mega_blackcard/check_identity",e.applyMegaVipURL="new/mega_blackcard/apply",e.actDeliverURL="new/mega_activity/deliver",e.userContactURL="new/mega_activity/user_info",e.ticketTimesURL="new/mega_activity/get_ticket_times",e.voteURL="new/mega_activity/vote",e.megaTaskURL="new/mega_activity/complete_task",e.megaTaskListURL="new/mega_activity/task_list"},5729:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.wechatReg=e.wechatLogin=e.verifyCode=e.eventUrl=e.blackBox=void 0,e.wechatLogin="new/user/login/wechat_mini",e.wechatReg="new/user/reg/wechat_mini_phone",e.verifyCode="new/user/reg/wechat_mini_verify_code",e.blackBox="new/sg/tongdun/change_black_box",e.eventUrl="new/sg/goods/v2/event"},5768:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={pages:{"pages/index":{navigationStyle:"custom",enablePullDownRefresh:!0,onReachBottomDistance:150,initialRenderingCache:"static"},"pages/storeGo/shop/shop":{navigationStyle:"custom",enablePullDownRefresh:!0,onReachBottomDistance:150},"pages/drawBox/index":{navigationStyle:"custom",enablePullDownRefresh:!0,onReachBottomDistance:150},"pages/user/user":{navigationBarTitleText:" 我的",navigationStyle:"custom",enablePullDownRefresh:!0},"pages/memberCode/memberCode":{navigationBarTitleText:"会员码",navigationBarBackgroundColor:"#171414",navigationBarTextStyle:"white"},"pages/taskCenter/taskCenter":{navigationBarTitleText:"任务",enablePullDownRefresh:!0,navigationStyle:"custom",navigationBarTextStyle:"white"},"pages/cells":{navigationBarTitleText:"",enablePullDownRefresh:!0},"pages/personalCell":{navigationBarTitleText:""},"pages/webview/webview":{},"pages/webview/transite":{},"pages/storeGo/webview/webview":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/storeGo/pages/myCart/myCart":{navigationBarTitleText:"购物车",enablePullDownRefresh:!0},"packages/storeGo/pages/chooseGift/chooseGift":{navigationBarTitleText:"",enablePullDownRefresh:!0,onReachBottomDistance:5},"packages/storeGo/pages/addressList/addressList":{navigationBarTitleText:"选择收货地址",enablePullDownRefresh:!1},"packages/storeGo/pages/addAddress/addAddress":{navigationBarTitleText:"添加收货地址",enablePullDownRefresh:!1},"packages/storeGo/pages/orderDetail/orderDetail":{navigationBarTitleText:"我的订单",enablePullDownRefresh:!0},"packages/storeGo/pages/paySuccess/paySuccess":{navigationBarTitleText:"支付成功",enablePullDownRefresh:!1},"packages/storeGo/pages/sgStoreList/sgStoreList":{navigationBarTitleText:"自提门店列表",enablePullDownRefresh:!1},"packages/storeGo/pages/searchResult/searchResult":{navigationStyle:"custom",enablePullDownRefresh:!1},"packages/storeGoConformOrder/pages/confirmOrder/confirmOrder":{navigationBarTitleText:"确认订单",enablePullDownRefresh:!1,onReachBottomDistance:5},"packages/storeGoCategory/pages/index":{navigationBarTitleText:"",enablePullDownRefresh:!1,onReachBottomDistance:5,navigationStyle:"custom"},"packages/svip/pages/index/index":{navigationBarTitleText:"泡泡玛特优享卡",enablePullDownRefresh:!0},"packages/svip/pages/editInfo/editInfo":{navigationBarTitleText:"资料维护",enablePullDownRefresh:!1},"packages/svip/pages/confirmPay/confirmPay":{navigationBarTitleText:"支付确认",enablePullDownRefresh:!1},"packages/svip/pages/svipRights/svipRights":{navigationBarTitleText:"权益说明",enablePullDownRefresh:!1},"packages/svip/pages/orderList/orderList":{navigationBarTitleText:"新品优享",enablePullDownRefresh:!1},"packages/svip/pages/ticketList/ticketList":{navigationBarTitleText:"券包"},"packages/svip/pages/exchangeCardList/exchangeCardList":{navigationBarTitleText:"吊卡兑换列表",enablePullDownRefresh:!0},"packages/svip/pages/hotActivity/hotActivity":{navigationBarTitleText:"热门活动",enablePullDownRefresh:!1},"packages/svip/pages/goodsDetail/goodsDetail":{navigationBarTitleText:"商品详情",enablePullDownRefresh:!1},"packages/svip/pages/confirmOrder/confirmOrder":{navigationBarTitleText:"确认订单",enablePullDownRefresh:!1},"packages/svip/pages/confirmExchangeCard/confirmExchangeCard":{navigationBarTitleText:"确认订单",enablePullDownRefresh:!1},"packages/svip/pages/svipServiceNote/svipServiceNote":{navigationBarTitleText:"优享卡服务说明",enablePullDownRefresh:!1},"packages/svip/pages/cardServiceNote/cardServiceNote":{navigationBarTitleText:"协议",enablePullDownRefresh:!1},"packages/svip/pages/svipCard/svipCard":{navigationBarTitleText:"泡泡玛特优享卡",enablePullDownRefresh:!0},"packages/svip/pages/newSvipRights/newSvipRights":{navigationBarTitleText:"权益说明",enablePullDownRefresh:!1},"packages/svip/pages/newEditInfo/editInfo":{navigationBarTitleText:"资料维护",enablePullDownRefresh:!1},"packages/svip/pages/newConfirmPay/confirmPay":{navigationBarTitleText:"支付确认",enablePullDownRefresh:!1},"packages/svip/pages/openLite/openLite":{navigationBarTitleText:"泡泡玛特优享卡",enablePullDownRefresh:!1},"packages/giftCard/pages/giftRecords/giftRecords":{navigationBarTitleText:"收送记录",enablePullDownRefresh:!1},"packages/giftCard/pages/giftIndex/giftIndex":{navigationBarTitleText:"泡泡玛特心意卡",enablePullDownRefresh:!1},"packages/giftCard/pages/receiveGift/receiveGift":{navigationBarTitleText:"泡泡玛特心意卡",enablePullDownRefresh:!1},"packages/giftCard/pages/buyHistory/buyHistory":{navigationBarTitleText:"购买历史",enablePullDownRefresh:!1},"packages/giftCard/pages/giftDetail/giftDetail":{navigationBarTitleText:"心意卡详情",enablePullDownRefresh:!1},"packages/giftCard/pages/buyPackageGift/buyPackageGift":{navigationBarTitleText:"购买心意卡",enablePullDownRefresh:!1},"packages/giftCard/pages/buyCustomizeGift/buyCustomizeGift":{navigationBarTitleText:"购买心意卡",enablePullDownRefresh:!1},"packages/giftCard/pages/buySuccess/buySuccess":{},"packages/giftCard/pages/giftRule/giftRule":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/pointShop/pages/shop/shop":{navigationStyle:"custom",navigationBarTitleText:"积分商城",enablePullDownRefresh:!0},"packages/pointShop/pages/goodsDetail/goodsDetail":{enablePullDownRefresh:!0},"packages/pointShop/pages/confirmOrder/confirmOrder":{navigationBarTitleText:"确认订单"},"packages/pointShop/pages/confirmExchangeOrder/confirmExchangeOrder":{navigationBarTitleText:"确认订单"},"packages/pointShop/pages/paySuccess/paySuccess":{navigationBarTitleText:"支付成功"},"packages/pointShop/pages/orderDetail/orderDetail":{navigationBarTitleText:"订单详情",navigationBarBackgroundColor:"#FFFFFF",navigationBarTextStyle:"black",enablePullDownRefresh:!1},"packages/pointShop/pages/redbag/redbag":{navigationBarTitleText:"红包封面合集"},"packages/robot/pages/robotIndex/robotIndex":{navigationBarTitleText:"泡泡玛特会员中心",navigationBarBackgroundColor:"#171414",navigationBarTextStyle:"white"},"packages/robot/pages/robotConfirmOrder/robotConfirmOrder":{navigationBarTitleText:"泡泡玛特会员中心",enablePullDownRefresh:!0},"packages/robot/pages/robotSuccessOrder/robotSuccessOrder":{navigationBarTitleText:"泡泡玛特会员中心",usingComponents:{}},"packages/robot/pages/robotSuccess/robotSuccess":{navigationBarTitleText:"泡泡玛特会员中心"},"packages/robot/pages/robotLimitedAct/robotLimitedActIndex":{navigationBarTitleText:"限时任务",usingComponents:{}},"packages/robot/pages/robotLimitedAct/robotLimitedActExchangeList":{navigationBarTitleText:"兑换记录"},"packages/robot/pages/popCamera/popCameraIndex":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/robot/pages/popCamera/popCameraConfirmOrder":{navigationBarTitleText:"确认商品",enablePullDownRefresh:!1},"packages/robot/pages/popCamera/popCameraSuccess":{navigationBarTitleText:"支付成功",enablePullDownRefresh:!1},"packages/robot/pages/popCamera/popCameraSuccessOrder":{navigationBarTitleText:"订单详情",enablePullDownRefresh:!1,usingComponents:{}},"packages/gashapon/pages/gashaponSuccessOrder/gashaponSuccessOrder":{navigationBarTitleText:"泡泡玛特会员中心",usingComponents:{}},"packages/login/pages/phoneLogin/phoneLogin":{navigationBarTitleText:"手机登录"},"packages/login/pages/indexLogin/indexLogin":{navigationBarTitleText:""},"packages/login/pages/agreement/agreement":{navigationBarTitleText:"注册协议",usingComponents:{}},"packages/aboutUser/pages/userInfo/userInfo":{navigationBarTitleText:"个人信息",usingComponents:{}},"packages/aboutUser/pages/pointsDetail/pointsDetail":{navigationBarTitleText:"积分明细",enablePullDownRefresh:!0},"packages/aboutUser/pages/pointsMethod/pointsMethod":{navigationBarTitleText:"积分攻略",usingComponents:{}},"packages/aboutUser/pages/popValue/popValue":{navigationBarTitleText:"泡泡值",enablePullDownRefresh:!0,navigationStyle:"custom",navigationBarBackgroundColor:"#171414",navigationBarTextStyle:"white"},"packages/aboutUser/pages/vipRights/vipRights":{navigationBarTitleText:" 会员权益",navigationStyle:"custom",enablePullDownRefresh:!1},"packages/aboutUser/pages/vipRights/vipRightsDetail/vipRightsDetail":{navigationBarTitleText:"泡泡值明细",enablePullDownRefresh:!1},"packages/aboutUser/pages/rightsDetail/rightsDetail":{navigationStyle:"custom",navigationBarTitleText:" 权益详情",enablePullDownRefresh:!1},"packages/aboutUser/pages/medalHall/medalHallDetail":{navigationBarTitleText:"徽章馆",navigationStyle:"custom",enablePullDownRefresh:!1},"packages/aboutUser/pages/medalHall/medalHall":{navigationBarTitleText:"徽章馆",navigationStyle:"custom",enablePullDownRefresh:!1},"packages/aboutUser/pages/medalHall/medalHistory":{navigationBarTitleText:"历史徽章",navigationStyle:"custom",enablePullDownRefresh:!1},"packages/aboutUser/pages/medalHall/drawShareMedal":{navigationBarTitleText:"分享徽章",enablePullDownRefresh:!1},"packages/aboutUser/pages/msgBox/msgBox":{navigationBarTitleText:"消息盒子",enablePullDownRefresh:!0},"packages/aboutUser/pages/msgBox/msgDetail":{navigationBarTitleText:"泡泡玛特会员中心",enablePullDownRefresh:!0},"packages/aboutUser/pages/settings/settings":{navigationBarTitleText:"设置",enablePullDownRefresh:!1},"packages/aboutUser/pages/settings/rules":{navigationBarTitleText:"查询协议",enablePullDownRefresh:!1},"packages/aboutUser/pages/settings/logoutTips":{navigationBarTitleText:"注销账号",enablePullDownRefresh:!1},"packages/aboutUser/pages/completeTasks/completeTasks":{navigationBarTitleText:"已完成任务",enablePullDownRefresh:!1},"packages/exchange/pages/exchangeRecord/exchangeRecord":{navigationBarTitleText:"兑换记录",enablePullDownRefresh:!0},"packages/exchange/pages/exchangeArea/exchangeArea":{navigationBarTitleText:"兑换专区",navigationBarBackgroundColor:"#171414",navigationBarTextStyle:"white"},"packages/exchange/pages/exchangeRule/exchangeRule":{navigationBarTitleText:"兑换规则",enablePullDownRefresh:!0},"packages/lottery/pages/lotteryHome":{navigationBarTitleText:"泡泡玛特抽选",enablePullDownRefresh:!0},"packages/lottery/pages/lotteryDetail":{navigationBarTitleText:"泡泡玛特抽选",enablePullDownRefresh:!1},"packages/lottery/pages/lotteryAuth":{navigationBarTitleText:"泡泡玛特抽选",enablePullDownRefresh:!1},"packages/lottery/pages/lotteryShare":{navigationBarTitleText:"好友助力",enablePullDownRefresh:!1},"packages/lottery/pages/lotteryHelpList":{navigationBarTitleText:"助力记录",enablePullDownRefresh:!1},"packages/luckyBag/pages/index":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/luckyBag/pages/detail":{navigationBarTitleText:"",enablePullDownRefresh:!1,navigationStyle:"custom"},"packages/memberEducation/pages/memberEducation":{navigationBarTitleText:"泡泡玛特",enablePullDownRefresh:!1},"packages/activity/pages/octNovSecond/cardRecords":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!1},"packages/activity/pages/octNovSecond/index":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!0},"packages/activity/pages/octNovSecond/cardExchange":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!0},"packages/activity/pages/octNovSecond/invite":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!1},"packages/activity/pages/octNovSecond/taskHelpRecords":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!1},"packages/activity/pages/octNovSecond/exchangeRecords":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!0},"packages/activity/pages/octNovSecond/secondRules":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!1},"packages/activity/pages/octNovSecond/taskRecord":{navigationBarTitleText:"泡泡卡牌站",enablePullDownRefresh:!1},"packages/activity/pages/decTask/inviteHelp":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/activity/pages/Jan2022/inviteHelp":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/activity/pages/wechatGroup/wechatGroup":{navigationBarTitleText:"泡泡星球专属福利",enablePullDownRefresh:!1},"packages/activity/pages/couponActivity/couponActivity":{},"packages/activity/pages/luckyDraw/index":{navigationBarTitleText:"抽选活动",enablePullDownRefresh:!0},"packages/activity/pages/luckyDraw/drawRecord":{navigationBarBackgroundColor:"#EEEEEE",navigationBarTitleText:"抽选记录",enablePullDownRefresh:!0},"packages/activity/pages/luckyDraw/taskRecord":{navigationBarBackgroundColor:"#EEEEEE",navigationBarTitleText:"资格卡获得记录",enablePullDownRefresh:!0},"packages/activity/pages/wishGashapon/index":{navigationBarTitleText:"奇趣扭蛋机",enablePullDownRefresh:!0},"packages/community/pages/community/community":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/mindCardSecond/pages/mindCardSecond/mindCardSecond":{navigationBarTitleText:"泡泡心意卡",enablePullDownRefresh:!1},"packages/memberDay/pages/memberDay/memberDay":{navigationBarTitleText:"会员日",enablePullDownRefresh:!1},"packages/storePaymentLink/pages/storeIndex/storeIndex":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/storePaymentLink/pages/storeSuccess/storeSuccess":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/storePaymentLink/pages/storeSuccessOrder/storeSuccessOrder":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/storePaymentLink/pages/storeConfirmOrder/storeConfirmOrder":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/NFC/pages/index":{navigationBarTitleText:"产品ID查询",enablePullDownRefresh:!1},"packages/NFC/pages/authResult":{navigationBarTitleText:"产品ID查询",enablePullDownRefresh:!1},"packages/newGoods/pages/newGoods/newGoods":{navigationStyle:"custom",navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/newGoods/pages/newGoods/saleCalendar":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/storeQuery/pages/storeDetail/storeDetail":{navigationBarTitleText:"门店详情",enablePullDownRefresh:!1},"packages/storeQuery/pages/storeList/storeList":{navigationBarTitleText:"门店列表",enablePullDownRefresh:!1},"packages/newRule/pages/newRule/newRule":{navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/cardPackage/pages/storeCoupon/storeCoupon":{navigationBarTitleText:"门店券",enablePullDownRefresh:!1},"packages/cardPackage/pages/cardPackage/cardPackage":{navigationBarTitleText:"卡券包",enablePullDownRefresh:!1},"packages/cardPackage/pages/invalidCardPackage/invalidCardPackage":{navigationBarTitleText:"卡券包",enablePullDownRefresh:!1},"packages/cardPackage/pages/storeGoCoupon/storeGoCoupon":{navigationBarTitleText:"卡券包",enablePullDownRefresh:!1},"packages/service_lineup/pages/service_lineup/service_lineup":{navigationBarTitleText:"",enablePullDownRefresh:!1,navigationStyle:"custom"},"packages/service_lineup/pages/service_lineup/stopPC":{navigationBarTitleText:"",enablePullDownRefresh:!1,navigationStyle:"custom"},"packages/service_lineup/pages/service_lineup/network_busy":{navigationBarTitleText:"",enablePullDownRefresh:!1,navigationStyle:"custom"},"packages/myOrder/pages/myOrder/myOrder":{navigationBarTitleText:"我的订单",enablePullDownRefresh:!0},"packages/myOrder/pages/myOrder/historyOrder":{navigationBarTitleText:"全部订单",enablePullDownRefresh:!0},"packages/storeGoGoodsDetail/pages/goodsDetail/goodsDetail":{navigationBarTitleText:"商品详情",navigationStyle:"custom",enablePullDownRefresh:!0},"packages/others/pages/htmlReserve":{navigationBarTitleText:"泡泡玛特",enablePullDownRefresh:!1},"packages/packageCard/pages/index":{navigationBarTitleText:"泡泡星球启航能量站",enablePullDownRefresh:!1},"packages/answer/pages/index":{navigationBarTitleText:"答卡地图"},"packages/answer/pages/mapAnswer":{navigationBarTitleText:"「答」卡地图赢好礼",enablePullDownRefresh:!1},"packages/answer/pages/answerResult":{navigationBarTitleText:"「答」卡地图赢好礼",enablePullDownRefresh:!1},"packages/answer/pages/inviteHelpAnswer":{navigationBarTitleText:"「答」卡地图赢好礼",enablePullDownRefresh:!1},"packages/answer/pages/inviteJoinTeam":{navigationBarTitleText:"「答」卡地图赢好礼",enablePullDownRefresh:!1},"packages/answer/pages/lotteryRecord":{navigationBarTitleText:"抽奖记录",enablePullDownRefresh:!1},"packages/answer/pages/answerTimes":{navigationBarTitleText:"答题次数",enablePullDownRefresh:!1},"packages/answer/pages/teamTaskRecord":{navigationBarTitleText:"团队任务记录",enablePullDownRefresh:!1},"packages/serverConfig/pages/serverConfig":{navigationBarTitleText:"环境切换"},"packages/ipStory/pages/index":{navigationBarTitleText:""},"packages/storeClock/pages/index":{navigationBarTitleText:"",navigationStyle:"custom",enablePullDownRefresh:!0},"packages/storeClock/pages/rewardList":{navigationBarTitleText:"奖励记录",navigationBarTextStyle:"black",navigationBarBackgroundColor:"#fff",enablePullDownRefresh:!0},"packages/storeClock/pages/storeClockList":{navigationBarTitleText:"打卡足迹",navigationBarTextStyle:"black",navigationBarBackgroundColor:"#fff",enablePullDownRefresh:!0},"packages/sproutingGrain/pages/index":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/sproutingGrain/pages/confirmOrder":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/sproutingGrain/pages/lightPic":{navigationBarTitleText:"点亮图鉴",enablePullDownRefresh:!0},"packages/sproutingGrain/pages/lightRecord":{navigationBarTitleText:"点亮记录",enablePullDownRefresh:!0},"packages/sproutingGrain/pages/exchangeRecord":{navigationBarTitleText:"兑换记录",enablePullDownRefresh:!0},"packages/rousePoints/pages/rouseList":{navigationBarTitleText:"",enablePullDownRefresh:!0,navigationStyle:"custom"},"packages/rousePoints/pages/helpList":{navigationBarTitleText:"助力记录",enablePullDownRefresh:!0},"packages/rousePoints/pages/losePoints":{navigationBarTitleText:"失效积分",enablePullDownRefresh:!0},"packages/annivCelebrate/pages/index":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/annivCelebrate/pages/rewardList":{navigationBarTitleText:"奖励记录"},"packages/annivCelebrateGroup/pages/index":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/annivCelebrateGroup/pages/list":{navigationBarTitleText:"",enablePullDownRefresh:!0},"packages/mega/index":{navigationStyle:"custom",navigationBarTitleText:"",enablePullDownRefresh:!1},"packages/boxlite/pages/usableGoodsByCoupon":{navigationBarTitleText:"商品列表",enablePullDownRefresh:!0},"packages/boxlite/pages/box/index":{navigationStyle:"custom"},"packages/boxlite/pages/cart/index":{navigationBarTitleText:"抽盒篮",enablePullDownRefresh:!0},"packages/boxlite/pages/confirm/index":{navigationBarTitleText:"确认订单"},"packages/boxlite/pages/result/index":{navigationStyle:"custom"},"packages/boxlite/pages/selectCoupon":{navigationBarTitleText:"选择优惠券"},"packages/boxliteOrder/pages/myBox":{navigationBarTitleText:"我的订单",enablePullDownRefresh:!1},"packages/boxliteOrder/pages/orderDetail":{navigationBarTitleText:"订单详情",enablePullDownRefresh:!1},"packages/boxliteOrder/pages/expressDetail":{navigationBarTitleText:"查看物流",enablePullDownRefresh:!1},"packages/livePages/pages/livePages":{navigationBarTitleText:"直播间"},"packages/livePages/pages/liveMiddlePage":{navigationBarTitleText:"直播间"},"packages/birthMonth/pages/index":{navigationBarTitleText:"会员生日月"},"packages/birthMonth/pages/storeGiftQuery":{navigationBarTitleText:"查询余量"},"packages/robotOnline/pages/index":{navigationBarTitleText:"结算页",enablePullDownRefresh:!0},"packages/anniversary14/pages/ipMatch/index":{navigationBarTitleText:"奇幻测试屋"},"packages/anniversary14/pages/ipMatch/guide":{navigationBarTitleText:"奇幻测试屋"},"packages/anniversary14/pages/ipMatch/answer":{navigationBarTitleText:"奇幻测试屋"},"packages/anniversary14/pages/ipMatch/result":{navigationBarTitleText:"奇幻测试屋",enablePullDownRefresh:!0},"packages/anniversary14/pages/ipMatch/guess":{navigationBarTitleText:"奇幻测试屋",enablePullDownRefresh:!0},"packages/anniversary14/pages/ipMatch/archive":{navigationBarTitleText:"我的档案",enablePullDownRefresh:!0},"packages/anniversary14/pages/ipMatch/lottery":{navigationBarTitleText:"竞猜开奖"},"packages/anniversary14/pages/ipMatch/rewards":{navigationBarTitleText:"奖励列表"},"packages/anniversary14/pages/index":{navigationBarTitleText:"【玩心乐园】"},"packages/anniversary14/pages/pointsExchange":{navigationBarTitleText:"心愿派“兑”坊",enablePullDownRefresh:!0},"packages/anniversary14/pages/exchangeRecord":{navigationBarTitleText:"兑换记录",enablePullDownRefresh:!0}},globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"泡泡玛特",navigationBarBackgroundColor:"#FFFFFF",backgroundColor:"#F6F6F6"}}},"582a":function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("365c"),o=function(t){return t&&t.__esModule?t:{default:t}}(n("eea7"));function a(){a=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new j(r||[]);return o(a,"_invoke",{value:O(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",g="executing",v="completed",y={};function m(){}function _(){}function b(){}var w={};f(w,u,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==n&&i.call(S,u)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,a,s,u){var c=h(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function O(e,n,r){var i=d;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?v:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(i.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return _.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:_,configurable:!0}),_.displayName=f(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},T(P.prototype),f(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(p(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function s(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,u,"next",t)}function u(t){s(o,r,i,a,u,"throw",t)}a(void 0)}))}}var c=t.getStorageSync("storeInfo")||{};e.default={omsStore:function(e){var n=e.isOms,r=void 0===n||n,s=e.isStore,l=void 0!==s&&s,f=e.storeID,p=void 0===f?"":f,h=e.isShare,d=void 0!==h&&h;return new Promise(function(){var e=u(a().mark((function e(n,s){var u,f,h,g,v,y,m,_,b,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,r){Object.keys(e).length?(c=e,t.setStorageSync("storeInfo",c),n({store_info:c,location:r})):s(null)},!d||!p){e.next=10;break}return null,e.next=5,(0,i.goGetStoreDetail)({id:p});case 5:return f=e.sent,h=f.data.data,u(h||c,null),e.abrupt("return");case 10:if(g={latitude:"",longitude:""},e.prev=11,!r){e.next=16;break}return e.next=15,(0,o.default)("getLocation");case 15:g=e.sent;case 16:if(v={lat:g.latitude,lon:g.longitude},!l||!p){e.next=23;break}return e.next=20,(0,i.goGetStoreDetail)({id:p});case 20:e.t0=e.sent,e.next=26;break;case 23:return e.next=25,(0,i.goGetOmsStore)(v);case 25:e.t0=e.sent;case 26:y=e.t0,m=y.data.data,u(m,g),e.next=41;break;case 31:if(e.prev=31,e.t1=e.catch(11),_=null,!l||!p){e.next=40;break}return e.next=37,(0,i.goGetStoreDetail)({id:p});case 37:b=e.sent,w=b.data.data,_=w;case 40:u(_||c,null);case 41:case"end":return e.stop()}}),e,null,[[11,31]])})));return function(t,n){return e.apply(this,arguments)}}())}}}).call(this,n("543d").default)},"585a":function(t,e,n){(function(e){var n="object"==_typeof2(e)&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"58b5":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={isTextElement:function(t){var e=t.dataset.text,n=t.type;return Boolean(e)||"text"===n},isImageElement:function(t){var e=t.src,n=t.type;return Boolean(e)||"image"===n},isViewBacElement:function(t){return t.dataset.viewbac},isBackgroundElement:function(t){return t.dataset.background},isTopElement:function(t){return t.dataset.topzindex},isTopTextElement:function(t){return t.dataset.toptextzindex}}},"5b01":function(t,e,n){var r=n("8eeb"),i=n("ec69");t.exports=function(t,e){return t&&r(e,i(e),t)}},"5baf":function(t,e,n){var r=n("7948"),i=n("47f5"),o=n("d86b"),a=n("b047"),s=n("4359"),u=Array.prototype.splice;t.exports=function(t,e,n,c){var l=c?o:i,f=-1,p=e.length,h=t;for(t===e&&(e=s(e)),n&&(h=r(t,a(n)));++f<p;)for(var d=0,g=e[f],v=n?n(g):g;(d=l(h,v,d,c))>-1;)h!==t&&u.call(h,d,1),u.call(t,d,1);return t}},"5ca0":function(t,e,n){var r=n("badf"),i=n("30c9"),o=n("ec69");t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}},"60ed":function(t,e,n){var r=n("3729"),i=n("2dcb"),o=n("1310"),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},"60fe":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.noToastArr=e.needFingalSign=e.jsonCacheUrlArr=e.errorsCodeListObj=e.closeLoadingStoreArr=e.closeLoadingBoxOrder=e.closeLoadingArr=void 0,e.closeLoadingArr=["common/store/pointOrderSuccess","common/robot/paySuccess"],e.closeLoadingStoreArr=["new/sg/goods/tag_info","new/sg/advertising/mall","file/shop_broadcast_test.json","file/shop_broadcast.json","file/shop_share_test.json","file/shop_share.json","new/sg/goods/v2/list","file/go_reduce_level_test.json","file/go_reduce_level.json","new/sg/store/oms_recommend_store","new/sg/goods/spus_inventory","new/sg/store_tickoff/index"],e.closeLoadingBoxOrder=["graph/notice/v1/notice/notices/users/has-subscribe","playerserver/v1/user/get_user_expand_info","orderserver/v1/order/placeOrder","orderserver/v1/order/checkOrder"],e.noToastArr=["common/member/wechat_card_sync","common/member/wechat_card_alter","common/member/wechat_card_all_sync","new/sg/store/sellout_recommend_store","common/index/get_box_user","new/store_tickoff/tickoff"],e.needFingalSign=["new/sg/order/create_order","storego/sg/order/waiting_pay/pay_v2","new/sg/order/create_v3","new/fudai/submit_order","new/sg/order/create_popbean"],e.jsonCacheUrlArr=["order_config/order_config.json","file/go_reduce_level.json","store/free_shipping/free_shipping_conf_prod.json","public/public_prod.json","public_article/public_article.json","file/answer/back_activity.json","file/svip_exchange_tips.json","public/globalConfig_pro.json"],e.errorsCodeListObj={102003:"触发用户频率限制",102006:"非法请求",102016:"路由错误。请求地址不在安全网关的小程序 URL 里",102020:"触发安全网关套餐 QPS 限制",102021:"触发安全网关套餐带宽限制",102022:"请求地址不在安全网关的小程序 URL 里",104100:"请求重放拦截","-601001":"系统失败","-601008":"请求超时","-601069":"安全网关访问源站时连接失败"}},"61f7":function(t,e){t.exports={validateURL:function(t){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)},isvalidPhone:function(t){return/^1\d{10}$/.test(t)},validateChina:function(t){return/^[\u4e00-\u9fa5]+$/.test(t)},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},validateNumber:function(t){return/^\d+$/.test(t)},isvalidateInt:function(t){return/(^[1-9]\d*$)/.test(t)},isYearGoodsCode:function(t){return/^(?=.*[A-Z])(?=.*\d)[A-Z\d]{11}$/.test(t)}}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6612:function(t,e,n){var r,i;r=function(){var t,e,n={},r={},i={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},o={currentLocale:i.currentLocale,zeroFormat:i.zeroFormat,nullFormat:i.nullFormat,defaultFormat:i.defaultFormat,scalePercentBy100:i.scalePercentBy100};function a(t,e){this._input=t,this._value=e}return(t=function(r){var i,s,u,c;if(t.isNumeral(r))i=r.value();else if(0===r||void 0===r)i=0;else if(null===r||e.isNaN(r))i=null;else if("string"==typeof r)if(o.zeroFormat&&r===o.zeroFormat)i=0;else if(o.nullFormat&&r===o.nullFormat||!r.replace(/[^0-9]+/g,"").length)i=null;else{for(s in n)if((c="function"==typeof n[s].regexps.unformat?n[s].regexps.unformat():n[s].regexps.unformat)&&r.match(c)){u=n[s].unformat;break}i=(u=u||t._.stringToNumber)(r)}else i=Number(r)||null;return new a(r,i)}).version="2.0.6",t.isNumeral=function(t){return t instanceof a},t._=e={numberToFormat:function(e,n,i){var o,a,s,u,c,l,f,p,h=r[t.options.currentLocale],d=!1,g=!1,v="",y=1e12,m=1e9,_=1e6,b="",w=!1;if(e=e||0,a=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),a>=y&&!o||"t"===o?(v+=h.abbreviations.trillion,e/=y):a<y&&a>=m&&!o||"b"===o?(v+=h.abbreviations.billion,e/=m):a<m&&a>=_&&!o||"m"===o?(v+=h.abbreviations.million,e/=_):(a<_&&a>=1e3&&!o||"k"===o)&&(v+=h.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(g=!0,n=n.replace("[.]",".")),s=e.toString().split(".")[0],u=n.split(".")[1],l=n.indexOf(","),p=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),b=t._.toFixed(e,u[0].length+u[1].length,i,u[1].length)):b=t._.toFixed(e,u.length,i),s=b.split(".")[0],b=t._.includes(b,".")?h.delimiters.decimal+b.split(".")[1]:"",g&&0===Number(b.slice(1))&&(b="")):s=t._.toFixed(e,0,i),v&&!o&&Number(s)>=1e3&&v!==h.abbreviations.trillion)switch(s=String(Number(s)/1e3),v){case h.abbreviations.thousand:v=h.abbreviations.million;break;case h.abbreviations.million:v=h.abbreviations.billion;break;case h.abbreviations.billion:v=h.abbreviations.trillion}if(t._.includes(s,"-")&&(s=s.slice(1),w=!0),s.length<p)for(var x=p-s.length;x>0;x--)s="0"+s;return l>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(s=""),f=s+b+(v||""),d?f=(d&&w?"(":"")+f+(d&&w?")":""):c>=0?f=0===c?(w?"-":"+")+f:f+(w?"-":"+"):w&&(f="-"+f),f},stringToNumber:function(t){var e,n,i,a=r[o.currentLocale],s=t,u={thousand:3,million:6,billion:9,trillion:12};if(o.zeroFormat&&t===o.zeroFormat)n=0;else if(o.nullFormat&&t===o.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==a.delimiters.decimal&&(t=t.replace(/\./g,"").replace(a.delimiters.decimal,".")),u)if(i=new RegExp("[^a-zA-Z]"+a.abbreviations[e]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),s.match(i)){n*=Math.pow(10,u[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return"number"==typeof t&&isNaN(t)})),includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,n){var r=e.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,e,n,r){var i,o,a,s,u=t.toString().split("."),c=e-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,c),e):c,a=Math.pow(10,i),s=(n(t+"e+"+i)/a).toFixed(i),r>e-i&&(o=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),s=s.replace(o,"")),s}},t.options=o,t.formats=n,t.locales=r,t.locale=function(t){return t&&(o.currentLocale=t.toLowerCase()),o.currentLocale},t.localeData=function(t){if(!t)return r[o.currentLocale];if(t=t.toLowerCase(),!r[t])throw new Error("Unknown locale : "+t);return r[t]},t.reset=function(){for(var t in i)o[t]=i[t]},t.zeroFormat=function(t){o.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){o.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){o.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,i,o,a,s,u,c,l;if("string"!=typeof e&&(e+="",console.warn),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(n)}catch(e){c=t.localeData(t.locale())}return o=c.currency.symbol,s=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,!(null!==(l=e.match(/^[^\d]+/))&&(e=e.substr(1),l[0]!==o)||(l=e.match(/[^\d]+$/),null!==l&&(e=e.slice(0,-1),l[0]!==s.thousand&&l[0]!==s.million&&l[0]!==s.billion&&l[0]!==s.trillion)||(u=new RegExp(i+"{2}"),e.match(/[^\d.,]/g)||(a=e.split(r),a.length>2||(a.length<2?!a[0].match(/^\d+.*\d$/)||a[0].match(u):1===a[0].length?!a[0].match(/^\d+$/)||a[0].match(u)||!a[1].match(/^\d+$/):!a[0].match(/^\d+.*\d$/)||a[0].match(u)||!a[1].match(/^\d+$/))))))},t.fn=a.prototype={clone:function(){return t(this)},format:function(e,r){var i,a,s,u=this._value,c=e||o.defaultFormat;if(r=r||Math.round,0===u&&null!==o.zeroFormat)a=o.zeroFormat;else if(null===u&&null!==o.nullFormat)a=o.nullFormat;else{for(i in n)if(c.match(n[i].regexps.format)){s=n[i].format;break}a=(s=s||t._.numberToFormat)(u,c,r)}return a},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,r,i){return t+Math.round(n*e)}),0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,r,i){return t-Math.round(n*e)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)*Math.round(n*o)/Math.round(o*o)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)/Math.round(n*o)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var i,o=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=e.suffixes.concat(n.suffixes.filter((function(t){return e.suffixes.indexOf(t)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var a,s,u,c=t._.includes(i,"ib")?n:e,l=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(s=Math.pow(c.base,a),u=Math.pow(c.base,a+1),null===r||0===r||r>=s&&r<u){l+=c.suffixes[a],s>0&&(r/=s);break}return t._.numberToFormat(r,i,o)+l},unformat:function(r){var i,o,a=t._.stringToNumber(r);if(a){for(i=e.suffixes.length-1;i>=0;i--){if(t._.includes(r,e.suffixes[i])){o=Math.pow(e.base,i);break}if(t._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}a*=o||1}return a}})}(),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var i,o,a,s=t.locales[t.options.currentLocale],u={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,r),e>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(u.before,"-")&&!t._.includes(u.before,"(")&&(u.before="-"+u.before),a=0;a<u.before.length;a++)switch(o=u.before[a],o){case"$":i=t._.insert(i,s.currency.symbol,a);break;case" ":i=t._.insert(i," ",a+s.currency.symbol.length-1)}for(a=u.after.length-1;a>=0;a--)switch(o=u.after[a],o){case"$":i=a===u.after.length-1?i+s.currency.symbol:t._.insert(i,s.currency.symbol,-(u.after.length-(1+a)));break;case" ":i=a===u.after.length-1?i+" ":t._.insert(i," ",-(u.after.length-(1+a)+s.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],(function(e,n,r,i){var o=t._.correctionFactor(e,n);return e*o*(n*o)/(o*o)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var i=t.locales[t.options.currentLocale],o=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(e),t._.numberToFormat(e,n,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var i,o=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t},void 0===(i="function"==typeof r?r.call(e,n,e,t):r)||(t.exports=i)},"66c7":function(t,e,n){var r=n("ce86"),i=n("8d74"),o=n("c32f"),a=n("2cf8"),s=n("b789"),u=n("126d"),c=n("76dd");t.exports=function(t,e,n){if((t=c(t))&&(n||void 0===e))return i(t);if(!t||!(e=r(e)))return t;var l=u(t),f=u(e),p=s(l,f),h=a(l,f)+1;return o(l,p,h).join("")}},"66fd":function(t,e,n){n.r(e),function(t){var n=Object.freeze({});function r(t){return null==t}function i(t){return null!=t}function o(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"===_typeof2(t)||"boolean"==typeof t}function s(t){return null!==t&&"object"===_typeof2(t)}var u=Object.prototype.toString;function c(t){return"[object Object]"===u.call(t)}function l(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function h(t){var e=parseFloat(t);return isNaN(e)?t:e}function d(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}d("slot,component",!0);var g=d("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function m(t,e){return y.call(t,e)}function _(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var b=/-(\w)/g,w=_((function(t){return t.replace(b,(function(t,e){return e?e.toUpperCase():""}))})),x=_((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),S=/\B([A-Z])/g,k=_((function(t){return t.replace(S,"-$1").toLowerCase()}));var T=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function P(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function O(t,e){for(var n in e)t[n]=e[n];return t}function A(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function C(t,e,n){}var E=function(t,e,n){return!1},j=function(t){return t};function I(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return I(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every((function(n){return I(t[n],e[n])}))}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(I(t[n],e))return n;return-1}function D(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var L=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:E,isReservedAttr:E,isUnknownElement:E,getTagNamespace:C,parsePlatformTagName:j,mustUseProp:E,async:!0,_lifecycleHooks:U};function M(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function N(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var $=new RegExp("[^"+/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source+".$_\\d]");var q,G="__proto__"in{},F="undefined"!=typeof window,H="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,z=H&&WXEnvironment.platform.toLowerCase(),W=F&&window.navigator.userAgent.toLowerCase(),V=W&&/msie|trident/.test(W),J=(W&&W.indexOf("msie 9.0"),W&&W.indexOf("edge/"),W&&W.indexOf("android"),W&&/iphone|ipad|ipod|ios/.test(W)||"ios"===z),Y=(W&&/chrome\/\d+/.test(W),W&&/phantomjs/.test(W),W&&W.match(/firefox\/(\d+)/),{}.watch);if(F)try{var K={};Object.defineProperty(K,"passive",{get:function(){}}),window.addEventListener("test-passive",null,K)}catch(t){}var X=function(){return void 0===q&&(q=!F&&!H&&void 0!==t&&t.process&&"server"===t.process.env.VUE_ENV),q},Q=F&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Z(t){return"function"==typeof t&&/native code/.test(t.toString())}var tt,et="undefined"!=typeof Symbol&&Z(Symbol)&&"undefined"!=typeof Reflect&&Z(Reflect.ownKeys);tt="undefined"!=typeof Set&&Z(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var nt=C,rt=0,it=function(){this.id=rt++,this.subs=[]};function ot(t){it.SharedObject.targetStack.push(t),it.SharedObject.target=t,it.target=t}function at(){it.SharedObject.targetStack.pop(),it.SharedObject.target=it.SharedObject.targetStack[it.SharedObject.targetStack.length-1],it.target=it.SharedObject.target}it.prototype.addSub=function(t){this.subs.push(t)},it.prototype.removeSub=function(t){v(this.subs,t)},it.prototype.depend=function(){it.SharedObject.target&&it.SharedObject.target.addDep(this)},it.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},(it.SharedObject={}).target=null,it.SharedObject.targetStack=[];var st=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ut={child:{configurable:!0}};ut.child.get=function(){return this.componentInstance},Object.defineProperties(st.prototype,ut);var ct=function(t){void 0===t&&(t="");var e=new st;return e.text=t,e.isComment=!0,e};function lt(t){return new st(void 0,void 0,void 0,String(t))}var ft=Array.prototype,pt=Object.create(ft);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=ft[t];N(pt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o}))}));var ht=Object.getOwnPropertyNames(pt),dt=!0;function gt(t){dt=t}var vt=function(t){this.value=t,this.dep=new it,this.vmCount=0,N(t,"__ob__",this),Array.isArray(t)?(G?t.push!==t.__proto__.push?yt(t,pt,ht):function(t,e){t.__proto__=e}(t,pt):yt(t,pt,ht),this.observeArray(t)):this.walk(t)};function yt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];N(t,o,e[o])}}function mt(t,e){var n;if(s(t)&&!(t instanceof st))return m(t,"__ob__")&&t.__ob__ instanceof vt?n=t.__ob__:dt&&!X()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new vt(t)),e&&n&&n.vmCount++,n}function _t(t,e,n,r,i){var o=new it,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&mt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return it.SharedObject.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&xt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!u||(u?u.call(t,e):n=e,c=!i&&mt(e),o.notify())}})}}function bt(t,e,n){if(Array.isArray(t)&&l(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(_t(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function wt(t,e){if(Array.isArray(t)&&l(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||m(t,e)&&(delete t[e],n&&n.dep.notify())}}function xt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&xt(e)}vt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)_t(t,e[n])},vt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)mt(t[e])};var St=B.optionMergeStrategies;function kt(t,e){if(!e)return t;for(var n,r,i,o=et?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],m(t,n)?r!==i&&c(r)&&c(i)&&kt(r,i):bt(t,n,i));return t}function Tt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?kt(r,i):i}:e?t?function(){return kt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Pt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Ot(t,e,n,r){var i=Object.create(t||null);return e?O(i,e):i}St.data=function(t,e,n){return n?Tt(t,e,n):e&&"function"!=typeof e?t:Tt(t,e)},U.forEach((function(t){St[t]=Pt})),L.forEach((function(t){St[t+"s"]=Ot})),St.watch=function(t,e,n,r){if(t===Y&&(t=void 0),e===Y&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in O(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},St.props=St.methods=St.inject=St.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return O(i,t),e&&O(i,e),i},St.provide=Tt;var At=function(t,e){return void 0===e?t:e};function Ct(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[w(i)]={type:null});else if(c(n))for(var a in n)i=n[a],o[w(a)]=c(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var a=n[o];r[o]=c(a)?O({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Ct(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Ct(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)m(t,o)||s(o);function s(r){var i=St[r]||At;a[r]=i(t[r],e[r],n,r)}return a}function Et(t,e,n,r){if("string"==typeof n){var i=t[e];if(m(i,n))return i[n];var o=w(n);if(m(i,o))return i[o];var a=x(o);return m(i,a)?i[a]:i[n]||i[o]||i[a]}}function jt(t,e,n,r){var i=e[t],o=!m(n,t),a=n[t],s=Dt(Boolean,i.type);if(s>-1)if(o&&!m(i,"default"))a=!1;else if(""===a||a===k(t)){var u=Dt(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(m(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==It(e.type)?r.call(t):r}}(r,i,t);var c=dt;gt(!0),mt(a),gt(c)}return a}function It(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Rt(t,e){return It(t)===It(e)}function Dt(t,e){if(!Array.isArray(e))return Rt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Rt(e[n],t))return n;return-1}function Lt(t,e,n){ot();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Bt(t,r,"errorCaptured hook")}}Bt(t,e,n)}finally{at()}}function Ut(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&f(o)&&!o._handled&&(o.catch((function(t){return Lt(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){Lt(t,r,i)}return o}function Bt(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Mt(e,null,"config.errorHandler")}Mt(t,e,n)}function Mt(t,e,n){if(!F&&!H||"undefined"==typeof console)throw t}var Nt,$t=[],qt=!1;function Gt(){qt=!1;var t=$t.slice(0);$t.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&Z(Promise)){var Ft=Promise.resolve();Nt=function(){Ft.then(Gt),J&&setTimeout(C)}}else if(V||"undefined"==typeof MutationObserver||!Z(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Nt="undefined"!=typeof setImmediate&&Z(setImmediate)?function(){setImmediate(Gt)}:function(){setTimeout(Gt,0)};else{var Ht=1,zt=new MutationObserver(Gt),Wt=document.createTextNode(String(Ht));zt.observe(Wt,{characterData:!0}),Nt=function(){Ht=(Ht+1)%2,Wt.data=String(Ht)}}function Vt(t,e){var n;if($t.push((function(){if(t)try{t.call(e)}catch(t){Lt(t,e,"nextTick")}else n&&n(e)})),qt||(qt=!0,Nt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var Jt=new tt;function Yt(t){(function t(e,n){var r,i,o=Array.isArray(e);if(!(!o&&!s(e)||Object.isFrozen(e)||e instanceof st)){if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}})(t,Jt),Jt.clear()}var Kt=_((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function Xt(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Ut(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)Ut(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function Qt(t,e,n,o){var a=e.options.mpOptions&&e.options.mpOptions.properties;if(r(a))return n;var s=e.options.mpOptions.externalClasses||[],u=t.attrs,c=t.props;if(i(u)||i(c))for(var l in a){var f=k(l);(Zt(n,c,l,f,!0)||Zt(n,u,l,f,!1))&&n[l]&&-1!==s.indexOf(f)&&o[w(n[l])]&&(n[l]=o[w(n[l])])}return n}function Zt(t,e,n,r,o){if(i(e)){if(m(e,n))return t[n]=e[n],o||delete e[n],!0;if(m(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function te(t){return a(t)?[lt(t)]:Array.isArray(t)?function t(e,n){var s,u,c,l,f=[];for(s=0;s<e.length;s++)r(u=e[s])||"boolean"==typeof u||(c=f.length-1,l=f[c],Array.isArray(u)?u.length>0&&(ee((u=t(u,(n||"")+"_"+s))[0])&&ee(l)&&(f[c]=lt(l.text+u[0].text),u.shift()),f.push.apply(f,u)):a(u)?ee(l)?f[c]=lt(l.text+u):""!==u&&f.push(lt(u)):ee(u)&&ee(l)?f[c]=lt(l.text+u.text):(o(e._isVList)&&i(u.tag)&&r(u.key)&&i(n)&&(u.key="__vlist"+n+"_"+s+"__"),f.push(u)));return f}(t):void 0}function ee(t){return i(t)&&i(t.text)&&function(t){return!1===t}(t.isComment)}function ne(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function re(t){var e=ie(t.$options.inject,t);e&&(gt(!1),Object.keys(e).forEach((function(n){_t(t,n,e[n])})),gt(!0))}function ie(t,e){if(t){for(var n=Object.create(null),r=et?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&m(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}}}return n}}function oe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)o.asyncMeta&&o.asyncMeta.data&&"page"===o.asyncMeta.data.slot?(n.page||(n.page=[])).push(o):(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(ae)&&delete n[c];return n}function ae(t){return t.isComment&&!t.asyncFactory||" "===t.text}function se(t,e,r){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=ue(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=ce(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),N(i,"$stable",a),N(i,"$key",s),N(i,"$hasNormal",o),i}function ue(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"===_typeof2(t)&&!Array.isArray(t)?[t]:te(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ce(t,e){return function(){return t[e]}}function le(t,e){var n,r,o,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r,r,r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r,r,r);else if(s(t))if(et&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),l=c.next();!l.done;)n.push(e(l.value,n.length,r,r++)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)u=a[r],n[r]=e(t[u],u,r,r);return i(n)||(n=[]),n._isVList=!0,n}function fe(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=O(O({},r),n)),i=o(n,this,n._i)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function pe(t){return Et(this.$options,"filters",t)||j}function he(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function de(t,e,n,r,i){var o=B.keyCodes[e]||n;return i&&r&&!B.keyCodes[e]?he(i,r):o?he(o,t):r?k(r)!==e:void 0}function ge(t,e,n,r,i){if(n&&s(n)){var o;Array.isArray(n)&&(n=A(n));var a=function(a){if("class"===a||"style"===a||g(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||B.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=w(a),c=k(a);u in o||c in o||(o[a]=n[a],!i)||((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t})};for(var u in n)a(u)}return t}function ve(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||me(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function ye(t,e,n){return me(t,"__once__"+e+(n?"_"+n:""),!0),t}function me(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&_e(t[r],e+"_"+r,n);else _e(t,e,n)}function _e(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e&&c(e)){var n=t.on=t.on?O({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}return t}function we(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?we(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function xe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Se(t,e){return"string"==typeof t?e+t:t}function ke(t){t._o=ye,t._n=h,t._s=p,t._l=le,t._t=fe,t._q=I,t._i=R,t._m=ve,t._f=pe,t._k=de,t._b=ge,t._v=lt,t._e=ct,t._u=we,t._g=be,t._d=xe,t._p=Se}function Te(t,e,r,i,a){var s,u=this,c=a.options;m(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=o(c._compiled),f=!l;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=ie(c.inject,i),this.slots=function(){return u.$slots||se(t.scopedSlots,u.$slots=oe(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return se(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=se(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var o=Re(s,t,e,n,r,f);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return Re(s,t,e,n,r,f)}}function Pe(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var l in c)u[l]=jt(l,c,e||n);else i(r.attrs)&&Ae(u,r.attrs),i(r.props)&&Ae(u,r.props);var f=new Te(r,u,a,o,t),p=s.render.call(null,f._c,f);if(p instanceof st)return Oe(p,r,f.parent,s,f);if(Array.isArray(p)){for(var h=te(p)||[],d=new Array(h.length),g=0;g<h.length;g++)d[g]=Oe(h[g],r,f.parent,s,f);return d}}function Oe(t,e,n,r,i){var o=function(t){var e=new st(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Ae(t,e){for(var n in e)t[w(n)]=e[n]}ke(Te.prototype);var Ce={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Ce.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}(t,Ve)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;Je(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(Xe(n,"onServiceCreated"),Xe(n,"onServiceAttached"),n._isMounted=!0,Xe(n,"mounted")),t.data.keepAlive&&(e._isMounted?function(t){t._inactive=!1,Ze.push(t)}(n):Ke(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Ye(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);Xe(e,"deactivated")}}(e,!0):e.$destroy())}},Ee=Object.keys(Ce);function je(t,e,n,a,u){if(!r(t)){var c=n.$options._base;if(s(t)&&(t=c.extend(t)),"function"==typeof t){var l;if(r(t.cid)&&void 0===(t=$e(l=t,c)))return function(t,e,n,r,i){var o=ct();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(l,e,n,a,u);e=e||{},_n(t),i(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}(t.options,e);var f=function(t,e,n,o){var a=e.options.props;if(r(a))return Qt(t,e,{},o);var s={},u=t.attrs,c=t.props;if(i(u)||i(c))for(var l in a){var f=k(l);Zt(s,c,l,f,!0)||Zt(s,u,l,f,!1)}return Qt(t,e,s,o)}(e,t,0,n);if(o(t.options.functional))return Pe(t,f,e,n,a);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var h=e.slot;e={},h&&(e.slot=h)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Ee.length;n++){var r=Ee[n],i=e[r],o=Ce[r];i===o||i&&i._merged||(e[r]=i?Ie(o,i):o)}}(e);var d=t.options.name||u;return new st("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:p,tag:u,children:a},l)}}}function Ie(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Re(t,e,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=2),De(t,e,n,r,i)}function De(t,e,n,r,o){return i(n)&&i(n.__ob__)?ct():(i(n)&&i(n.is)&&(e=n.is),e?(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===o?r=te(r):1===o&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e?(s=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),a=B.isReservedTag(e)?new st(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=Et(t.$options,"components",e))?new st(e,n,r,void 0,void 0,t):je(u,n,t,r,e)):a=je(e,n,t,r),Array.isArray(a)?a:i(a)?(i(s)&&Le(a,s),i(n)&&Ue(n),a):ct()):ct());var a,s,u}function Le(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&Le(u,e,n)}}function Ue(t){s(t.style)&&Yt(t.style),s(t.class)&&Yt(t.class)}var Be,Me=null;function Ne(t,e){return(t.__esModule||et&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function $e(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=Me;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],u=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return v(a,n)}));var p=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},h=D((function(n){t.resolved=Ne(n,e),u?a.length=0:p(!0)})),d=D((function(e){i(t.errorComp)&&(t.error=!0,p(!0))})),g=t(h,d);return s(g)&&(f(g)?r(t.resolved)&&g.then(h,d):f(g.component)&&(g.component.then(h,d),i(g.error)&&(t.errorComp=Ne(g.error,e)),i(g.loading)&&(t.loadingComp=Ne(g.loading,e),0===g.delay?t.loading=!0:c=setTimeout((function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,p(!1))}),g.delay||200)),i(g.timeout)&&(l=setTimeout((function(){l=null,r(t.resolved)&&d(null)}),g.timeout)))),u=!1,t.loading?t.loadingComp:t.resolved}}function qe(t){return t.isComment&&t.asyncFactory}function Ge(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||qe(n)))return n}}function Fe(t,e){Be.$on(t,e)}function He(t,e){Be.$off(t,e)}function ze(t,e){var n=Be;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function We(t,e,n){Be=t,function(t,e,n,i,a,s){var u,c,l,f;for(u in t)c=t[u],l=e[u],f=Kt(u),r(c)||(r(l)?(r(c.fns)&&(c=t[u]=Xt(c,s)),o(f.once)&&(c=t[u]=a(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)r(t[u])&&i((f=Kt(u)).name,e[u],f.capture)}(e,n||{},Fe,He,ze,t),Be=void 0}var Ve=null;function Je(t,e,r,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){gt(!1);for(var l=t._props,f=t.$options._propKeys||[],p=0;p<f.length;p++){var h=f[p],d=t.$options.props;l[h]=jt(h,d,e,t)}gt(!0),t.$options.propsData=e}t._$updateProperties&&t._$updateProperties(t),r=r||n;var g=t.$options._parentListeners;t.$options._parentListeners=r,We(t,r,g),c&&(t.$slots=oe(o,i.context),t.$forceUpdate())}function Ye(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ke(t,e){if(e){if(t._directInactive=!1,Ye(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ke(t.$children[n]);Xe(t,"activated")}}function Xe(t,e){ot();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)Ut(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),at()}var Qe=[],Ze=[],tn={},en=!1,nn=!1,rn=0;var on=Date.now;if(F&&!V){var an=window.performance;an&&"function"==typeof an.now&&on()>document.createEvent("Event").timeStamp&&(on=function(){return an.now()})}function sn(){var t,e;for(on(),nn=!0,Qe.sort((function(t,e){return t.id-e.id})),rn=0;rn<Qe.length;rn++)(t=Qe[rn]).before&&t.before(),e=t.id,tn[e]=null,t.run();var n=Ze.slice(),r=Qe.slice();rn=Qe.length=Ze.length=0,tn={},en=nn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ke(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Xe(r,"updated")}}(r),Q&&B.devtools&&Q.emit("flush")}var un=0,cn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++un,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new tt,this.newDepIds=new tt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=C)),this.value=this.lazy?void 0:this.get()};cn.prototype.get=function(){var t;ot(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Lt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Yt(t),at(),this.cleanupDeps()}return t},cn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},cn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},cn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==tn[e]){if(tn[e]=!0,nn){for(var n=Qe.length-1;n>rn&&Qe[n].id>t.id;)n--;Qe.splice(n+1,0,t)}else Qe.push(t);en||(en=!0,Vt(sn))}}(this)},cn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Lt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},cn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},cn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},cn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var ln={enumerable:!0,configurable:!0,get:C,set:C};function fn(t,e,n){ln.get=function(){return this[e][n]},ln.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ln)}function pn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];!t.$parent||gt(!1);var o=function(o){i.push(o);var a=jt(o,e,n,t);_t(r,o,a),o in t||fn(t,"_props",o)};for(var a in e)o(a);gt(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?C:T(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){ot();try{return t.call(e,e)}catch(t){return Lt(t,e,"data()"),{}}finally{at()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];r&&m(r,o)||M(o)||fn(t,"_data",o)}mt(e,!0)}(t):mt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=X();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;r||(n[i]=new cn(t,a||C,C,hn)),i in t||dn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==Y&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)yn(t,n,r[i]);else yn(t,n,r)}}(t,e.watch)}var hn={lazy:!0};function dn(t,e,n){var r=!X();"function"==typeof n?(ln.get=r?gn(e):vn(n),ln.set=C):(ln.get=n.get?r&&!1!==n.cache?gn(e):vn(n.get):C,ln.set=n.set||C),Object.defineProperty(t,e,ln)}function gn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),it.SharedObject.target&&e.depend(),e.value}}function vn(t){return function(){return t.call(this,this)}}function yn(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var mn=0;function _n(t){var e=t.options;if(t.super){var n=_n(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&O(t.extendOptions,r),(e=t.options=Ct(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function bn(t){this._init(t)}function wn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Ct(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)fn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)dn(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,L.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=O({},a.options),i[r]=a,a}}function xn(t){return t&&(t.Ctor.options.name||t.tag)}function Sn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!function(t){return"[object RegExp]"===u.call(t)}(t)&&t.test(e)}function kn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=xn(a.componentOptions);s&&!e(s)&&Tn(n,o,r,i)}}}function Tn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,v(n,e)}(function(t){t.prototype._init=function(t){var e=this;e._uid=mn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Ct(_n(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&We(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=oe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return Re(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Re(t,e,n,r,i,!0)};var o=r&&r.data;_t(t,"$attrs",o&&o.attrs||n,null,!0),_t(t,"$listeners",e._parentListeners||n,null,!0)}(e),Xe(e,"beforeCreate"),!e._$fallback&&re(e),pn(e),!e._$fallback&&ne(e),!e._$fallback&&Xe(e,"created"),e.$options.el&&e.$mount(e.$options.el)}})(bn),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=bt,t.prototype.$delete=wt,t.prototype.$watch=function(t,e,n){var r=this;if(c(e))return yn(r,t,e,n);(n=n||{}).user=!0;var i=new cn(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(t){Lt(t,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(bn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var r=P(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)Ut(n[o],e,r,e,i)}return e}}(bn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=function(t){var e=Ve;return Ve=t,function(){Ve=e}}(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Xe(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Xe(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(bn),function(t){ke(t.prototype),t.prototype.$nextTick=function(t){return Vt(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=se(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{Me=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Lt(n,e,"render"),t=e._vnode}finally{Me=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof st||(t=ct()),t.parent=i,t}}(bn);var Pn=[String,RegExp,Array],On={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Pn,exclude:Pn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Tn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){kn(t,(function(t){return Sn(e,t)}))})),this.$watch("exclude",(function(e){kn(t,(function(t){return!Sn(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ge(t),n=e&&e.componentOptions;if(n){var r=xn(n),i=this.include,o=this.exclude;if(i&&(!r||!Sn(i,r))||o&&r&&Sn(o,r))return e;var a=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,v(s,u),s.push(u)):(a[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&Tn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};(function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:nt,extend:O,mergeOptions:Ct,defineReactive:_t},t.set=bt,t.delete=wt,t.nextTick=Vt,t.observable=function(t){return mt(t),t},t.options=Object.create(null),L.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,O(t.options.components,On),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Ct(this.options,t),this}}(t),wn(t),function(t){L.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)})(bn),Object.defineProperty(bn.prototype,"$isServer",{get:X}),Object.defineProperty(bn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(bn,"FunctionalRenderContext",{value:Te}),bn.version="2.6.11";var An="[object Array]",Cn="[object Object]";function En(t,e){var n={};return function t(e,n){if(e!==n){var r=In(e),i=In(n);if(r==Cn&&i==Cn){if(Object.keys(e).length>=Object.keys(n).length)for(var o in n){var a=e[o];void 0===a?e[o]=null:t(a,n[o])}}else r==An&&i==An&&e.length>=n.length&&n.forEach((function(n,r){t(e[r],n)}))}}(t,e),function t(e,n,r,i){if(e!==n){var o=In(e),a=In(n);if(o==Cn)if(a!=Cn||Object.keys(e).length<Object.keys(n).length)jn(i,r,e);else{var s=function(o){var a=e[o],s=n[o],u=In(a),c=In(s);if(u!=An&&u!=Cn)a!=n[o]&&jn(i,(""==r?"":r+".")+o,a);else if(u==An)c!=An||a.length<s.length?jn(i,(""==r?"":r+".")+o,a):a.forEach((function(e,n){t(e,s[n],(""==r?"":r+".")+o+"["+n+"]",i)}));else if(u==Cn)if(c!=Cn||Object.keys(a).length<Object.keys(s).length)jn(i,(""==r?"":r+".")+o,a);else for(var l in a)t(a[l],s[l],(""==r?"":r+".")+o+"."+l,i)};for(var u in e)s(u)}else o==An?a!=An||e.length<n.length?jn(i,r,e):e.forEach((function(e,o){t(e,n[o],r+"["+o+"]",i)})):jn(i,r,e)}}(t,e,"",n),n}function jn(t,e,n){t[e]=n}function In(t){return Object.prototype.toString.call(t)}function Rn(t){if(t.__next_tick_callbacks&&t.__next_tick_callbacks.length){Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&t.$scope;var e=t.__next_tick_callbacks.slice(0);t.__next_tick_callbacks.length=0;for(var n=0;n<e.length;n++)e[n]()}}function Dn(t,e){return t.__next_tick_pending||function(t){return Qe.find((function(e){return t._watcher===e}))}(t)?(Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&t.$scope,t.__next_tick_callbacks||(t.__next_tick_callbacks=[]),t.__next_tick_callbacks.push((function(){if(e)try{e.call(t)}catch(e){Lt(e,t,"nextTick")}else n&&n(t)})),e||"undefined"==typeof Promise?void 0:new Promise((function(t){n=t}))):(Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG&&t.$scope,Vt(e,t));var n}function Ln(){}function Un(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Un(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Bn=_((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));var Mn=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];var Nn=["onLaunch","onShow","onHide","onUniNViewMessage","onPageNotFound","onThemeChange","onError","onUnhandledRejection","onInit","onLoad","onReady","onUnload","onPullDownRefresh","onReachBottom","onTabItemTap","onAddToFavorites","onShareTimeline","onShareAppMessage","onResize","onPageScroll","onNavigationBarButtonTap","onBackPress","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked","onPageShow","onPageHide","onPageResize"];bn.prototype.__patch__=function(t,e){var n=this;if(null!==e&&("page"===this.mpType||"component"===this.mpType)){var r=this.$scope,i=Object.create(null);try{i=function(t){var e=Object.create(null);[].concat(Object.keys(t._data||{}),Object.keys(t._computedWatchers||{})).reduce((function(e,n){return e[n]=t[n],e}),e);var n=t.__composition_api_state__||t.__secret_vfa_state__,r=n&&n.rawBindings;return r&&Object.keys(r).forEach((function(n){e[n]=t[n]})),Object.assign(e,t.$mp.data||{}),Array.isArray(t.$options.behaviors)&&-1!==t.$options.behaviors.indexOf("uni://form-field")&&(e.name=t.name,e.value=t.value),JSON.parse(JSON.stringify(e))}(this)}catch(t){}i.__webviewId__=r.data.__webviewId__;var o=Object.create(null);Object.keys(i).forEach((function(t){o[t]=r.data[t]}));var a=!1===this.$shouldDiffData?i:En(i,o);Object.keys(a).length?(Object({NODE_ENV:"production",VUE_APP_PROCESS_ENV:"production",VUE_APP_NAME:"PopVipCenter",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_DEBUG,this.__next_tick_pending=!0,r.setData(a,(function(){n.__next_tick_pending=!1,Rn(n)}))):Rn(this)}},bn.prototype.$mount=function(t,e){return function(t,e,n){return t.mpType?("app"===t.mpType&&(t.$options.render=Ln),t.$options.render||(t.$options.render=Ln),!t._$fallback&&Xe(t,"beforeMount"),new cn(t,(function(){t._update(t._render(),n)}),C,{before:function(){t._isMounted&&!t._isDestroyed&&Xe(t,"beforeUpdate")}},!0),n=!1,t):t}(this,0,e)},function(t){var e=t.extend;t.extend=function(t){var n=(t=t||{}).methods;return n&&Object.keys(n).forEach((function(e){-1!==Nn.indexOf(e)&&(t[e]=n[e],delete n[e])})),e.call(this,t)};var n=t.config.optionMergeStrategies,r=n.created;Nn.forEach((function(t){n[t]=r})),t.prototype.__lifecycle_hooks__=Nn}(bn),function(t){t.config.errorHandler=function(e,n,r){t.util.warn("Error in "+r+': "'+e.toString()+'"',n);var i="function"==typeof getApp&&getApp();i&&i.onError&&i.onError(e)};var e=t.prototype.$emit;t.prototype.$emit=function(t){return this.$scope&&t&&this.$scope.triggerEvent(t,{__args__:P(arguments,1)}),e.apply(this,arguments)},t.prototype.$nextTick=function(t){return Dn(this,t)},Mn.forEach((function(e){t.prototype[e]=function(t){return this.$scope&&this.$scope[e]?this.$scope[e](t):"undefined"!=typeof my?"createSelectorQuery"===e?my.createSelectorQuery(t):"createIntersectionObserver"===e?my.createIntersectionObserver(t):void 0:void 0}})),t.prototype.__init_provide=ne,t.prototype.__init_injections=re,t.prototype.__call_hook=function(t,e){var n=this;ot();var r,i=n.$options[t],o=t+" hook";if(i)for(var a=0,s=i.length;a<s;a++)r=Ut(i[a],n,e?[e]:null,n,o);return n._hasHookEvent&&n.$emit("hook:"+t,e),at(),r},t.prototype.__set_model=function(t,e,n,r){Array.isArray(r)&&(-1!==r.indexOf("trim")&&(n=n.trim()),-1!==r.indexOf("number")&&(n=this._n(n))),t||(t=this),t[e]=n},t.prototype.__set_sync=function(t,e,n){t||(t=this),t[e]=n},t.prototype.__get_orig=function(t){return c(t)&&t.$orig||t},t.prototype.__get_value=function(t,e){return function t(e,n){var r=n.split("."),i=r[0];return 0===i.indexOf("__$n")&&(i=parseInt(i.replace("__$n",""))),1===r.length?e[i]:t(e[i],r.slice(1).join("."))}(e||this,t)},t.prototype.__get_class=function(t,e){return function(t,e){return i(t)||i(e)?function(t,e){return t?e?t+" "+e:t:e||""}(t,Un(e)):""}(e,t)},t.prototype.__get_style=function(t,e){if(!t&&!e)return"";var n=function(t){return Array.isArray(t)?A(t):"string"==typeof t?Bn(t):t}(t),r=e?O(e,n):n;return Object.keys(r).map((function(t){return k(t)+":"+r[t]})).join(";")},t.prototype.__map=function(t,e){var n,r,i,o,a;if(Array.isArray(t)){for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);return n}if(s(t)){for(o=Object.keys(t),n=Object.create(null),r=0,i=o.length;r<i;r++)n[a=o[r]]=e(t[a],a,r);return n}if("number"==typeof t){for(n=new Array(t),r=0,i=t;r<i;r++)n[r]=e(r,r);return n}return[]}}(bn),e.default=bn}.call(this,n("c8ba"))},6747:function(t,e){var n=Array.isArray;t.exports=n},"67ca":function(t,e,n){var r=n("cb5a");t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},"69d5":function(t,e,n){var r=n("cb5a"),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},"6ca1":function(t,e,n){var r,i,o,a,s,u,c,l,f,p,h,d,g,v,y;o=function t(e,n,r){if(!f(n)||h(n)||d(n)||g(n)||l(n))return n;var i,o=0,a=0;if(p(n))for(i=[],a=n.length;o<a;o++)i.push(t(e,n[o],r));else for(var s in i={},n)Object.prototype.hasOwnProperty.call(n,s)&&(i[e(s,r)]=t(e,n[s],r));return i},a=function(t){return v(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))).substr(0,1).toLowerCase()+t.substr(1)},s=function(t){var e=a(t);return e.substr(0,1).toUpperCase()+e.substr(1)},u=function(t,e){return function(t,e){var n=(e=e||{}).separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)}(t,e).toLowerCase()},c=Object.prototype.toString,l=function(t){return"function"==typeof t},f=function(t){return t===Object(t)},p=function(t){return"[object Array]"==c.call(t)},h=function(t){return"[object Date]"==c.call(t)},d=function(t){return"[object RegExp]"==c.call(t)},g=function(t){return"[object Boolean]"==c.call(t)},v=function(t){return(t-=0)==t},y=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!=typeof n?t:function(e,r){return n(e,t,r)}},void 0===(i="function"==typeof(r={camelize:a,decamelize:u,pascalize:s,depascalize:u,camelizeKeys:function(t,e){return o(y(a,e),t)},decamelizeKeys:function(t,e){return o(y(u,e),t,e)},pascalizeKeys:function(t,e){return o(y(s,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}})?r.call(e,n,e,t):r)||(t.exports=i)},"6cdc":function(t,e){},"6da8":function(t,e){t.exports=function(t){return t.split("")}},"6dee":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.loveyGrainConfig=e.annivConfig=e.anniv14Question=e.anniv14Ips=void 0;var r=n("b775");e.annivConfig=r.isProd?"activity2022/annivCelebrate/anniv_celebrate_pro.json":"activity2022/annivCelebrate/anniv_celebrate_test.json",e.loveyGrainConfig=r.isProd?"file/lovelyGrains/config.json":"file/lovelyGrains/config_test.json",e.anniv14Question=r.isProd?"14th_anniversary/question_prod.json":"14th_anniversary/question_test.json",e.anniv14Ips=r.isProd?"14th_anniversary/ips_config_prod.json":"14th_anniversary/ips_config_test.json"},"6e23":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={state:{freeRules:{},pageBack:!1,detailPageBack:!1,isLoadedShopList:[]},getters:{},mutations:{changeFreeRules:function(t,e){t.freeRules=e},changeStorePageBack:function(t,e){t.pageBack=e},changeDetailPageBack:function(t,e){t.detailPageBack=e},setIsLoadedList:function(t,e){t.isLoadedShopList.includes(e)||t.isLoadedShopList.push(Number(e)?Number(e):1)}},actions:{changeFreeRules:function(t,e){(0,t.commit)("changeFreeRules",e)},changeStorePageBack:function(t,e){(0,t.commit)("changeStorePageBack",e)},changeDetailPageBack:function(t,e){(0,t.commit)("changeDetailPageBack",e)},setIsLoadedList:function(t,e){(0,t.commit)("setIsLoadedList",e)}}}},"6e3c":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.voteListUrl=e.querySubUrl=e.postUserStock=e.postPublicActivityUrl=e.postActivityUrl=e.popBeanTaskUrl=e.noticeSubscribeUrl=e.makeTeamUrl=e.lotteryInfoUrl=e.lotteriesRoll=e.getUserReward=e.getPublicActivityUrl=e.getActivityUrl=e.exchangeUrl=e.drawRewardUrl=e.createInviteCodeUrl=e.createHelpCodeUrl=e.boostHelpUrl=void 0,e.makeTeamUrl="graph/activity/v1/activity/teams/users",e.createInviteCodeUrl="graph/activity/v1/activity/invitations/generate-code/",e.createHelpCodeUrl="graph/activity/v1/activity/boosts/generate-code/",e.lotteryInfoUrl="graph/activity/v1/activity/lotteries/users/",e.drawRewardUrl="graph/activity/v1/activity/tasks/users/draw/",e.noticeSubscribeUrl="graph/notice/v1/notice/notices/users/subscribe",e.querySubUrl="graph/notice/v1/notice/notices/users/has-subscribe",e.lotteriesRoll="graph/activity/v1/activity/lotteries/users/roll",e.getUserReward="graph/reward/v1/reward/graphql/user",e.postUserStock="graph/activity/v1/activity/weights/use-stock",e.boostHelpUrl="graph/activity/v1/activity/boosts/help",e.getActivityUrl="graph/activity/v1/activity/activities/info/0",e.postActivityUrl="graph/activity/v1/activity/activities/info",e.postPublicActivityUrl="graph/activity/v1/activity/activities/public-info",e.getPublicActivityUrl="graph/activity/v1/activity/activities/public-info/0",e.exchangeUrl="graph/equity/v1/equity/exchange",e.popBeanTaskUrl="graph/activity/v1/activity/graphql/user",e.voteListUrl="graph/activity/v1/activity/votes/user/list"},"6fca":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.tipsApi=e.seriesInfoById=e.refreshBoxApi=e.newBoxByExtractNF=e.newBoxByExtract=e.goodsInfoById=e.deleteAistApi=e.boxInfo=e.boxGoodsList=e.boxCouponGoodsList=e.allTips=e.addAistApi=void 0,e.boxGoodsList="boxserver/v1/nf/getGoodsList",e.boxCouponGoodsList="rightsserver/v1/coupon/getCouponGoodsList",e.boxInfo="boxserver/v1/nf/getGoodsById",e.goodsInfoById="boxserver/v1/nf/getGoodsById",e.seriesInfoById="boxserver/v1/nf/getSeriesById",e.newBoxByExtractNF="boxserver/v1/nf/extract",e.newBoxByExtract="boxserver/v1/draw/extract",e.allTips="boxserver/v1/tip/getAllBoxTipRecord",e.addAistApi="boxserver/v1/cart/add",e.deleteAistApi="boxserver/v1/cart/delete",e.refreshBoxApi="boxserver/v1/draw/refreshBox",e.tipsApi="boxserver/v1/tip/randomTip"},"72af":function(t,e,n){var r=n("99cd")();t.exports=r},"73ac":function(t,e){t.exports=function(){return!1}},"73d2":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.answerConfig=void 0;var r=n("b775");e.answerConfig=r.isProd?"answer_config/answer_config.json":"answer_config/answer_config_test.json"},7530:function(t,e,n){var r=n("1a8c"),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},"76dd":function(t,e){t.exports=function(t){return t}},7948:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},"7e02":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={getSetting:{withSubscriptions:!0,errMsg:"getSetting:ok"},openSetting:{errMsg:"openSetting:ok"},requestSubscribeMessage:{tmplIds:"$tmplIds$",errMsg:"requestSubscribeMessage:ok"},getLocation:{type:"gcj02",geocode:!0,errMsg:"getLocation:ok"},login:{getUserInfo:{provider:"weixin",errMsg:"getUserInfo:ok"},getUserProfile:{lang:"zh_CN",desc:"用于完善会员资料",errMsg:"getUserProfile:ok"},requestSubscribeMessage:{tmplIds:"$tmplIds$",errMsg:"requestSubscribeMessage:ok"}}}},"7e64":function(t,e,n){var r=n("28c9"),i=n("69d5"),o=n("b4c0"),a=n("fba5"),s=n("67ca");function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"7f33":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.officialAccountMixins=void 0;var r=n("365c"),i=n("2f62");function o(t){return(o="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.officialAccountMixins={methods:s(s({},(0,i.mapActions)(["changeIsSubscribe"])),{},{getPySubscribeRobotUrl:function(){var e=this,n=t.getStorageSync("globalUser"),i=(null==n?void 0:n.union_id)||"";(0,r.pySubscribeRobotUrl)({unionid:i}).then((function(t){e.changeIsSubscribe(t.data.data.is_subscribed)}))}})}}).call(this,n("543d").default)},"804f":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("b775"),i=getApp();e.default={jumpPage:function(e){var n=e.type,o=void 0===n?2:n,a=e.page,s=void 0===a?"":a,u=e.appId,c=void 0===u?"":u,l=e.finderUserName,f=void 0===l?"":l,p=e.feedId,h=void 0===p?"":p,d=e.callback,g=void 0===d?void 0:d,v=e.reLaunch,y=void 0!==v&&v,m=e.reLaunchTab,_=void 0===m||m;if(!o)throw Error("请检查status");switch(o){case 1:t[_?"reLaunch":"switchTab"]({url:s});break;case 2:t[y?"reLaunch":"navigateTo"]({url:s});break;case 3:case 6:case 11:i.goHtml5(s);break;case 4:i.goStoreGoHtml5(s);break;case 5:t.navigateToMiniProgram({appId:c,envVersion:r.isProd?"release":"trial",path:s,success:function(t){g&&g("success",t)},fail:function(t){g&&g("fail",t)}});break;case 9:g&&g();break;case 8:case 10:t.openChannelsActivity({finderUserName:f,feedId:8==o?"":h,success:function(t){g&&g("success",t)},fail:function(e){g&&g("fail",e),"openChannelsActivity:fail cancel"!=e.errMsg&&t.openChannelsUserProfile({finderUserName:f})}});break;case 13:t.getChannelsLiveInfo({finderUserName:f,success:function(e){t.openChannelsLive({finderUserName:f,feedId:e.feedId,nonceId:e.nonceId})},fail:function(e){t.openChannelsUserProfile({finderUserName:f})}})}},jumpTypeUnify:function(t){var e=2;switch(t){case 0:e=9;break;case 1:e=5;break;case 3:e=11;break;case 4:e=1;break;case 5:e=8;break;case 6:e=4}return e}}}).call(this,n("543d").default)},8057:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},8189:function(t){t.exports=JSON.parse('{"_from":"@dcloudio/uni-stat@^2.0.0-31920210709003","_id":"@dcloudio/uni-stat@2.0.0","_inBundle":false,"_integrity":"sha1-4hPbCdmc+FbIAwX0xxpA18+tv40=","_location":"/@dcloudio/uni-stat","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@dcloudio/uni-stat@^2.0.0-31920210709003","name":"@dcloudio/uni-stat","escapedName":"@dcloudio%2funi-stat","scope":"@dcloudio","rawSpec":"^2.0.0-31920210709003","saveSpec":null,"fetchSpec":"^2.0.0-31920210709003"},"_requiredBy":["/","/@dcloudio/vue-cli-plugin-uni"],"_resolved":"https://npm.paquapp.com/@dcloudio/uni-stat/-/uni-stat-2.0.0.tgz","_shasum":"e213db09d99cf856c80305f4c71a40d7cfadbf8d","_spec":"@dcloudio/uni-stat@^2.0.0-31920210709003","_where":"/Users/wangshuangshuang/Desktop/popmartworks/popmartvip-uniapp","author":"","bugs":{"url":"https://github.com/dcloudio/uni-app/issues"},"bundleDependencies":false,"deprecated":false,"description":"","devDependencies":{"@babel/core":"^7.5.5","@babel/preset-env":"^7.5.5","eslint":"^6.1.0","rollup":"^1.19.3","rollup-plugin-babel":"^4.3.3","rollup-plugin-clear":"^2.0.7","rollup-plugin-commonjs":"^10.0.2","rollup-plugin-copy":"^3.1.0","rollup-plugin-eslint":"^7.0.0","rollup-plugin-json":"^4.0.0","rollup-plugin-node-resolve":"^5.2.0","rollup-plugin-replace":"^2.2.0","rollup-plugin-uglify":"^6.0.2"},"files":["dist","package.json","LICENSE"],"gitHead":"b1bdfb4de3f518c1c0fbab242403ea05feced4e3","homepage":"https://github.com/dcloudio/uni-app#readme","license":"Apache-2.0","main":"dist/index.js","name":"@dcloudio/uni-stat","repository":{"type":"git","url":"git+https://github.com/dcloudio/uni-app.git","directory":"packages/uni-stat"},"scripts":{"build":"NODE_ENV=production rollup -c rollup.config.js","dev":"NODE_ENV=development rollup -w -c rollup.config.js"},"version":"2.0.0"}')},"81b1":function(t,e){!function(){var e,n,r,i,o,a,s=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],u=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],c=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],l=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],f=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],p=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],h=[],d=[],g=[],v=[],y=[],m=2;function _(t,e){var n;t>e&&(n=t,t=e,e=n),n=e,n*=e,n+=e,n>>=1,v[n+=t]=1}function b(t,e){var r;for(g[t+n*e]=1,r=-2;r<2;r++)g[t+r+n*(e-2)]=1,g[t-2+n*(e+r+1)]=1,g[t+2+n*(e+r)]=1,g[t+r+1+n*(e+2)]=1;for(r=0;r<2;r++)_(t-1,e+r),_(t+1,e-r),_(t-r,e-1),_(t+r,e+1)}function w(t){for(;t>=255;)t=((t-=255)>>8)+(255&t);return t}var x=[];function S(t,e,n,r){var i,o,a;for(i=0;i<r;i++)h[n+i]=0;for(i=0;i<e;i++){if(255!=(a=f[h[t+i]^h[n]]))for(o=1;o<r;o++)h[n+o-1]=h[n+o]^p[w(a+x[r-o])];else for(o=n;o<n+r;o++)h[o]=h[o+1];h[n+r-1]=255==a?0:p[w(a+x[0])]}}function k(t,e){var n;return t>e&&(n=t,t=e,e=n),n=e,n+=e*e,n>>=1,v[n+=t]}function T(t){var e,r,i,o;switch(t){case 0:for(r=0;r<n;r++)for(e=0;e<n;e++)e+r&1||k(e,r)||(g[e+r*n]^=1);break;case 1:for(r=0;r<n;r++)for(e=0;e<n;e++)1&r||k(e,r)||(g[e+r*n]^=1);break;case 2:for(r=0;r<n;r++)for(i=0,e=0;e<n;e++,i++)3==i&&(i=0),i||k(e,r)||(g[e+r*n]^=1);break;case 3:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=o,e=0;e<n;e++,i++)3==i&&(i=0),i||k(e,r)||(g[e+r*n]^=1);break;case 4:for(r=0;r<n;r++)for(i=0,o=r>>1&1,e=0;e<n;e++,i++)3==i&&(i=0,o=!o),o||k(e,r)||(g[e+r*n]^=1);break;case 5:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=0,e=0;e<n;e++,i++)3==i&&(i=0),(e&r&1)+!(!i|!o)||k(e,r)||(g[e+r*n]^=1);break;case 6:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=0,e=0;e<n;e++,i++)3==i&&(i=0),(e&r&1)+(i&&i==o)&1||k(e,r)||(g[e+r*n]^=1);break;case 7:for(o=0,r=0;r<n;r++,o++)for(3==o&&(o=0),i=0,e=0;e<n;e++,i++)3==i&&(i=0),(i&&i==o)+(e+r&1)&1||k(e,r)||(g[e+r*n]^=1)}}function P(t){var e,n=0;for(e=0;e<=t;e++)y[e]>=5&&(n+=3+y[e]-5);for(e=3;e<t-1;e+=2)y[e-2]==y[e+2]&&y[e+2]==y[e-1]&&y[e-1]==y[e+1]&&3*y[e-1]==y[e]&&(0==y[e-3]||e+3>t||3*y[e-3]>=4*y[e]||3*y[e+3]>=4*y[e])&&(n+=40);return n}function O(){var t,e,r,i,o,a=0,s=0;for(e=0;e<n-1;e++)for(t=0;t<n-1;t++)(g[t+n*e]&&g[t+1+n*e]&&g[t+n*(e+1)]&&g[t+1+n*(e+1)]||!(g[t+n*e]||g[t+1+n*e]||g[t+n*(e+1)]||g[t+1+n*(e+1)]))&&(a+=3);for(e=0;e<n;e++){for(y[0]=0,r=i=t=0;t<n;t++)(o=g[t+n*e])==i?y[r]++:y[++r]=1,s+=(i=o)?1:-1;a+=P(r)}s<0&&(s=-s);var u=s,c=0;for(u+=u<<2,u<<=1;u>n*n;)u-=n*n,c++;for(a+=10*c,t=0;t<n;t++){for(y[0]=0,r=i=e=0;e<n;e++)(o=g[t+n*e])==i?y[r]++:y[++r]=1,i=o;a+=P(r)}return a}function A(t){var y,P,A,C,E,j,I,R;C=t.length,e=0;do{if(e++,A=4*(m-1)+16*(e-1),r=l[A++],i=l[A++],o=l[A++],a=l[A],C<=(A=o*(r+i)+i-3+(e<=9)))break}while(e<40);for(n=17+4*e,E=o+(o+a)*(r+i)+i,C=0;C<E;C++)d[C]=0;for(h=t.slice(0),C=0;C<n*n;C++)g[C]=0;for(C=0;C<(n*(n+1)+1)/2;C++)v[C]=0;for(C=0;C<3;C++){for(A=0,P=0,1==C&&(A=n-7),2==C&&(P=n-7),g[P+3+n*(A+3)]=1,y=0;y<6;y++)g[P+y+n*A]=1,g[P+n*(A+y+1)]=1,g[P+6+n*(A+y)]=1,g[P+y+1+n*(A+6)]=1;for(y=1;y<5;y++)_(P+y,A+1),_(P+1,A+y+1),_(P+5,A+y),_(P+y+1,A+5);for(y=2;y<4;y++)g[P+y+n*(A+2)]=1,g[P+2+n*(A+y+1)]=1,g[P+4+n*(A+y)]=1,g[P+y+1+n*(A+4)]=1}if(e>1)for(C=s[e],P=n-7;;){for(y=n-7;y>C-3&&(b(y,P),!(y<C));)y-=C;if(P<=C+9)break;b(6,P-=C),b(P,6)}for(g[8+n*(n-8)]=1,P=0;P<7;P++)_(7,P),_(n-8,P),_(7,P+n-7);for(y=0;y<8;y++)_(y,7),_(y+n-8,7),_(y,n-8);for(y=0;y<9;y++)_(y,8);for(y=0;y<8;y++)_(y+n-8,8),_(8,y);for(P=0;P<7;P++)_(8,P+n-7);for(y=0;y<n-14;y++)1&y?(_(8+y,6),_(6,8+y)):(g[8+y+6*n]=1,g[6+n*(8+y)]=1);if(e>6)for(C=u[e-7],A=17,y=0;y<6;y++)for(P=0;P<3;P++,A--)1&(A>11?e>>A-12:C>>A)?(g[5-y+n*(2-P+n-11)]=1,g[2-P+n-11+n*(5-y)]=1):(_(5-y,2-P+n-11),_(2-P+n-11,5-y));for(P=0;P<n;P++)for(y=0;y<=P;y++)g[y+n*P]&&_(y,P);for(E=h.length,j=0;j<E;j++)d[j]=h.charCodeAt(j);if(h=d.slice(0),E>=(y=o*(r+i)+i)-2&&(E=y-2,e>9&&E--),j=E,e>9){for(h[j+2]=0,h[j+3]=0;j--;)C=h[j],h[j+3]|=255&C<<4,h[j+2]=C>>4;h[2]|=255&E<<4,h[1]=E>>4,h[0]=64|E>>12}else{for(h[j+1]=0,h[j+2]=0;j--;)C=h[j],h[j+2]|=255&C<<4,h[j+1]=C>>4;h[1]|=255&E<<4,h[0]=64|E>>4}for(j=E+3-(e<10);j<y;)h[j++]=236,h[j++]=17;for(x[0]=1,j=0;j<a;j++){for(x[j+1]=1,I=j;I>0;I--)x[I]=x[I]?x[I-1]^p[w(f[x[I]]+j)]:x[I-1];x[0]=p[w(f[x[0]]+j)]}for(j=0;j<=a;j++)x[j]=f[x[j]];for(A=y,P=0,j=0;j<r;j++)S(P,o,A,a),P+=o,A+=a;for(j=0;j<i;j++)S(P,o+1,A,a),P+=o+1,A+=a;for(P=0,j=0;j<o;j++){for(I=0;I<r;I++)d[P++]=h[j+I*o];for(I=0;I<i;I++)d[P++]=h[r*o+j+I*(o+1)]}for(I=0;I<i;I++)d[P++]=h[r*o+j+I*(o+1)];for(j=0;j<a;j++)for(I=0;I<r+i;I++)d[P++]=h[y+j+I*a];for(h=d,y=P=n-1,A=E=1,R=(o+a)*(r+i)+i,j=0;j<R;j++)for(C=h[j],I=0;I<8;I++,C<<=1){128&C&&(g[y+n*P]=1);do{E?y--:(y++,A?0!=P?P--:(A=!A,6==(y-=2)&&(y--,P=9)):P!=n-1?P++:(A=!A,6==(y-=2)&&(y--,P-=8))),E=!E}while(k(y,P))}for(h=g.slice(0),C=0,P=3e4,A=0;A<8&&(T(A),(y=O())<P&&(P=y,C=A),7!=C);A++)g=h.slice(0);for(C!=A&&T(C),P=c[C+(m-1<<3)],A=0;A<8;A++,P>>=1)1&P&&(g[n-1-A+8*n]=1,A<6?g[8+n*A]=1:g[8+n*(A+1)]=1);for(A=0;A<7;A++,P>>=1)1&P&&(g[8+n*(n-7+A)]=1,A?g[6-A+8*n]=1:g[7+8*n]=1);return g}var C=null,E=null,j={get ecclevel(){return m},set ecclevel(t){m=t},get size(){return E},set size(t){E=t},get canvas(){return C},set canvas(t){C=t},getFrame:function(t){return A(t)},draw:function(t,e,r,i){if(m=i||m,e=e||C){r=r||E||Math.min(e.width,e.height);var o=A(t),a=e.ctx,s=Math.round(r/(n+8)),u=s*(n+8),c=Math.floor((r-u)/2);r=u,a.clearRect(0,0,e.width,e.height),a.setFillStyle("#000000");for(var l=0;l<n;l++)for(var f=0;f<n;f++)o[f*n+l]&&a.fillRect(s*(4+l)+c,s*(4+f)+c,s,s);a.draw()}}};t.exports={api:j}}()},8237:function _(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){var ERROR="input is invalid type",WINDOW="object"===("undefined"==typeof window?"undefined":_typeof2(window)),root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===("undefined"==typeof self?"undefined":_typeof2(self)),NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===_typeof2(process)&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"===_typeof2(module)&&module.exports,AMD=__webpack_require__("3c35"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===_typeof2(t)&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];t[n]=createOutputMethod(n)}return t},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,n=_typeof2(t);if("string"!==n){if("object"!==n)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var r,i,o=0,a=t.length,s=this.blocks,u=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)u[i++]=t[o];else for(i=this.start;o<a&&i<64;++o)s[i>>2]|=t[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?u[i++]=r:r<2048?(u[i++]=192|r>>6,u[i++]=128|63&r):r<55296||r>=57344?(u[i++]=224|r>>12,u[i++]=128|r>>6&63,u[i++]=128|63&r):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),u[i++]=240|r>>18,u[i++]=128|r>>12&63,u[i++]=128|r>>6&63,u[i++]=128|63&r);else for(i=this.start;o<a&&i<64;++o)(r=t.charCodeAt(o))<128?s[i>>2]|=r<<SHIFT[3&i++]:r<2048?(s[i>>2]|=(192|r>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(s[i>>2]|=(224|r>>12)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),s[i>>2]|=(240|r>>18)<<SHIFT[3&i++],s[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,n,r,i,o,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&t)+a[1]-117830708)<<12|r>>>20)+t<<0)&(-271733879^t))+a[2]-1126478375)<<17|n>>>15)+r<<0)&(r^t))+a[3]-1316259209)<<22|e>>>10)+n<<0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((r=this.h3)^e&(n^r))+a[0]-680876936)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[1]-389564586)<<12|r>>>20)+t<<0)&(t^e))+a[2]+606105819)<<17|n>>>15)+r<<0)&(r^t))+a[3]-1044525330)<<22|e>>>10)+n<<0),e=((e+=((t=((t+=(r^e&(n^r))+a[4]-176418897)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[5]+1200080426)<<12|r>>>20)+t<<0)&(t^e))+a[6]-1473231341)<<17|n>>>15)+r<<0)&(r^t))+a[7]-45705983)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(r^e&(n^r))+a[8]+1770035416)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[9]-1958414417)<<12|r>>>20)+t<<0)&(t^e))+a[10]-42063)<<17|n>>>15)+r<<0)&(r^t))+a[11]-1990404162)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(r^e&(n^r))+a[12]+1804603682)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[13]-40341101)<<12|r>>>20)+t<<0)&(t^e))+a[14]-1502002290)<<17|n>>>15)+r<<0)&(r^t))+a[15]+1236535329)<<22|e>>>10)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[1]-165796510)<<5|t>>>27)+e<<0)^e))+a[6]-1069501632)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[11]+643717713)<<14|n>>>18)+r<<0)^r))+a[0]-373897302)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[5]-701558691)<<5|t>>>27)+e<<0)^e))+a[10]+38016083)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[15]-660478335)<<14|n>>>18)+r<<0)^r))+a[4]-405537848)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[9]+568446438)<<5|t>>>27)+e<<0)^e))+a[14]-1019803690)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[3]-187363961)<<14|n>>>18)+r<<0)^r))+a[8]+1163531501)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[13]-1444681467)<<5|t>>>27)+e<<0)^e))+a[2]-51403784)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[7]+1735328473)<<14|n>>>18)+r<<0)^r))+a[12]-1926607734)<<20|e>>>12)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[5]-378558)<<4|t>>>28)+e<<0))+a[8]-2022574463)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[11]+1839030562)<<16|n>>>16)+r<<0))+a[14]-35309556)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[1]-1530992060)<<4|t>>>28)+e<<0))+a[4]+1272893353)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[7]-155497632)<<16|n>>>16)+r<<0))+a[10]-1094730640)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[13]+681279174)<<4|t>>>28)+e<<0))+a[0]-358537222)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[3]-722521979)<<16|n>>>16)+r<<0))+a[6]+76029189)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[9]-640364487)<<4|t>>>28)+e<<0))+a[12]-421815835)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[15]+530742520)<<16|n>>>16)+r<<0))+a[2]-995338651)<<23|e>>>9)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[0]-198630844)<<6|t>>>26)+e<<0)|~n))+a[7]+1126891415)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[14]-1416354905)<<15|n>>>17)+r<<0)|~t))+a[5]-57434055)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[12]+1700485571)<<6|t>>>26)+e<<0)|~n))+a[3]-1894986606)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[10]-1051523)<<15|n>>>17)+r<<0)|~t))+a[1]-2054922799)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[8]+1873313359)<<6|t>>>26)+e<<0)|~n))+a[15]-30611744)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[6]-1560198380)<<15|n>>>17)+r<<0)|~t))+a[13]+1309151649)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[4]-145523070)<<6|t>>>26)+e<<0)|~n))+a[11]-1120210379)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[2]+718787259)<<15|n>>>17)+r<<0)|~t))+a[9]-343485551)<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,n,r="",i=this.array(),o=0;o<15;)t=i[o++],e=i[o++],n=i[o++],r+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return t=i[o],r+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__("4362"),__webpack_require__("c8ba"))},8296:function(t,e){t.exports=function(t){return t}},"835e":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("3ce9"),i=n("384d"),o=n("facc"),a=n("54c2"),s=n("3763"),u=n("07ec"),c=n("73d2"),l=n("6dee"),f=n("1d9c"),p=n("bd8a"),h=n("9b40"),d=n("f3d4"),g=n("4601"),v=n("2934");e.default={jsonTencentHostConfig:function(t){return(0,v.promiseApi)(r.tencentHostConfig,t,"GET",!0)},jsonBenefitsvConfig:function(t){return(0,v.promiseApi)(r.benefitsvConfig,t,"GET",!0)},jsonBannersConfig:function(t){return(0,v.promiseApi)(r.bannersConfig,t,"GET",!0)},jsonQrcodePayConfig:function(t){return(0,v.promiseApi)(r.qrcodePayConfig,t,"GET",!0)},jsonSvipExchangeTipsConfig:function(t){return(0,v.promiseApi)(r.svipExchangeTipsConfig,t,"GET",!0)},jsonReduceLevelConfig:function(t){return(0,v.promiseApi)(r.reduceLevelConfig,t,"GET",!0)},jsonCardActivityStartConfig:function(t){return(0,v.promiseApi)(r.cardActivityStartConfig,t,"GET",!0)},jsonGlobalShareConfig:function(t){return(0,v.promiseApi)(r.globalShareConfig,t,"GET",!0)},jsonRobotActPopupConfig:function(t){return(0,v.promiseApi)(i.actPopupConfig,t,"GET",!0)},jsonSvipNoticeConfig:function(t){return(0,v.promiseApi)(o.svipNoticeConfig,t,"GET",!0)},jsonShopNoticeConfig:function(t){return(0,v.promiseApi)(a.shopNoticeConfig,t,"GET",!0)},jsonTimeLimitTaskRules:function(t){return(0,v.promiseApi)(s.timeLimitTaskRules,t,"GET",!0)},jsonTodayTaskRules:function(t){return(0,v.promiseApi)(s.todayTaskRules,t,"GET",!0)},jsonWeekTaskRules:function(t){return(0,v.promiseApi)(s.weekTaskRules,t,"GET",!0)},jsonSpecialConsumeTask:function(t){return(0,v.promiseApi)(s.specialConsumeTaskUrl,t,"GET",!0)},jsonSpecialUpdateTask:function(t){return(0,v.promiseApi)(s.specialUpdateTaskUrl,t,"GET",!0)},jsonBoxActPopupConfig:function(t){return(0,v.promiseApi)(i.boxActPopupConfig,t,"GET",!0)},jsonBoxtemplateConfig:function(t){return(0,v.promiseApi)(r.boxtemplateConfig,t,"GET",!0)},jsonShopConfig:function(t){return(0,v.promiseApi)(a.shopConfig,t,"GET",!0)},jsonCardConfig:function(t){return(0,v.promiseApi)(u.cardConfig,t,"GET",!0)},jsonCouponConfig:function(t){return(0,v.promiseApi)(a.couponConfig,t,"GET",!0)},jsonPublicConfig:function(t){return(0,v.promiseApi)(f.publicConfig,t,"GET",!0)},jsonGroupConfig:function(t){return(0,v.promiseApi)(p.groupConfig,t,"GET",!0)},jsonAnswerConfig:function(t){return(0,v.promiseApi)(c.answerConfig,t,"GET",!0)},jsonLoveyGrainConfig:function(t){return(0,v.promiseApi)(l.loveyGrainConfig,t,"GET",!0)},jsonAnniv14Question:function(t){return(0,v.promiseApi)(l.anniv14Question,t,"GET",!0)},jsonAnniv14Ips:function(t){return(0,v.promiseApi)(l.anniv14Ips,t,"GET",!0)},jsonOrderConfig:function(t){return(0,v.promiseApi)(d.orderConfig,t,"GET",!0)},taskActList:function(t){return(0,v.promiseApi)(s.taskActUrl,t,"GET",!0)},jsonUserHomeConfig:function(t){return(0,v.promiseApi)(h.userHomeConfig,t,"GET",!0)},jsonUserConfig:function(t){return(0,v.promiseApi)(h.userConfig,t,"GET",!0)},jsonUserMedalonfig:function(t){return(0,v.promiseApi)(h.userMedalonfig,t,"GET",!0)},jsonHomePageConfig:function(t){return(0,v.promiseApi)(r.homePageConfig,t,"GET",!0)},jsonGoodsConfig:function(t){return(0,v.promiseApi)(a.goodsConfig,t,"GET",!0)},rouseRule:function(t){return(0,v.promiseApi)(s.rouseRuleUrl,t,"GET",!0)},jsonAnnivConfig:function(t){return(0,v.promiseApi)(l.annivConfig,t,"GET",!0)},jsonGetRecommend:function(t){return(0,v.promiseApi)(i.jsonBoxonlineRecommend,t,"GET",!0)},jsonMegaConfig:function(t){return(0,v.promiseApi)(g.megaConfig,t,"GET",!0)},jsonParamoutConfig:function(t){return(0,v.promiseApi)(g.paramoutConfig,t,"GET",!0)},jsonUserRuleConfig:function(t){return(0,v.promiseApi)(h.userRuleConfig,t,"GET",!0)},jsonIndexHomeConfig:function(t){return(0,v.promiseApi)(r.indexHomeConfig,t,"GET",!0)},jsonShopStoreConfig:function(t){return(0,v.promiseApi)(a.shopStoreConfig,t,"GET",!0)},jsonIndexHomePyConfig:function(t){return(0,v.promiseApi)(r.indexHomePyConfig,t,"GET",!0)},jsonIndexHomePyNextConfig:function(t){return(0,v.promiseApi)(r.indexHomePyNextConfig,t,"GET",!0)},jsonShopStoreTitleConfig:function(t){return(0,v.promiseApi)(a.shopStoreTitleConfig,t,"GET",!0)},jsonShopStoreThematicConfig:function(t){return(0,v.promiseApi)(a.shopStoreThematicConfig,t,"GET",!0)},vipBenefitsRule:function(t){return(0,v.promiseApi)(s.vipBenefitsRuleUrl,t,"GET",!0)},jsonNavConfig:function(t){return(0,v.promiseApi)(a.navConfig,t,"GET",!0)},jsonNewShopConfig:function(t){return(0,v.promiseApi)(a.newShopConfig,t,"GET",!0)}}},"858a":function(t,e,n){(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=null;switch(e.url&&e.url.type){case 0:var a=2,s=!1,u=null;"vip_share"==e.url.showType?a=9:"vip_toast"==e.url.showType?(a=9,u=function(){return t.showToast({icon:"none",title:e.url.extraData.title})}):"vip_group"==e.url.showType?a=9:"vip_not_tab"==e.url.showType?"begin"==r||i?a=2:(a=9,u=function(){return t.showToast({icon:"none",title:n[r].toast})}):"vip_tab"==e.url.showType&&("begin"==r||i?(a=1,s=!0):(a=9,u=function(){return t.showToast({icon:"none",title:n[r].toast})})),o={type:a,reLaunch:s,callback:u,page:e.url.path};break;case 1:"begin"!=r?(a=9,u=function(){return t.showToast({icon:"none",title:n[r].toast})}):a=5,o={type:a,page:e.url.path,appId:e.url.appID,callback:u};break;case 2:o={type:4,page:e.url.path}}return o};e.default={activityConfig:c,taskListsService:function(t,e,n){var r=s(t),o=r.filter((function(t){return"task"==t.type}))[0].data.configs,a=r.filter((function(t){return"task"==t.type}))[0].data.users?r.filter((function(t){return"task"==t.type}))[0].data.users:[];return o.map((function(t){var r,o=a.filter((function(e){return e.taskID==t.id}))[0],s=0,u=!1,l=c(t,e,n),f=0;return o&&(s=o.progress,u=o.done,f=o.doneCount),i(i({},t),{},{progress:s,done:u,config:l,doneCount:f,target:t.stageTasks.length?t.stageTasks[0].target:1,loopLimit:null!==(r=t.loopLimit)&&void 0!==r?r:1,custom_button:u?t.buttonDoneText:t.buttonText,custom_button_icon:u?t.doneIcon:t.icon})}))},coinInfoService:function(t){var e=s(t),n=e.filter((function(t){return"coin"==t.type}))[0].data.configs[0],r=e.filter((function(t){return"coin"==t.type}))[0].data.users?e.filter((function(t){return"coin"==t.type}))[0].data.users[0]:{},o=Object.assign(i({},n),{coin_id:n.id});return Object.assign(i({},o),i({},r))},noticeListService:function(t){return s(t).filter((function(t){return"notice"==t.type})).map((function(t){var e=t.data.configs[0].notice,n=t.data.users?t.data.users[0]:{};return e.alias=t.alias,i(i({},e),n)}))},skinService:function(t){return s(t).filter((function(t){return"skin"==t.type})).map((function(t){var e=t.data.configs[0].data;return e.alias=t.alias,i({},e)}))[0]}}}).call(this,n("543d").default)},"85e3":function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},"85e3e":function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={trustTags:c("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:c("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:c("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:c("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},r={},i=t.getSystemInfoSync(),o=i.windowWidth,a=i.system,s=c(" ,\r,\n,\t,\f"),u=0;function c(t){for(var e=Object.create(null),n=t.split(","),r=n.length;r--;)e[n[r]]=!0;return e}function l(t,e){for(var r=t.indexOf("&");-1!==r;){var i=t.indexOf(";",r+3),o=void 0;if(-1===i)break;"#"===t[r+1]?(o=parseInt(("x"===t[r+2]?"0":"")+t.substring(r+2,i)),isNaN(o)||(t=t.substr(0,r)+String.fromCharCode(o)+t.substr(i+1))):(o=t.substring(r+1,i),(n.entities[o]||"amp"===o&&e)&&(t=t.substr(0,r)+(n.entities[o]||"&")+t.substr(i+1))),r=t.indexOf("&",r+1)}return t}function f(t){for(var e=t.length-1,n=e;n>=-1;n--)(-1===n||t[n].c||!t[n].name||"div"!==t[n].name&&"p"!==t[n].name&&"h"!==t[n].name[0]||(t[n].attrs.style||"").includes("inline"))&&(e-n>=5&&t.splice(n+1,e-n,{name:"div",attrs:{},children:t.slice(n+1,e+1)}),e=n-1)}function p(t){this.options=t||{},this.tagStyle=Object.assign({},n.tagStyle,this.options.tagStyle),this.imgList=t.imgList||[],this.imgList._unloadimgs=0,this.plugins=t.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function h(t){this.handler=t}p.prototype.parse=function(t){for(var e=this.plugins.length;e--;)this.plugins[e].onUpdate&&(t=this.plugins[e].onUpdate(t,n)||t);for(new h(this).parse(t);this.stack.length;)this.popNode();return this.nodes.length>50&&f(this.nodes),this.nodes},p.prototype.expose=function(){for(var t=this.stack.length;t--;){var e=this.stack[t];if(e.c||"a"===e.name||"video"===e.name||"audio"===e.name)return;e.c=1}},p.prototype.hook=function(t){for(var e=this.plugins.length;e--;)if(this.plugins[e].onParse&&!1===this.plugins[e].onParse(t,this))return!1;return!0},p.prototype.getUrl=function(t){var e=this.options.domain;return"/"===t[0]?"/"===t[1]?t=(e?e.split("://")[0]:"http")+":"+t:e&&(t=e+t):t.includes("data:")||t.includes("://")||e&&(t=e+"/"+t),t},p.prototype.parseStyle=function(t){var e=t.attrs,n=(this.tagStyle[t.name]||"").split(";").concat((e.style||"").split(";")),r={},i="";e.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==t.name&&"a"!==t.name&&"video"!==t.name&&"audio"!==t.name&&(e.id=void 0)),e.width&&(r.width=parseFloat(e.width)+(e.width.includes("%")?"%":"px"),e.width=void 0),e.height&&(r.height=parseFloat(e.height)+(e.height.includes("%")?"%":"px"),e.height=void 0);for(var a=0,u=n.length;a<u;a++){var c=n[a].split(":");if(!(c.length<2)){var l=c.shift().trim().toLowerCase(),f=c.join(":").trim();if("-"===f[0]&&f.lastIndexOf("-")>0||f.includes("safe"))i+=";".concat(l,":").concat(f);else if(!r[l]||f.includes("import")||!r[l].includes("import")){if(f.includes("url")){var p=f.indexOf("(")+1;if(p){for(;'"'===f[p]||"'"===f[p]||s[f[p]];)p++;f=f.substr(0,p)+this.getUrl(f.substr(p))}}else f.includes("rpx")&&(f=f.replace(/[0-9.]+\s*rpx/g,(function(t){return parseFloat(t)*o/750+"px"})));r[l]=f}}}return t.attrs.style=i,r},p.prototype.onTagName=function(t){this.tagName=this.xml?t:t.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1)},p.prototype.onAttrName=function(t){"data-"===(t=this.xml?t:t.toLowerCase()).substr(0,5)?"data-src"!==t||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=t:this.attrName=void 0:this.attrName="src":(this.attrName=t,this.attrs[t]="T")},p.prototype.onAttrVal=function(t){var e=this.attrName||"";"style"===e||"href"===e?this.attrs[e]=l(t,!0):e.includes("src")?this.attrs[e]=this.getUrl(l(t,!0)):e&&(this.attrs[e]=t)},p.prototype.onOpenTag=function(t){var e=Object.create(null);e.name=this.tagName,e.attrs=this.attrs,this.options.nodes.length&&(e.type="node"),this.attrs=Object.create(null);var i=e.attrs,a=this.stack[this.stack.length-1],s=a?a.children:this.nodes,c=this.xml?t:n.voidTags[e.name];if(r[e.name]&&(i.class=r[e.name]+(i.class?" "+i.class:"")),"embed"===e.name){var l=i.src||"";l.includes(".mp4")||l.includes(".3gp")||l.includes(".m3u8")||(i.type||"").includes("video")?e.name="video":(l.includes(".mp3")||l.includes(".wav")||l.includes(".aac")||l.includes(".m4a")||(i.type||"").includes("audio"))&&(e.name="audio"),i.autostart&&(i.autoplay="T"),i.controls="T"}if("video"!==e.name&&"audio"!==e.name||("video"!==e.name||i.id||(i.id="v"+u++),i.controls||i.autoplay||(i.controls="T"),e.src=[],i.src&&(e.src.push(i.src),i.src=void 0),this.expose()),c){if(!this.hook(e)||n.ignoreTags[e.name])return void("base"!==e.name||this.options.domain?"source"===e.name&&a&&("video"===a.name||"audio"===a.name)&&i.src&&a.src.push(i.src):this.options.domain=i.href);var f=this.parseStyle(e);if("img"===e.name){if(i.src&&(i.src.includes("webp")&&(e.webp="T"),i.src.includes("data:")&&!i["original-src"]&&(i.ignore="T"),!i.ignore||e.webp||i.src.includes("cloud://"))){for(var p=this.stack.length;p--;){var h=this.stack[p];"a"===h.name&&(e.a=h.attrs),"table"!==h.name||e.webp||i.src.includes("cloud://")||(!f.display||f.display.includes("inline")?e.t="inline-block":e.t=f.display,f.display=void 0);var d=h.attrs.style||"";if(!d.includes("flex:")||d.includes("flex:0")||d.includes("flex: 0")||f.width&&!(parseInt(f.width)>100))if(d.includes("flex")&&"100%"===f.width)for(var g=p+1;g<this.stack.length;g++){var v=this.stack[g].attrs.style||"";if(!v.includes(";width")&&!v.includes(" width")&&0!==v.indexOf("width")){f.width="";break}}else d.includes("inline-block")&&(f.width&&"%"===f.width[f.width.length-1]?(h.attrs.style+=";max-width:"+f.width,f.width=""):h.attrs.style+=";max-width:100%");else{f.width="100% !important",f.height="";for(var y=p+1;y<this.stack.length;y++)this.stack[y].attrs.style=(this.stack[y].attrs.style||"").replace("inline-","")}h.c=1}i.i=this.imgList.length.toString();var m=i["original-src"]||i.src;if(this.imgList.includes(m)){var _=m.indexOf("://");if(-1!==_){_+=3;for(var b=m.substr(0,_);_<m.length&&"/"!==m[_];_++)b+=Math.random()>.5?m[_].toUpperCase():m[_];b+=m.substr(_),m=b}}this.imgList.push(m),e.t||(this.imgList._unloadimgs+=1)}"inline"===f.display&&(f.display=""),i.ignore&&(f["max-width"]=f["max-width"]||"100%",i.style+=";-webkit-touch-callout:none"),parseInt(f.width)>o&&(f.height=void 0),isNaN(parseInt(f.width))||(e.w="T"),!isNaN(parseInt(f.height))&&(!f.height.includes("%")||a&&(a.attrs.style||"").includes("height"))&&(e.h="T")}else if("svg"===e.name)return s.push(e),this.stack.push(e),void this.popNode();for(var w in f)f[w]&&(i.style+=";".concat(w,":").concat(f[w].replace(" !important","")));i.style=i.style.substr(1)||void 0}else("pre"===e.name||(i.style||"").includes("white-space")&&i.style.includes("pre"))&&2!==this.pre&&(this.pre=e.pre=1),e.children=[],this.stack.push(e);s.push(e)},p.prototype.onCloseTag=function(t){var e;for(t=this.xml?t:t.toLowerCase(),e=this.stack.length;e--&&this.stack[e].name!==t;);if(-1!==e)for(;this.stack.length>e;)this.popNode();else if("p"===t||"br"===t){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push({name:t,attrs:{class:r[t]||"",style:this.tagStyle[t]||""}})}},p.prototype.popNode=function(){var e=this.stack.pop(),r=e.attrs,i=e.children,a=this.stack[this.stack.length-1],s=a?a.children:this.nodes;if(!this.hook(e)||n.ignoreTags[e.name])return"title"===e.name&&i.length&&"text"===i[0].type&&this.options.setTitle&&t.setNavigationBarTitle({title:i[0].text}),void s.pop();if(e.pre&&2!==this.pre){this.pre=e.pre=void 0;for(var u=this.stack.length;u--;)this.stack[u].pre&&(this.pre=1)}var c={};if("svg"===e.name){if(this.xml>1)return void this.xml--;var l="",p=r.style;return r.style="",r.xmlns="http://www.w3.org/2000/svg",function t(e){if("text"!==e.type){var r=n.svgDict[e.name]||e.name;for(var i in l+="<"+r,e.attrs){var o=e.attrs[i];o&&(l+=" ".concat(n.svgDict[i]||i,'="').concat(o,'"'))}if(e.children){l+=">";for(var a=0;a<e.children.length;a++)t(e.children[a]);l+="</"+r+">"}else l+="/>"}else l+=e.text}(e),e.name="img",e.attrs={src:"data:image/svg+xml;utf8,"+l.replace(/#/g,"%23"),style:p,ignore:"T"},e.children=void 0,void(this.xml=!1)}if(r.align&&("table"===e.name?"center"===r.align?c["margin-inline-start"]=c["margin-inline-end"]="auto":c.float=r.align:c["text-align"]=r.align,r.align=void 0),r.dir&&(c.direction=r.dir,r.dir=void 0),"font"===e.name&&(r.color&&(c.color=r.color,r.color=void 0),r.face&&(c["font-family"]=r.face,r.face=void 0),r.size)){var h=parseInt(r.size);isNaN(h)||(h<1?h=1:h>7&&(h=7),c["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][h-1]),r.size=void 0}if((r.class||"").includes("align-center")&&(c["text-align"]="center"),Object.assign(c,this.parseStyle(e)),"table"!==e.name&&parseInt(c.width)>o&&(c["max-width"]="100%",c["box-sizing"]="border-box"),n.blockTags[e.name]?e.name="div":n.trustTags[e.name]||this.xml||(e.name="span"),"a"===e.name||"ad"===e.name)this.expose();else if("video"===e.name)(c.height||"").includes("auto")&&(c.height=void 0);else if("ul"!==e.name&&"ol"!==e.name||!e.c){if("table"===e.name){var d=parseFloat(r.cellpadding),g=parseFloat(r.cellspacing),v=parseFloat(r.border),y=c["border-color"],m=c["border-style"];if(e.c&&(isNaN(d)&&(d=2),isNaN(g)&&(g=2)),v&&(r.style+=";border:".concat(v,"px ").concat(m||"solid"," ").concat(y||"gray")),e.flag&&e.c){c.display="grid",g?(c["grid-gap"]=g+"px",c.padding=g+"px"):v&&(r.style+=";border-left:0;border-top:0");var _=[],b=[],w=[],x={};!function t(e){for(var n=0;n<e.length;n++)"tr"===e[n].name?b.push(e[n]):t(e[n].children||[])}(i);for(var S=1;S<=b.length;S++){for(var k=1,T=0;T<b[S-1].children.length;T++){var P=b[S-1].children[T];if("td"===P.name||"th"===P.name){for(;x[S+"."+k];)k++;var O=P.attrs.style||"",A=O.indexOf("width")?O.indexOf(";width"):0;if(-1!==A){var C=O.indexOf(";",A+6);-1===C&&(C=O.length),P.attrs.colspan||(_[k]=O.substring(A?A+7:6,C)),O=O.substr(0,A)+O.substr(C)}if(-1!==(A=(O+=";display:flex").indexOf("vertical-align"))){var E=O.substr(A+15,10);E.includes("middle")?O+=";align-items:center":E.includes("bottom")&&(O+=";align-items:flex-end")}else O+=";align-items:center";if(-1!==(A=O.indexOf("text-align"))){var j=O.substr(A+11,10);j.includes("center")?O+=";justify-content: center":j.includes("right")&&(O+=";justify-content: right")}if(O=(v?";border:".concat(v,"px ").concat(m||"solid"," ").concat(y||"gray")+(g?"":";border-right:0;border-bottom:0"):"")+(d?";padding:".concat(d,"px"):"")+";"+O,P.attrs.colspan&&(O+=";grid-column-start:".concat(k,";grid-column-end:").concat(k+parseInt(P.attrs.colspan)),P.attrs.rowspan||(O+=";grid-row-start:".concat(S,";grid-row-end:").concat(S+1)),k+=parseInt(P.attrs.colspan)-1),P.attrs.rowspan){O+=";grid-row-start:".concat(S,";grid-row-end:").concat(S+parseInt(P.attrs.rowspan)),P.attrs.colspan||(O+=";grid-column-start:".concat(k,";grid-column-end:").concat(k+1));for(var I=1;I<P.attrs.rowspan;I++)for(var R=0;R<(P.attrs.colspan||1);R++)x[S+I+"."+(k-R)]=1}O&&(P.attrs.style=O),w.push(P),k++}}if(1===S){for(var D="",L=1;L<k;L++)D+=(_[L]?_[L]:"auto")+" ";c["grid-template-columns"]=D}}e.children=w}else e.c&&(c.display="table"),isNaN(g)||(c["border-spacing"]=g+"px"),(v||d)&&function t(e){for(var n=0;n<e.length;n++){var r=e[n];"th"===r.name||"td"===r.name?(v&&(r.attrs.style="border:".concat(v,"px ").concat(m||"solid"," ").concat(y||"gray",";").concat(r.attrs.style||"")),d&&(r.attrs.style="padding:".concat(d,"px;").concat(r.attrs.style||""))):r.children&&t(r.children)}}(i);if(this.options.scrollTable&&!(r.style||"").includes("inline")){var U=Object.assign({},e);e.name="div",e.attrs={style:"overflow:auto"},e.children=[U],r=U.attrs}}else if("td"!==e.name&&"th"!==e.name||!r.colspan&&!r.rowspan)if("ruby"===e.name){e.name="span";for(var B=0;B<i.length-1;B++)"text"===i[B].type&&"rt"===i[B+1].name&&(i[B]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(i[B+1].attrs.style||"")},children:i[B+1].children},i[B]]},i.splice(B+1,1))}else e.c&&function(t){t.c=2;for(var e=t.children.length;e--;){var n=t.children[e];n.c&&"table"!==n.name||(t.c=1)}}(e);else for(var M=this.stack.length;M--;)if("table"===this.stack[M].name){this.stack[M].flag=1;break}}else{var N={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};N[r.type]&&(r.style+=";list-style-type:"+N[r.type],r.type=void 0);for(var $=i.length;$--;)"li"===i[$].name&&(i[$].c=1)}if((c.display||"").includes("flex")&&!e.c)for(var q=i.length;q--;){var G=i[q];G.f&&(G.attrs.style=(G.attrs.style||"")+G.f,G.f=void 0)}var F=a&&((a.attrs.style||"").includes("flex")||(a.attrs.style||"").includes("grid"))&&!e.c;for(var H in F&&(e.f=";max-width:100%"),i.length>=50&&e.c&&!(c.display||"").includes("flex")&&f(i),c)if(c[H]){var z=";".concat(H,":").concat(c[H].replace(" !important",""));F&&(H.includes("flex")&&"flex-direction"!==H||"align-self"===H||H.includes("grid")||"-"===c[H][0]||H.includes("width")&&z.includes("%"))?(e.f+=z,"width"===H&&(r.style+=";width:100%")):r.style+=z}r.style=r.style.substr(1)||void 0},p.prototype.onText=function(e){if(!this.pre){for(var n,r="",i=0,o=e.length;i<o;i++)s[e[i]]?(" "!==r[r.length-1]&&(r+=" "),"\n"!==e[i]||n||(n=!0)):r+=e[i];if(" "===r&&n)return;e=r}var u=Object.create(null);(u.type="text",u.text=l(e),this.hook(u))&&("force"===this.options.selectable&&a.includes("iOS")&&!t.canIUse("rich-text.user-select")&&this.expose(),(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push(u))},h.prototype.parse=function(t){this.content=t||"",this.i=0,this.start=0,this.state=this.text;for(var e=this.content.length;-1!==this.i&&this.i<e;)this.state()},h.prototype.checkClose=function(t){var e="/"===this.content[this.i];return!!(">"===this.content[this.i]||e&&">"===this.content[this.i+1])&&(t&&this.handler[t](this.content.substring(this.start,this.i)),this.i+=e?2:1,this.start=this.i,this.handler.onOpenTag(e),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},h.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1!==this.i){var t=this.content[this.i+1];if(t>="a"&&t<="z"||t>="A"&&t<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===t||"!"===t||"?"===t){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));var e=this.content[this.i+2];if("/"===t&&(e>="a"&&e<="z"||e>="A"&&e<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);var n="--\x3e";"!"===t&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(n=">"),this.i=this.content.indexOf(n,this.i),-1!==this.i&&(this.i+=n.length,this.start=this.i)}else this.i++}else this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length))},h.prototype.tagName=function(){if(s[this.content[this.i]]){for(this.handler.onTagName(this.content.substring(this.start,this.i));s[this.content[++this.i]];);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},h.prototype.attrName=function(){var t=this.content[this.i];if(s[t]||"="===t){this.handler.onAttrName(this.content.substring(this.start,this.i));for(var e="="===t,n=this.content.length;++this.i<n;)if(t=this.content[this.i],!s[t]){if(this.checkClose())return;if(e)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);e=!0}}else this.checkClose("onAttrName")||this.i++},h.prototype.attrVal=function(){var t=this.content[this.i],e=this.content.length;if('"'===t||"'"===t){if(this.start=++this.i,this.i=this.content.indexOf(t,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<e;this.i++){if(s[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}for(;s[this.content[++this.i]];);this.i<e&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},h.prototype.endTag=function(){var t=this.content[this.i];if(s[t]||">"===t||"/"===t){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==t&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++},e.default=p}).call(this,n("543d").default)},"872a":function(t,e,n){var r=n("3b4a");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},8730:function(t,e,n){var r=n("100e")(n("d10d"));t.exports=r},8763:function(t,e,n){(function(e){var r=n("c9b7");function i(t){return(i="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports={computedPropertyService:function(t,n){var i=e.getStorageSync("pop_points")||[],o=[];return{user_property_service:t.map((function(t){var s;(Object.keys(n).forEach((function(e){var i;e==t.type&&(t.point=null!==(i=(0,r.computedMaxNumber)(n[e]))&&void 0!==i?i:"-",t.value=n[e])})),"pop_score"!=t.type&&"points"!=t.type||"-"===t.value)||((null===(s=i.find((function(e){return e.type==t.type})))||void 0===s?void 0:s.value)!==t.value?o.push({type:t.type,value:t.value,point:t.point,isClick:!1}):o.push(i.find((function(e){return e.type==t.type}))),e.setStorageSync("pop_points",o));return a({},t)})),pop_points:o}},computedPoints:function(t){var n=e.getStorageSync("pop_points")||[];n=n.map((function(e){return e.type==t&&(e.isClick=!0),a({},e)})),e.setStorageSync("pop_points",n)}}}).call(this,n("543d").default)},8916:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function i(t,e,n){var r=Array.prototype.forEach,i={};if(null==t)return!1;if(r&&t.forEach===r)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,a=t.length;o<a;o++)if(o in t&&e.call(n,t[o],o,t)===i)return!1}else for(var s in t)if(hasOwnProperty.call(t,s)&&e.call(n,t[s],s,t)===i)return!1}function o(t){return null!=t&&"[object Object]"==Object.prototype.toString.call(t)}function a(t){return"[object String]"==Object.prototype.toString.call(t)}function s(t){return"[object Number]"==Object.prototype.toString.call(t)&&/[\d\.]+/.test(String(t))}function u(){if("object"==("undefined"==typeof console?"undefined":r(console))&&console.log){a(arguments[0])&&(arguments[0]="sensorsabtest————"+arguments[0]);try{return}catch(t){}}}function c(t){try{JSON.parse(t)}catch(t){return!1}return!0}function l(t){var e=t;try{e=l(t)}catch(n){e=t}return e}function f(t){var e=t.toLowerCase();return"ios"===e?"iOS":"android"===e?"Android":t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p={extend:function(t){return i(Array.prototype.slice.call(arguments,1),(function(e){for(var n in e)void 0!==e[n]&&(t[n]=e[n])})),t},each:i,filter:function(t,e,n){var r=Object.prototype.hasOwnProperty;if(t.filter)return t.filter(e);for(var i=[],o=0;o<t.length;o++)if(r.call(t,o)){var a=t[o];e.call(n,a,o,t)&&i.push(a)}return i},isObject:o,isArray:function(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)},isString:a,isDate:function(t){return"[object Date]"==Object.prototype.toString.call(t)},isBoolean:function(t){return"[object Boolean]"==Object.prototype.toString.call(t)},isNumber:s,isFunction:function(t){if(!t)return!1;var e=Object.prototype.toString.call(t);return"[object Function]"==e||"[object AsyncFunction]"==e},getURLSearchParams:function(t){for(var e=function(t){return l(t)},n={},r=(t||"").split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");if(-1!==o){var a=r[i].substring(0,o),s=r[i].substring(o+1);a=e(a),s=e(s),n[a]=s}}return n},log:u,isJSONString:c,getQueryParam:function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t=l(t);var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===n||n&&"string"!=typeof n[1]&&n[1].length?"":l(n[1])},decodeURIComponent:l,formatSystem:f,validTimeout:function(t){return t.timeout_milliseconds&&s(t.timeout_milliseconds)||(t.timeout_milliseconds=3e3),t.timeout_milliseconds<200&&(t.timeout_milliseconds=200),t},indexOf:function(t,e){var n=t.indexOf;if(n)return n.call(t,e);for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}};p.getSystemInfo=function(t){try{var e=wx.getSystemInfoSync();t.props.$manufacturer=e.brand,t.props.$model=e.model,t.props.$os=f(e.platform),t.props.$os_version=e.system.indexOf(" ")>-1?e.system.split(" ")[1]:e.system}catch(t){u("get system fails")}},p.getAppId=function(){var t;if(wx.getAccountInfoSync&&(t=wx.getAccountInfoSync()),o(t)&&o(t.miniProgram))return t.miniProgram.appId};var h={url:"",project_key:"",retry_times:3,timeout_milliseconds:3e3,update_interval:6e5},d={scene:"",lib_version:"0.0.3",platform:"MiniProgram",storage_key:"sensorsdata2015_ABTest",lib_plugin_name:"miniprogram_abtesting",platform_obj:wx},g={$manufacturer:"",$model:"",$os:"",$os_version:""},v={inited:!1,fetchInterval:null,test_list:{},trigger_list:[]};function y(t,e){var n={},r={INTEGER:function(t){var e=parseFloat(t);isNaN(e)?p.log("原始数据 INTEGER 类型解析异常",t):(n.value=e,n.type="Number")},STRING:function(t){p.isString(t)?(n.value=t,n.type="String"):p.log("原始数据 STRING 类型解析异常",t)},JSON:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){if(p.isJSONString(t)){var e=JSON.parse(t);p.isObject(e)?(n.value=e,n.type="Object"):p.log("原始数据 JSON 类型解析异常",t)}})),BOOLEAN:function(t){"true"===t?(n.value=!0,n.type="Boolean"):"false"===t?(n.value=!1,n.type="Boolean"):p.log("原始数据 BOOLEAN 类型解析异常",t)}};try{r[e]?r[e](t):p.log("试验数据类型解析失败",e,t)}catch(n){p.log(n,t,e)}return n}var m=["Number","String","Object","Boolean"],_={valueType:function(t,e){switch(e){case"Number":if(p.isNumber(t))return!0;break;case"String":if(p.isString(t))return!0;break;case"Object":if(p.isObject(t))return!0;break;case"Boolean":if(!0===t||!1===t)return!0;break;default:return!1}return!1},para:function(t,e,n){var r=!0;return p.each(n,(function(n,i){switch(n){case"param_name":e.param_name&&p.isString(e.param_name)&&e.param_name.length>0||(p.log(t+"方法调用失败，param_name参数未正确配置！param_name:",e.param_name),r=!1);break;case"value_type":p.isString(e.value_type)&&-1!==p.indexOf(m,e.value_type)||(p.log(t+"方法调用失败，value_type配置错误",e.value_type),r=!1);break;case"default_value":void 0===e.default_value?(p.log(t+"方法调用失败，default_value参数未配置"),r=!1):_.valueType(e.default_value,e.value_type)||(p.log(t+"方法调用失败，default_value类型必须与value_type一致！",e.default_value,e.value_type),r=!1);break;case"callback":p.isFunction(e.callback)||(p.log(t+"方法调用失败，callback参数未正确配置"),r=!1)}})),r}};var b={};(function(t){t.para=h,t.info=d,t.state=v,t.props=g})(b),function(t){t.fetchTest=function(){var e=0,n=!1,r=t.creatRequestData();function i(e){p.log("拉取实验结果成功: ",e),n=!0,t.updateData(e.results),t.state.fetchInterval&&clearTimeout(t.state.fetchInterval),t.state.fetchInterval=setTimeout((function(){t.request({url:t.para.url,method:"POST",data:JSON.stringify(r),timeout:t.para.timeout_milliseconds,suc:i,fail:o})}),t.para.update_interval)}function o(a){return p.log("拉取实验结果失败: ",a),e++,!n&&e<t.para.retry_times&&setTimeout((function(){t.request({url:t.para.url,method:"POST",data:JSON.stringify(r),timeout:t.para.timeout_milliseconds,suc:i,fail:o})}),3e3),!1}t.request({url:t.para.url,method:"POST",data:JSON.stringify(r),timeout:t.para.timeout_milliseconds,suc:i,fail:o})},t.updateData=function(e){t.resolveData(e),t.store.setStorage(t.info.storage_key,t.state.test_list),p.log("更新试验数据")},t.resolveData=function(e){if(!p.isArray(e))return p.log("解析——数据格式错误",e),!1;t.state.test_list={},p.each(e,(function(e){p.isObject(e)&&e.variables&&p.isArray(e.variables)&&p.each(e.variables,(function(n){p.isObject(n)&&!t.state.test_list[n.name]&&(t.state.test_list[n.name]={abtest_experiment_id:e.abtest_experiment_id,abtest_experiment_group_id:e.abtest_experiment_group_id,is_control_group:e.is_control_group,is_white_list:e.is_white_list,config:y(n.value,n.type)})}))}))},t.creatRequestData=function(e){var n=t._sa.store.getUnionId(),r={anonymous_id:n.anonymous_id,platform:t.info.platform,abtest_lib_version:t.info.lib_version,properties:{$is_first_day:t._sa._.getIsFirstDay()}};if(t.info.scene&&(r.properties.$latest_scene=t.info.scene),n.login_id&&(r.login_id=n.login_id),t._sa._&&t._sa._.info&&t._sa._.info.currentProps)var i=t._sa._.info.currentProps.$latest_scene;return i&&(r.properties.$latest_scene=i),r.properties=p.extend({},r.properties,t.props),p.isObject(e)&&p.isObject(e.properties)&&(r.properties=p.extend({},r.properties,e.properties)),r}}(b),function(t){t.setPara=function(e){if(!p.isString(e.url)||"http"!==e.url.slice(0,4))return p.log("A/B Testing SDK 初始化失败，请使用正确的 URL！"),!1;t.para.url=e.url;var n=p.getQueryParam(e.url,"project-key");return n?(t.para.project_key=n,p.isNumber(e.timeout_milliseconds)&&(e.timeout_milliseconds<200?t.para.timeout_milliseconds=200:t.para.timeout_milliseconds=e.timeout_milliseconds),p.isNumber(e.update_interval)&&(t.para.update_interval=e.update_interval),!0):(p.log("A/B Testing SDK 初始化失败，请使用正确的 URL（必须包含 project-key）！"),!1)},t.asyncFetchABTest=function(e){return p.isObject(e)?!!_.para("asyncFetchABTest",e,["param_name","value_type","default_value","callback"])&&(p.validTimeout(e),void t.asyncFetch(e)):(p.log("asyncFetchABTest调用失败，参数未正确配置"),!1)},t.fastFetchABTest=function(e){if(!p.isObject(e))return p.log("fastFetchABTest 调用失败，参数未正确配置"),!1;if(!_.para("fastFetchABTest",e,["param_name","value_type","default_value","callback"]))return!1;p.validTimeout(e);var n=t.searchLocalExp(e.param_name);if(p.isObject(n)){var r=t.getExpResult(e,n);e.callback(r)}else p.log("fastFetchABTest 缓存中未读取到数据，发起请求"),t.asyncFetch(e)},t.fetchCacheABTest=function(e){if(p.isObject(e))return!!_.para("fetchCacheABTest",e,["param_name","value_type","default_value"])&&t.getExpResult(e);p.log("fetchCacheABTest调用失败，参数未正确配置")},t.asyncFetch=function(e){t.getResultFromServer({para:e,suc:function(n){if(p.isObject(n)&&"SUCCESS"===n.status){p.log("获取到服务端实验结果数据: ",n),t.updateData(n.results);var r=t.getExpResult(e);e.callback(r)}else e.callback(e.default_value)},fail:function(t){p.log("获取服务端数据失败: ",t),e.callback(e.default_value)}})},t.searchLocalExp=function(e){return!!t.state.test_list[e]&&t.state.test_list[e]},t.getExpResult=function(e,n){var r=e.default_value,i=n||t.searchLocalExp(e.param_name);return p.isObject(i)?p.isObject(i.config)&&(i.config.type===e.value_type?(r=i.config.value,t.trackTestTrigger(i)):p.log("试验结果类型与期望类型不一致，param_name："+e.param_name+"，当前返回类型为："+i.config.type+"，期望类型为："+e.value_type)):p.log("本地未查询到试验数据，试验参数名称："+e.param_name),r},t.getResultFromServer=function(e){var n=(e=p.isObject(e)?e:{}).para||{},r=e.suc,i=e.fail,o=t.creatRequestData(n);t.request({url:t.para.url,method:"POST",data:JSON.stringify(o),contentType:"application/json",timeout:n.timeout_milliseconds||t.para.timeout_milliseconds,suc:r,fail:i}),p.log("向服务端发起试验请求")}}(b),function(t){t.trackTestTrigger=function(e){var n=!1,r=!1;if(e.is_white_list)return!1;if(t.state.trigger_list.length>0&&(n=!0),-1!==t.state.trigger_list.indexOf(e.abtest_experiment_id)&&(r=!0),!r){var i={$abtest_experiment_id:e.abtest_experiment_id,$abtest_experiment_group_id:e.abtest_experiment_group_id};if(!n){var o=t.info.lib_plugin_name+":"+t.info.lib_version;i.$lib_plugin_version=[o]}t.state.trigger_list.push(e.abtest_experiment_id),t._sa.track("$ABTestTrigger",i)}}}(b),function(t){var e,n=t.info.platform_obj;o(n)&&(e=function(t){var e=t.url,r="GET",i=null;t.method&&(r=t.method),t.data&&(i=t.data),n.request({url:e,method:r,data:i,timeout:t.timeout,success:function(e){t.suc(e.data)},fail:function(e){t.fail(e)}})}),t.request=e}(b),function(t){var e=t.info.platform_obj;if(!e||function(t){if(o(t)){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}return!1}(e))return!1;t.store={getStorage:function(t){var n="";try{n=e.getStorageSync(t)}catch(t){u("获取 storage 失败！")}return c(n)&&(n=JSON.parse(n)),n},setStorage:function(t,n){var r;try{r=JSON.stringify(n)}catch(t){u("序列化缓存对象失败！")}try{e.setStorageSync(t,r)}catch(t){u("set Storage fail again --",t)}}}}(b),b.init=function(t,e){if(p.log("初始化 ABTest 插件"),this.state.inited)return!1;if(!this.setPara(e))return!1;this.state.inited=!0,this._sa=t,this.subId=new t.eventSub(this.handleIdChange);var n=b.store.getStorage(this.info.storage_key);p.isObject(n)?this.state.test_list=n:this.state.test_list={},p.getSystemInfo(this),this.subId.isReady(),this.listenAppLaunch()},b.handleIdChange=function(t){"changeDistinctId"===t&&(b.state.test_list={},b.state.trigger_list=[],b.store.setStorage(b.info.storage_key,b.state.test_list),b.fetchTest())},b.listenAppLaunch=function(){var t=wx.getLaunchOptionsSync();t&&t.scene&&(this.info.scene="wx-"+t.scene),this.fetchTest()},e.default=b},8976:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.receiveSurprisePackage=e.receivePlayerCoupon=e.homeCanUseCouponList=e.canUsePointList=e.boxCouponList=void 0,e.boxCouponList="rightsserver/v1/coupon/getCouponList",e.homeCanUseCouponList="rightsserver/v1/coupon/shopCouponListApi",e.receivePlayerCoupon="rightsserver/v1/coupon/receivePlayerCoupon",e.receiveSurprisePackage="rightsserver/v1/coupon/receiveSurprisePackage",e.canUsePointList="box_speed/order_points_trial"},"89a3":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.userDeliverTask=e.unclaimed_list_url=e.unassistedListUrl=e.startPointsHelpUrl=e.liveBroadcastUrl=e.ipTask=e.helpPointsUrl=e.getExclusiveTaskUrl=e.getExclusiveTaskAwardUrl=e.getCoupon=e.expiredPointsListUrl=e.exclusiveTaskUrl=e.exclusiveTaskAwardUrl=e.doneTaskList=e.claim_url=e.claim_all_url=e.checkCoupon=e.assistedListUrl=void 0,e.userDeliverTask="new/squirrel_activity/user_deliver_task",e.unclaimed_list_url="new/points/unclaimed/list",e.claim_url="new/points/claim",e.claim_all_url="new/points/claim_all",e.unassistedListUrl="new/points/unassisted/list",e.assistedListUrl="new/points/assisted/list",e.startPointsHelpUrl="new/points/assist_open",e.expiredPointsListUrl="new/points/expired/list",e.helpPointsUrl="new/points/assist",e.exclusiveTaskUrl="new/task/query_exclusive_task",e.exclusiveTaskAwardUrl="new/task/query_exclusive_task_award",e.getExclusiveTaskUrl="new/task/get_exclusive_task",e.getExclusiveTaskAwardUrl="new/task/get_exclusive_task_award",e.liveBroadcastUrl="new/middle_jump/info",e.doneTaskList="new/pop_task_v2/query_finish_tasks",e.ipTask="new/pop_task_v2/finish_task",e.getCoupon="new/coupons/store/get_free_shipping_coupon",e.checkCoupon="new/coupons/store/check_free_shipping_coupon"},"8adb":function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},"8bd0":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.sendCode=e.homeLogin=e.checkLogin=void 0,e.sendCode="sendCode/",e.checkLogin="checkLogin/",e.homeLogin="login/"},"8d74":function(t,e,n){var r=n("4cef"),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},"8de2":function(t,e,n){var r=n("8eeb"),i=n("9934");t.exports=function(t){return r(t,i(t))}},"8eeb":function(t,e,n){var r=n("32b3"),i=n("872a");t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=o?o(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?i(n,c,l):r(n,c,l)}return n}},9152:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,p=n?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*g}},"91e9":function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},"921b":function(t,e,n){(function(t){function e(t,e,n){return e=r(e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],r(t).constructor):e.apply(t,n))}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){return(u="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function c(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:e+""}var f=n("8189").version,p="https://tongji.dcloud.io/uni/stat",h=n("ecd6").default||n("ecd6"),d="__DC_STAT_UUID",g="__DC_UUID_VALUE";function v(){var e="";if("n"===m()){try{e=plus.runtime.getDCloudId()}catch(t){e=""}return e}try{e=t.getStorageSync(d)}catch(t){e=g}if(!e){e=Date.now()+""+Math.floor(1e7*Math.random());try{t.setStorageSync(d,e)}catch(e){t.setStorageSync(d,g)}}return e}var y=function(){return parseInt((new Date).getTime()/1e3)},m=function(){return c(c(c(c(c(c({"app-plus":"n",h5:"h5","mp-weixin":"wx"},["y","a","p","mp-ali"].reverse().join(""),"ali"),"mp-baidu","bd"),"mp-toutiao","tt"),"mp-qq","qq"),"quickapp-native","qn"),"mp-kuaishou","ks")["mp-weixin"]},_=function(){var e="";return"wx"!==m()&&"qq"!==m()||t.canIUse("getAccountInfoSync")&&(e=t.getAccountInfoSync().miniProgram.appId||""),e},b=function(){var t="";return"n"===m()&&(t=plus.runtime.channel),t},w=function(e){var n=m(),r="";return e||("wx"===n&&(r=t.getLaunchOptionsSync().scene),r)},x="First__Visit__Time",S="Last__Visit__Time",k=function(){var e=t.getStorageSync(x),n=0;return e?n=e:(n=y(),t.setStorageSync(x,n),t.removeStorageSync(S)),n},T=function(){var e;return e=t.getStorageSync(S)||"",t.setStorageSync(S,y()),e},P="__page__residence__time",O=0,A=0,C=function(){return O=y(),"n"===m()&&t.setStorageSync(P,y()),O},E="Total__Visit__Count",j=function(){var e=t.getStorageSync(E),n=1;return e&&(n=e,n++),t.setStorageSync(E,n),n},I=0,R=0,D=function(){var t=(new Date).getTime();return I=t,R=0,t},L=function(){var t=(new Date).getTime();return R=t,t},U=function(t){var e=0;return 0!==I&&(e=R-I),e=(e=parseInt(e/1e3))<1?1:e,"app"===t?{residenceTime:e,overtime:e>300}:"page"===t?{residenceTime:e,overtime:e>1800}:{residenceTime:e}},B=function(t){var e=getCurrentPages(),n=e[e.length-1];if(!n)return"";var r=n.$vm,i=t._query,o=i&&"{}"!==JSON.stringify(i)?"?"+JSON.stringify(i):"";return t._query="","bd"===m()?r.$mp&&r.$mp.page.is+o:r.$scope&&r.$scope.route+o||r.$mp&&r.$mp.page.route+o},M=function(t){return!!("page"===t.mpType||t.$mp&&"page"===t.$mp.mpType||"page"===t.$options.mpType)},N="Report_Data_Time",$="Report_Status",q=function(e){var n={usv:f,conf:JSON.stringify({ak:h.appid})};t.request({url:p,method:"GET",data:n,success:function(t){var n=t.data;0===n.ret&&"function"==typeof e&&e({enable:n.enable})},fail:function(n){var r=1;try{r=t.getStorageSync($)}catch(n){r=1}""===r&&(r=1),"function"==typeof e&&e({enable:r})}})},G=n("5768").default,F=n("ecd6").default||n("ecd6"),H=t.getSystemInfoSync(),z=function(n){function r(){var n;return o(this,r),(n=e(this,r)).instance=null,"function"==typeof t.addInterceptor&&(n.addInterceptorInit(),n.interceptLogin(),n.interceptShare(!0),n.interceptRequestPayment()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(r,n),s(r,[{key:"addInterceptorInit",value:function(){var e=this;t.addInterceptor("setNavigationBarTitle",{invoke:function(t){e._navigationBarTitle.page=t.title}})}},{key:"interceptLogin",value:function(){var e=this;t.addInterceptor("login",{complete:function(){e._login()}})}},{key:"interceptShare",value:function(e){var n=this;e?t.addInterceptor("share",{success:function(){n._share()},fail:function(){n._share()}}):n._share()}},{key:"interceptRequestPayment",value:function(){var e=this;t.addInterceptor("requestPayment",{success:function(){e._payment("pay_success")},fail:function(){e._payment("pay_fail")}})}},{key:"report",value:function(t,e){this.self=e,C(),this.__licationShow=!0,this._sendReportRequest(t,!0)}},{key:"load",value:function(t,e){if(!e.$scope&&!e.$mp){var n=getCurrentPages();e.$scope=n[n.length-1]}this.self=e,this._query=t}},{key:"show",value:function(t){this.self=t,M(t)?this._pageShow(t):this._applicationShow(t)}},{key:"ready",value:function(t){}},{key:"hide",value:function(t){this.self=t,M(t)?this._pageHide(t):this._applicationHide(t,!0)}},{key:"error",value:function(t){this._platform;var e;e=t.message?t.stack:JSON.stringify(t);var n={ak:this.statData.ak,uuid:this.statData.uuid,lt:"31",ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:e,usv:this.statData.usv,t:y(),p:this.statData.p};this.request(n)}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new r),this.instance}}])}(s((function t(){o(this,t),this.self="",this._retry=0,this._platform="",this._query={},this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._operatingTime=0,this._reportingRequestData={1:[],11:[]},this.__prevent_triggering=!1,this.__licationHide=!1,this.__licationShow=!1,this._lastPageRoute="",this.statData={uuid:v(),ut:m(),mpn:_(),ak:F.appid,usv:f,v:"n"===m()?plus.runtime.version:"",ch:b(),cn:"",pn:"",ct:"",t:y(),tt:"",p:"android"===H.platform?"a":"i",brand:H.brand||"",md:H.model,sv:H.system.replace(/(Android|iOS)\s/,""),mpsdk:H.SDKVersion||"",mpv:H.version||"",lang:H.language,pr:H.pixelRatio,ww:H.windowWidth,wh:H.windowHeight,sw:H.screenWidth,sh:H.screenHeight}}),[{key:"getIsReportData",value:function(){return new Promise((function(e,n){var r="",i=(new Date).getTime(),o=1;try{r=t.getStorageSync(N),o=t.getStorageSync($)}catch(t){r="",o=1}""!==o?(1===o&&e(),r||(t.setStorageSync(N,i),r=i),i-r>864e5&&q((function(e){var n=e.enable;t.setStorageSync(N,i),t.setStorageSync($,n)}))):q((function(n){var r=n.enable;t.setStorageSync(N,i),t.setStorageSync($,r),1===r&&e()}))}))}},{key:"_applicationShow",value:function(){if(this.__licationHide){if(L(),U("app").overtime){var t={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(t)}this.__licationHide=!1}}},{key:"_applicationHide",value:function(t,e){this.__licationHide=!0,L();var n=U();D();var r=B(this);this._sendHideRequest({urlref:r,urlref_ts:n.residenceTime},e)}},{key:"_pageShow",value:function(){var t=B(this),e=function(){var t=getCurrentPages(),e=t[t.length-1];if(!e)return"";var n=e.$vm;return"bd"===m()?n.$mp&&n.$mp.page.is:n.$scope&&n.$scope.route||n.$mp&&n.$mp.page.route}();if(this._navigationBarTitle.config=G&&G.pages[e]&&G.pages[e].titleNView&&G.pages[e].titleNView.titleText||G&&G.pages[e]&&G.pages[e].navigationBarTitleText||"",this.__licationShow)return D(),this.__licationShow=!1,void(this._lastPageRoute=t);if(L(),this._lastPageRoute=t,U("page").overtime){var n={path:this._lastPageRoute,scene:this.statData.sc};this._sendReportRequest(n)}D()}},{key:"_pageHide",value:function(){if(!this.__licationHide){L();var t=U("page");return this._sendPageRequest({url:this._lastPageRoute,urlref:this._lastPageRoute,urlref_ts:t.residenceTime}),void(this._navigationBarTitle={config:"",page:"",report:"",lt:""})}}},{key:"_login",value:function(){this._sendEventRequest({key:"login"},0)}},{key:"_share",value:function(){this._sendEventRequest({key:"share"},0)}},{key:"_payment",value:function(t){this._sendEventRequest({key:t},0)}},{key:"_sendReportRequest",value:function(t){this._navigationBarTitle.lt="1";var e=t.query&&"{}"!==JSON.stringify(t.query)?"?"+JSON.stringify(t.query):"";this.statData.lt="1",this.statData.url=t.path+e||"",this.statData.t=y(),this.statData.sc=w(t.scene),this.statData.fvts=k(),this.statData.lvts=T(),this.statData.tvc=j(),"n"===m()?this.getProperty():this.getNetworkInfo()}},{key:"_sendPageRequest",value:function(t){var e=t.url,n=t.urlref,r=t.urlref_ts;this._navigationBarTitle.lt="11";var i={ak:this.statData.ak,uuid:this.statData.uuid,lt:"11",ut:this.statData.ut,url:e,tt:this.statData.tt,urlref:n,urlref_ts:r,ch:this.statData.ch,usv:this.statData.usv,t:y(),p:this.statData.p};this.request(i)}},{key:"_sendHideRequest",value:function(t,e){var n=t.urlref,r=t.urlref_ts,i={ak:this.statData.ak,uuid:this.statData.uuid,lt:"3",ut:this.statData.ut,urlref:n,urlref_ts:r,ch:this.statData.ch,usv:this.statData.usv,t:y(),p:this.statData.p};this.request(i,e)}},{key:"_sendEventRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,n=void 0===e?"":e,r=t.value,i=void 0===r?"":r,o=this._lastPageRoute,a={ak:this.statData.ak,uuid:this.statData.uuid,lt:"21",ut:this.statData.ut,url:o,ch:this.statData.ch,e_n:n,e_v:"object"===u(i)?JSON.stringify(i):i.toString(),usv:this.statData.usv,t:y(),p:this.statData.p};this.request(a)}},{key:"getNetworkInfo",value:function(){var e=this;t.getNetworkType({success:function(t){e.statData.net=t.networkType,e.getLocation()}})}},{key:"getProperty",value:function(){var t=this;plus.runtime.getProperty(plus.runtime.appid,(function(e){t.statData.v=e.version||"",t.getNetworkInfo()}))}},{key:"getLocation",value:function(){var e=this;F.getLocation?t.getLocation({type:"wgs84",geocode:!0,success:function(t){t.address&&(e.statData.cn=t.address.country,e.statData.pn=t.address.province,e.statData.ct=t.address.city),e.statData.lat=t.latitude,e.statData.lng=t.longitude,e.request(e.statData)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData))}},{key:"request",value:function(e,n){var r=this,i=y(),o=this._navigationBarTitle;e.ttn=o.page,e.ttpj=o.config,e.ttc=o.report;var a=this._reportingRequestData;if("n"===m()&&(a=t.getStorageSync("__UNI__STAT__DATA")||{}),a[e.lt]||(a[e.lt]=[]),a[e.lt].push(e),"n"===m()&&t.setStorageSync("__UNI__STAT__DATA",a),A=y(),"n"===m()&&(O=t.getStorageSync(P)),!(A-O<10)||n){var s=this._reportingRequestData;"n"===m()&&(s=t.getStorageSync("__UNI__STAT__DATA")),C();var u=[],c=[],l=[],p=function(t){s[t].forEach((function(e){var n=function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.substr(0,e.length-1)}(e);0===t?u.push(n):3===t?l.push(n):c.push(n)}))};for(var h in s)p(h);u.push.apply(u,c.concat(l));var d={usv:f,t:i,requests:JSON.stringify(u)};this._reportingRequestData={},"n"===m()&&t.removeStorageSync("__UNI__STAT__DATA"),"h5"!==e.ut?"n"!==m()||"a"!==this.statData.p?this._sendRequest(d):setTimeout((function(){r._sendRequest(d)}),200):this.imageRequest(d)}}},{key:"_sendRequest",value:function(e){var n=this;this.getIsReportData().then((function(){t.request({url:p,method:"POST",data:e,success:function(){},fail:function(t){++n._retry<3&&setTimeout((function(){n._sendRequest(e)}),1e3)}})}))}},{key:"imageRequest",value:function(t){this.getIsReportData().then((function(){var e=new Image,n=function(t){var e=Object.keys(t).sort(),n={},r="";for(var i in e)n[e[i]]=t[e[i]],r+=e[i]+"="+t[e[i]]+"&";return{sign:"",options:r.substr(0,r.length-1)}}(function(t){var e={};for(var n in t)e[n]=encodeURIComponent(t[n]);return e}(t)).options;e.src="https://tongji.dcloud.io/uni/stat.gif?"+n}))}},{key:"sendEvent",value:function(t,e){(function(t,e){return!t||"string"!=typeof t||t.length>255||"string"!=typeof e&&"object"!==u(e)||"string"==typeof e&&e.length>255||"title"===t&&"string"!=typeof e||void 0})(t,e)||("title"!==t?this._sendEventRequest({key:t,value:"object"===u(e)?JSON.stringify(e):e},1):this._navigationBarTitle.report=e)}}])).getInstance(),W=!1,V={onLaunch:function(t){z.report(t,this)},onReady:function(){z.ready(this)},onLoad:function(t){if(z.load(t,this),this.$scope&&this.$scope.onShareAppMessage){var e=this.$scope.onShareAppMessage;this.$scope.onShareAppMessage=function(t){return z.interceptShare(!1),e.call(this,t)}}},onShow:function(){W=!1,z.show(this)},onHide:function(){W=!0,z.hide(this)},onUnload:function(){W?W=!1:z.hide(this)},onError:function(t){z.error(t)}};!function(){var e=n("66fd");(e.default||e).mixin(V),t.report=function(t,e){z.sendEvent(t,e)}}()}).call(this,n("543d").default)},"92e3":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.searchGoodsList=e.robotStoreDetail=e.robotList=e.omsRecommendStoreV2=e.omsRecommendStore=e.newGoodsSubscribe=e.newGoodsList=e.newGoodsIsSell=e.newGoodsBanners=e.newAllGoods=e.ipList=e.ipGoodsList=e.goodsSpusInventory=e.goodsSalePromotion=e.goodsQualification=e.goodsHotList=e.goTagInfo=e.goStoreDetail=e.goSelloutRecommend=e.goRecommend=e.goNewShopGoods=e.goMatchList=e.goMallList=e.goIpCorridor=e.goInventory=e.goHotWords=e.goGoodsDetail=e.goFavoriteGoods=e.goBuyLimit=e.goAddCart=e.getPointUrl=e.coupon_goodsUrl=void 0,e.omsRecommendStore="new/sg/store/oms_recommend_store",e.omsRecommendStoreV2="new/sg/store/oms_recommend_store_v2",e.newGoodsList="new/sg/goods/new_list",e.newGoodsBanners="new/sg/advertising/mall",e.newGoodsSubscribe="new/sg/wechat_message/subscribe",e.newAllGoods="new/sg/goods/all_new_list",e.newGoodsIsSell="new/sg/goods/sub_sell_msg",e.ipList="new/sg/goods/v2/ip_list",e.ipGoodsList="new/sg/goods/v2/get_goods_by_ip",e.searchGoodsList="new/sg/goods_query/v2/search",e.goodsSpusInventory="new/sg/goods/spus_inventory",e.goodsHotList="new/sg/goods/hot_list",e.coupon_goodsUrl="new/sg/goods/coupon_goods_list",e.robotList="new/robot/stock_list",e.goStoreDetail="new/sg/store/details",e.goGoodsDetail="new/sg/goods/v2/detail_v2",e.goRecommend="new/sg/goods/v2/detail_page_recommendations",e.goInventory="new/sg/goods/skus_inventory_v2",e.goSelloutRecommend="new/sg/store/sellout_recommend_store",e.goBuyLimit="new/sg/goods/user_buy_limit_query_v2",e.goAddCart="new/sg/shopping_cart/adjusts",e.goMatchList="new/sg/goods/match_list",e.robotStoreDetail="new/sg/store/details",e.goodsQualification="new/sg/goods/qualification",e.goFavoriteGoods="new/sg/goods/v2/list",e.goTagInfo="new/sg/goods/tag_info",e.goNewShopGoods="new/sg/goods/v2/home_list",e.goMallList="new/sg/advertising/mall_for_list",e.goHotWords="new/sg/goods_query/v2/hot",e.goIpCorridor="new/sg/ip/ip_corridor",e.getPointUrl="new/geo/point/address",e.goodsSalePromotion="new/sg/goods/v2/goods_sale_promotion"},9417:function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("0330")),i=n("d9bb");var o=t.getStorageSync("serverConfig"),a=(null==o?void 0:o.env)||"production",s=null;e.default={init:function(){s=new r.default({id:"zYKERtzex009xzdYnY",env:a,version:i.version,reportLoadPackageSpeed:!0,spa:!0,hostUrl:"https://rumt-zh.com",beforeRequest:function(t){if(-1===t.logs.url.indexOf("paquapp.com"))return!1},websocketHack:!0,api:{retCodeHandler:function(){return{isErr:!1,code:200}}}})},login:function(t){try{s.setConfig({uin:t.openid})}catch(t){}},report:function(t){try{s.report(t)}catch(t){}},event:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{s.reportEvent({name:t,ext1:JSON.stringify(e)})}catch(t){}}}}).call(this,n("543d").default)},9520:function(t,e,n){var r=n("3729"),i=n("1a8c");t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},96384:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},9934:function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"998f":function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}var s=function(t){return{name:"PopMartMemberMPTaskCenterOneClickExposure",data:{is_limited:t>99}}};t.exports={signDayTrackConfig:function(t){return i(i({},t),{},{track:{name:"PopMartMemberMPTaskCenterSignCalendarClick",data:{content_type:t.is_today?"今日日历":"非今日",activity_name:t.activity.title}}})},taskTrackConfig:function(t,e){return t.map((function(t){return i(i({},t),{},{track:{name:"PopMartMemberMPTaskCenterTaskBtnClick",data:{module_name:e,btn_name:{todo:"去完成",toget:"领任务",togetreward:"领奖励",finish:"已完成"}[t.status],task_type:t.title}}})}))},trackAllBtnShow:s,getPointsTrackConfig:function(t,e){return t.map((function(t){return i(i({},t),{},{track:{name:"PopMartMemberMPTaskCenterGetIntegral",data:{btn_name:"积分泡泡",channel:t.channel_desc,is_limited:t.expired_at_ts-e<86400}}})}))},helpTrackConfig:function(t){return{name:"PopMartMemberMPTaskCenterHelpWakeUp",data:i({},t)}},taskActTrackConfig:function(t){return t.map((function(t){return i(i({},t),{},{track:{name:"PopMartMemberMPTaskCenterPendantClick",data:{jump_url:t.value}}})}))}}},"99cd":function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},"9a9d":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.updateReddotApi=e.subScribe=e.setGuideStepApi=e.hasSubscribe=e.guideStepApi=e.boxAuth=void 0,e.boxAuth="playerserver/v1/user/get_user_expand_info",e.hasSubscribe="graph/notice/v1/notice/notices/users/has-subscribe",e.subScribe="graph/notice/v1/notice/notices/users/subscribe",e.guideStepApi="boxserver/v1/guide/query",e.setGuideStepApi="boxserver//v1/guide/update",e.updateReddotApi="playerserver/v1/user/update/tab_red_dot"},"9aff":function(t,e){t.exports=function(){return!1}},"9b40":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.userRuleConfig=e.userMedalonfig=e.userHomeConfig=e.userConfig=void 0;var r=n("b775");e.userConfig=r.isProd?"user_config/user/user_config_v2.json":"user_config/user/user_config_test.json",e.userHomeConfig=r.isProd?"user_config/home/home_config_v2.json":"user_config/home/home_config_test.json",e.userMedalonfig="user_config/medal/medal_config.json",e.userRuleConfig="shot_photo_config/shot_photo_config.json"},"9d1f":function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,i,o,a,s,u,c,l,f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function p(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}!function(t){t.NotSetup="NotSetup",t.SettingUp="SettingUp",t.WaitingForFirstReport="WaitingForFirstReport",t.Collecting="Collecting",t.TearingDown="TearingDown"}(c||(c={})),function(t){t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING=2]="STRING",t[t.NUMBER=3]="NUMBER",t[t.JSON=4]="JSON"}(l||(l={}));var d,g=new Promise((function(t){var e=setInterval((function(){var n,r;if(void 0===(null===(r=null===(n=wx.cloud)||void 0===n?void 0:n.obs)||void 0===r?void 0:r.getStatus))return t(!0),void clearInterval(e);T()===c.Collecting&&(clearInterval(e),t(!0))}),100)}));function v(t){var e;return p(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return void 0===(null===(e=null===wx||void 0===wx?void 0:wx.cloud)||void 0===e?void 0:e.obs)?[2,{errMsg:"function setup is not supported in this version, please upgrade your wxapplib version\n[体验分析]当前基础库版本过低，不支持体验分析，请升级基础库版本到 2.24.4 或以上"}]:(n=!0,void 0!==(null==t?void 0:t.isWhitelistMaskMode)?n=t.isWhitelistMaskMode:(null==t?void 0:t.maskMode)&&(n="all-mask"===t.maskMode),k(),wx.cloud.obs.asyncSetup?[2,wx.cloud.obs.asyncSetup(Object.assign(t||{},{projectId:null===__wxConfig||void 0===__wxConfig?void 0:__wxConfig.accountInfo.appId,isWhitelistMaskMode:n,newSessionCallback:function(e){var n;null===(n=null==t?void 0:t.newSessionCallback)||void 0===n||n.call(t,e),k()}}))]:[3,1]);case 1:return r=wx.cloud.obs.setup(Object.assign(t||{},{projectId:null===__wxConfig||void 0===__wxConfig?void 0:__wxConfig.accountInfo.appId,isWhitelistMaskMode:n})),[4,new Promise((function(t){return setTimeout(t,1e3)}))];case 2:return i.sent(),[2,r?{sessionId:r}:{errMsg:"setup failed"}]}}))}))}function y(){var t,e;return p(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:if(void 0===(null===(e=null===(t=null===wx||void 0===wx?void 0:wx.cloud)||void 0===t?void 0:t.obs)||void 0===e?void 0:e.teardown))throw new Error("[wxobs]function teardown is not supported in this version, please upgrade your wxapplib version\n[体验分析]当前基础库版本过低，不支持 teardown 函数");return[4,wx.cloud.obs.teardown()];case 1:return n.sent(),g=new Promise((function(t){var e=setInterval((function(){var n,r;if(void 0===(null===(r=null===(n=wx.cloud)||void 0===n?void 0:n.obs)||void 0===r?void 0:r.getStatus))return t(!0),void clearInterval(e);T()===c.Collecting&&(clearInterval(e),t(!0))}),100)})),[2]}}))}))}function m(t){var e,n;return p(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:return[4,g];case 1:return r.sent(),void 0===(null===(n=null===(e=null===wx||void 0===wx?void 0:wx.cloud)||void 0===e?void 0:e.obs)||void 0===n?void 0:n.setAttrs)||wx.cloud.obs.setAttrs(t),[2]}}))}))}function _(t){var e,n;return p(this,void 0,void 0,(function(){return h(this,(function(r){switch(r.label){case 0:return[4,g];case 1:return r.sent(),void 0===(null===(n=null===(e=null===wx||void 0===wx?void 0:wx.cloud)||void 0===e?void 0:e.obs)||void 0===n?void 0:n.emitEvent)||wx.cloud.obs.emitEvent(t),[2]}}))}))}function b(t,e,n){"[wxobs] ".concat(t," 调用错误,");try{if("object"==_typeof2(e)&&null!==e){var r=Boolean(e.__cos_only__),i=Object.keys(e);if(r||i.length<=10){for(var o=0;o<i.length;o++){if(i[o].length>50&&!i[o].includes(","))return!1;var a=e[i[o]];if("string"==typeof a){if(!r&&(a.length>255||a.includes(",")))return!1;n["wxobs_props_".concat(i[o],"_string")]=a}else{if(!Number.isSafeInteger(a))return!1;n["wxobs_props_".concat(i[o],"_int")]="".concat(a)}}return r&&(n.__cos_only__="1"),!0}}}catch(t){}return!1}var w=null!==(i=null===(r=wx.obs)||void 0===r?void 0:r.event)&&void 0!==i?i:function(t,e){if(void 0===e&&(e={}),wx.obs&&A(wx.version.version,"3.4.8")>=0)return wx.obs.event(t,e);var n={};return!(!(b("event",e,n)&&"string"==typeof t&&t.length<=50)||t.includes(",")||(_(f({wxobs_type:"__userob_default_custom_event_emit__",wxobs_primary_event_name:t},n)),0))},x=null!==(a=null===(o=wx.obs)||void 0===o?void 0:o.setCustomId)&&void 0!==a?a:function(t){return"string"==typeof t&&t.length<=80&&!t.includes(",")&&(_({wxobs_type:"__userob_default_custom_id_set__",wxobs_primary_uid:t}),d=t,wx.setStorage({key:"wxobs_cache_uid",data:t}),!0)},S=null!==(u=null===(s=wx.obs)||void 0===s?void 0:s.setCustomProperties)&&void 0!==u?u:function(t){if(!d)return!1;var e={};return!!b("setCustomProperties",t,e)&&(_(f({wxobs_type:"__userob_default_custom_props_set__",wxobs_primary_uid:d},e)),!0)};function k(){try{var t=wx.getStorageSync("wxobs_cache_uid");t&&x(t)}catch(t){}}function T(){var t,e,n,r,i,o;return void 0!==(null===(e=null===(t=null===wx||void 0===wx?void 0:wx.cloud)||void 0===t?void 0:t.obs)||void 0===e?void 0:e.getStatus)||(null===(n=wx.obs)||void 0===n?void 0:n.getStatus)?null===(o=null===(i=null===(r=null===wx||void 0===wx?void 0:wx.cloud)||void 0===r?void 0:r.obs)||void 0===i?void 0:i.getStatus)||void 0===o?void 0:o.call(i):c.NotSetup}function P(t){return p(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return wx.obs,[4,wx.obs.getFeatureFlags(t)];case 1:return e=n.sent(),A(wx.version.version,"3.4.7")<0&&setTimeout((function(){!function(t,e){var n,r,i={};try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(e[s]){var u="flag_value_".concat(s);e[s].type===l.JSON?i[u]=C(JSON.stringify(e[s].value)):e[s].type===l.STRING?i[u]=C(e[s].value+""):e[s].type===l.NUMBER||e[s].type===l.BOOLEAN?i[u]="".concat(e[s].value):i[u]=C(e[s].value+"")}else i["flag_empty_".concat(s)]="1"}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}_(f({wxobs_type:"feature_flags_received"},i))}(t.flags,e)}),0),[2,e]}}))}))}function O(){return wx.obs,wx.obs.getFeatureFlagsSync()}function A(t,e){if("string"!=typeof t||"string"!=typeof e)return 0;for(var n=t.split("."),r=e.split("."),i=Math.max(n.length,r.length);n.length<i;)n.push("0");for(;r.length<i;)r.push("0");for(var o=0;o<i;o++){var a=parseInt(n[o],10),s=parseInt(r[o],10);if(a>s)return 1;if(a<s)return-1}return 0}function C(t){for(var e=t.length,n=5381,r=0;r<e;++r)n=(n<<5)+n+t.charCodeAt(r);return String(n)}var E={setup:v,event:w,setCustomId:x,setCustomProperties:S,teardown:y,setAttrs:m,getStatus:T,getFeatureFlags:P,getFeatureFlagsSync:O};e.default=E,e.event=w,e.getFeatureFlags=P,e.getFeatureFlagsSync=O,e.getStatus=T,e.setAttrs=m,e.setCustomId=x,e.setCustomProperties=S,e.setup=v,e.teardown=y},a029:function(t,e){t.exports=function(){return[]}},a994:function(t,e,n){var r=n("91e9")(Object.keys,Object);t.exports=r},aaec:function(t,e){t.exports=function(){return!1}},aaf5:function(t,e,n){var r=a(n("804f")),i=a(n("582a")),o=a(n("858a"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=c(c(c({},r.default),i.default),o.default)},ad98:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.updateAddressUrl=e.refreshCodeUrl=e.pointsUrl=e.pickUpPswUrl=e.payUrl=e.payResUrl=e.orderPromotionUrl=e.listHistoryUrl=e.giftPromotionUrl=e.defalueAddressUrl=e.checkWaitOrderUrl=e.cartPromotionUrl=e.cancelOrderUrl=void 0,e.giftPromotionUrl="new/sg/goods/detail_promotion",e.orderPromotionUrl="new/sg/goods/promotion_query",e.pointsUrl="new/sg/order/discount_query",e.cartPromotionUrl="new/sg/shopping_cart/promotion_query",e.defalueAddressUrl="new/sg/address/default",e.payUrl="storego/sg/order/waiting_pay/pay_v2",e.payResUrl="new/sg/order/waiting_pay/pay_query",e.pickUpPswUrl="new/sg/order/pick_up_password",e.checkWaitOrderUrl="new/sg/order/waiting_pay/check",e.cancelOrderUrl="new/sg/order/waiting_pay/cancel",e.updateAddressUrl="new/sg/order/edit_address",e.refreshCodeUrl="new/sg/order/refresh_qrcode",e.listHistoryUrl="new/sg/order/list_history"},ae91:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return Object.assign(t,{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,n,r,i){t.shadowOffsetX=e,t.shadowOffsetY=n,t.shadowBlur=r,t.shadowColor=i},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})}},b047:function(t,e){t.exports=function(t){return function(e){return t(e)}}},b218:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},b3b6:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.userQuantity=e.userPoints=e.userPhone=e.userInfoV2=e.userInfo=e.userCardExchange=e.uploadTokenUrl=e.getUserInfo=e.getUserGroupInfo=e.getLiteUserInfo=e.getBoxUser=e.getAlterUserInfo=e.alterInfo=void 0;var r=n("b775");e.userInfoV2="userInfoV2/",e.userInfo="userInfo/",e.userPhone="userPhone/",e.getUserInfo="getUserInfo/",e.getAlterUserInfo="common/member/pre_alter_user_info",e.alterInfo="alterInfo",e.getBoxUser="common/index/get_box_user",e.getLiteUserInfo="common/svip_lite/user_info",e.userQuantity="common/coupons/quantity",e.uploadTokenUrl="common/getOssV2",e.userCardExchange="new/cards/useall",e.userPoints="common/points/details",e.getUserGroupInfo=r.isProd?"https://wechatapp.paquapp.com/openservice/qywechat-openapi/openapi/wechat/check/":"https://qywechat.paquapp.com/dev-gateway/qywechat-openapi/openapi/wechat/check/"},b4c0:function(t,e,n){var r=n("cb5a");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},b570:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("b3b6"),i=n("8bd0"),o=n("20f1"),a=n("5459"),s=n("0443"),u=n("e0c5"),c=n("2934");e.default={pyGetUserInfoV2:function(t){return(0,c.promiseApi)(r.userInfoV2,t)},pyGetUserInfo:function(t){return(0,c.promiseApi)(r.userInfo,t)},pyWxPhoneLogin:function(t){return(0,c.promiseApi)(r.userPhone,t)},pyGetGlobalUserInfo:function(t){return(0,c.promiseApi)(r.getUserInfo,t,"GET")},pyGetSendCode:function(t){return(0,c.promiseApi)(i.sendCode,t,"GET")},pyCheckLogin:function(t){return(0,c.promiseApi)(i.checkLogin,t,"GET")},pyWechatSubscribe:function(t){return(0,c.promiseApi)(o.wechatSubscribe,t,"GET")},pyHomeLogin:function(t){return(0,c.promiseApi)(i.homeLogin,t,"GET")},pyBootPopup:function(t){return(0,c.promiseApi)(a.bootPopup,t,"POST",!0)},pyGetTemplateInfo:function(t){return(0,c.promiseApi)(o.wechatTemplateInfo,t,"GET",!0)},pyWechatSubscribePost:function(t){return(0,c.promiseApi)(o.wechatSubscribe,t)},pyGetAlterUserInfo:function(t){return(0,c.promiseApi)(r.getAlterUserInfo,t,"GET")},pyAlterInfo:function(t){return(0,c.promiseApi)(r.alterInfo,t)},pyGetWeekSignlist:function(t){return(0,c.promiseApi)(s.weekSignlist,t,"POST")},pyGetEverySignDay:function(t){return(0,c.promiseApi)(s.everySignDay,t,"POST")},goGetTaskList:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.promiseApi)(s.taskList,t,"POST",e)},goGetChallengeTaskList:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.promiseApi)(s.taskChallengeList,t,"POST",e)},pyGetTaskAskfor:function(t){return(0,c.promiseApi)(s.taskAskfor,t,"POST")},pyGetTaskAskforPoints:function(t){return(0,c.promiseApi)(s.taskAskforPoints,t,"POST")},pyGetDoTask:function(t){return(0,c.promiseApi)(s.doTask,t)},goUserPointsInfo:function(t){return(0,c.promiseApi)(s.userPointsInfo,t,"GET")},pyGetBoxUser:function(t){return(0,c.promiseApi)(r.getBoxUser,t,"GET")},pyQuestionGameCurrent:function(t){return(0,c.promiseApi)(u.questionGameCurrent,t,"GET")},pyQuestionGameRules:function(t){return(0,c.promiseApi)(u.questionGameRules,t,"GET")},pyGetLiteUserInfo:function(t){return(0,c.promiseApi)(r.getLiteUserInfo,t,"GET")},pySubscribeRobotUrl:function(t){return(0,c.promiseApi)(o.subscribeRobotUrl,t,"GET")},pyUserQuantity:function(t){return(0,c.promiseApi)(r.userQuantity,t,"GET")},uploadToken:function(t){return(0,c.promiseApi)(r.uploadTokenUrl,t,"GET")},getUserInfoInGroup:function(t){return(0,c.promiseApi)(r.getUserGroupInfo+t,{},"GET")},getUserCardExchange:function(t){return(0,c.promiseApi)(r.userCardExchange,t,"POST")},pyUserPoints:function(t){return(0,c.promiseApi)(r.userPoints,t,"GET")}}},b639:function(t,e,n){(function(t){var r=n("1fb5"),i=n("9152"),o=n("e3db");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=p(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return $(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return T(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(c(t,o+p)!==c(e,p)){f=!1;break}if(f)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return G($(e,t.length-n),t,n,r)}function w(t,e,n,r){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function S(t,e,n,r){return G(q(e),t,n,r)}function k(t,e,n,r){return G(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function T(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&((u=(31&c)<<6|63&o)>127&&(l=u));break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=N(t[o]);return i}function E(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:$(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n("c8ba"))},b760:function(t,e,n){var r=n("872a"),i=n("96384");t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},b775:function(t,e,n){(function(e){var r=l(n("8237")),i=n("e762"),o=l(n("c9b7")),a=l(n("9417")),s=l(n("0330")),u=n("d9bb"),c=n("60fe");function l(t){return t&&t.__esModule?t:{default:t}}function f(t){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=n("1451").default,g=n("29d8").init,v=n("29d8").setConfig,y=requirePlugin("tdfp-plugin");function m(t){return 0===t.indexOf("common/")?u.serverUrl+t.slice(7):0===t.indexOf("new/")?u.newServerUrl+t.slice(4):0===t.indexOf("storego/")?u.sgServerUrl+t.slice(8):0===t.indexOf("graph/")?u.graphServerUrl+t.slice(6):0===t.indexOf("mock/")?"http://yapi.paquapp.com/mock/"+t.slice(5):0===t.indexOf("boxonline/")?"https://res.paquapp.com/boxonline/"+t.slice(10):/\.json$/.test(t)?"https://res.paquapp.com/popmartvip/"+t:t.includes("https://")?t:0===t.indexOf("boxserver/")||0===t.indexOf("rightsserver/")||0===t.indexOf("playerserver/")||0===t.indexOf("orderserver/")||0===t.indexOf("v2/service/boxonline_speed_version/")?u.boxliteUrl+t:0===t.indexOf("box_speed/")?u.newServerUrl+t:u.serverUrl+"wechat/"+t}function _(t,n){if(0!==t.indexOf("new/user/login/wechat_mini")){var r=e.getStorageSync("providerId");if(n.openid=r,0===t.indexOf("getUserInfo")){var i=e.getStorageSync("userId");n.user_id=i}}}function b(t,e,n){var o={};Object.keys(t).sort().forEach((function(n){o[n]="POST"===e?t[n]:t[n].toString()})),o.version=u.version;var a=(new Date).getTime().toString(),s=JSON.stringify(o)+"PopMartminiApp1117"+a,c=(0,r.default)(s);return t.sign=n?(0,r.default)(i.Base64.encode(c+"PopMartminiApp0314")):c,t.time=a,t.version=u.version,t}function w(t){for(var e in t)"string"==typeof t[e]&&""===t[e].trim()&&delete t[e];return t}function x(t){var e=(new Date).getTime().toString();return"".concat((0,r.default)(e+","+t.http_cloud_service.client_key),",").concat(e)}function S(t,n,i,o){var a=e.getStorageSync("providerId");if(o){var s=e.getStorageSync("encryptKeyObj")||null;if(s){var u=(0,r.default)(o+s.version+s.encryptKey+s.iv);i.FEE_WAY="".concat(u,":").concat(s.version)}}var c={"Content-Type":"POST"===n?"application/json;charset=utf-8":"application/x-www-form-urlencoded;charset=utf-8",identity_code:null!=a?a:""};if(c=Object.assign(c,i),-1!=t.indexOf("graph/")){var l=e.getStorageSync("tokenInfo");c={"Content-Type":"POST"===n?"application/json;charset=utf-8":"application/x-www-form-urlencoded;charset=utf-8",identity_code:null!=a?a:"",Authorization:"Bearer ".concat(l&&l.token),"X-Project-ID":l&&l.http_cloud_service&&l.http_cloud_service.xproject_id,"X-Sign":l&&x(l)}}return c}var k=o.default.throttle((function(t,n){e.showModal({content:t&&t.msg,showCancel:!1,confirmColor:"#222222",success:function(t){n&&n(t)}})}),1e3),T=function(t,e){var n=function(t,e){if(t.includes("sg/order/create_order")){var n,r,i=(null==e||null===(n=e.each_store_info[0])||void 0===n||null===(n=n.settle_goods_list[0])||void 0===n?void 0:n.goods_sku_id)||"0",o=(null==e||null===(r=e.each_store_info[0])||void 0===r?void 0:r.store_id)||"0";return"goods_sku_id=".concat(i,"&store_id=").concat(o)}if(t.includes("sg/order/waiting_pay/pay_v2")){var a=e.source_order_no||"0";return"source_order_no=".concat(a)}if(t.includes("fudai/submit_order")){var s=e.activity_id||"0",u=e.sku_id||"0";return"activity_id=".concat(s,"&sku_id=").concat(u)}if(t.includes("order/create_popbean")){var c=e.goods_id||"0",l=e.store_id||"0";return"goods_id=".concat(c,"&store_id=").concat(l)}if(t.includes("sg/order/create_v3")){var f,p,h=(null==e||null===(f=e.each_store_info[0])||void 0===f||null===(f=f.settle_goods_list[0])||void 0===f?void 0:f.goods_sku_id)||"0",d=(null==e||null===(p=e.each_store_info[0])||void 0===p?void 0:p.store_id)||"0";return"goods_sku_id=".concat(h,"&store_id=").concat(d)}}(t,w(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e))),r=0===t.indexOf("new/")?t.substring(4):0===t.indexOf("storego/")?t.substring(8):t,i="",o=new y.FMAgent(u.fmOpt).sign({path:"/miniapp/v2/"+r,body:n});0==o.code&&(i=o.sign,e.td_sign=i)},P={isProd:u.isProd,postApi:function(t,n,r,i,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];c.needFingalSign.includes(t)&&T(t,n),_(t,n),w(n),b(n,r,f);var p=e.getStorageSync("providerId"),h=e.getStorageSync("userId"),g=e.getStorageSync("loginStatus"),v=S(t,r,l,f?n.sign:null);/\.json$/.test(t)||0===t.indexOf("new/user/login/wechat_mini")||p?/\.json$/.test(t)||0!==t.indexOf("getUserInfo")||h?0===t.indexOf("getUserInfo")&&!1===g||(/\.json$/.test(t)&&c.jsonCacheUrlArr.includes(t)&&(delete n.openid,delete n.sign,delete n.version,n.time=Math.floor((new Date).getTime()/18e5)),u.isProd&&setTimeout((function(){e.hideLoading()}),6e4),d({url:m(t),method:r||"GET",header:v,data:n,success:function(n){u.isProd||1===n.data.code||/\.json$/.test(t)||0===t.indexOf("graph/")||0===t.indexOf("new/sg/goods/v2/conf")||e.showToast({title:n.data&&n.data.msg||"出现报错，请查找原因~",icon:"none",duration:3e3}),40000010===n.data.code||40000004===n.data.code?e.reLaunch({url:"/pages/index"}):1!==n.data.code&&40000004!==n.data.code&&40000032!==n.data.code&&40000030!==n.data.code&&4000001!==n.data.code&&40001003!==n.data.code&&40000018!==n.data.code&&40000054!==n.data.code&&10201!==n.data.code&&(!/\.json$/.test(t)&&c.noToastArr.indexOf(t)<0&&t.indexOf("new/")<0&&t.indexOf("storego/")<0&&e.showToast({title:n.data&&n.data.msg,icon:"none",duration:3e3}),16117==n.data.code&&k(n.data,(function(t){e.exitMiniProgram()})),100661===n.data.code&&e.showToast({title:n.data&&n.data.msg,icon:"none",duration:3e3})),429==n.statusCode&&e.showToast({title:"手速太快了，休息一下吧～",duration:2e3,icon:"none"}),i(n)},fail:function(r){var o,c="状态码异常 ".concat((null==r?void 0:r.msg)||"未知"," ").concat(r.statusCode||"000");/^https:\/\/res.paquapp.com\/.*json$/.test(t)&&(c="[OSS] "+c),a.default.report({msg:c,ext1:JSON.stringify(n),ext2:JSON.stringify(r),level:null===s.default||void 0===s.default||null===(o=s.default.logType)||void 0===o?void 0:o.RET_ERROR}),e.hideLoading(),u.isProd||e.showToast({title:r.data&&r.data.msg||"当前网络状态不佳～",icon:"none"}),401!==r.statusCode&&401!==r.status&&r.data&&40000032!==r.data.code&&40000030!==r.data.code&&40000018!==r.data.code&&40000054!==r.data.code&&e.showToast({title:r.data&&r.data.msg,icon:"none",duration:3e3}),103006===r.statusCode&&e.showModal({content:"请先将手机时间调整为北京时间 用于展示订单",showCancel:!1,confirmColor:"#222222"}),i(r),-1==r.errMsg.indexOf("timeout")||e.showModal({title:"提示",content:"请求超时,请检查网络情况!",showCancel:!1})},complete:function(t){t&&t.data&&(40000010===t.data.code||40000004===t.data.code)&&e.reLaunch({url:"/pages/index"})}})):setTimeout((function(){delete n.sign,delete n.time}),200):setTimeout((function(){delete n.sign,delete n.time,P.postApi(t,n,r,i)}),200)}};g({endpoint:"graph"}),v({request:function(t){t.url.includes("activity/v1/activity/activities/info/0")&&!e.getStorageSync("tokenInfo")&&(t.url="graph/activity/v1/activity/activities/public-info/0");try{return new Promise((function(e,n){P.postApi(t.url,t.params||t.data,t.method,(function(t){e(t.data)}))}))}catch(t){}}}),t.exports=P}).call(this,n("543d").default)},b789:function(t,e,n){var r=n("47f5");t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},b9ef:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("b775")).default.isProd,i="https://datasink.paquapp.com/sa?project=".concat(r?"production":"default");e.default=function(t){return new Promise((function(e,n){t.setPara({name:"sensors",server_url:i,autoTrack:{appLaunch:!0,appShow:!0,appHide:!0,pageShow:!0,pageShare:!0,mpClick:!1},source_channel:[],show_log:!1,allow_amend_share_path:!0}),t.registerApp({app_platform_name:"微信",product_name:"会员中心"}),t.init(),e(t)}))}},badf:function(t,e){t.exports=function(t){return t}},bd8a:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.groupConfig=void 0;var r=n("b775");e.groupConfig=r.isProd?"activity2022/annivCelebrateGroup/activity_prd.json":"activity2022/annivCelebrateGroup/activity_dev.json"},bee3:function(t,e){var n={track:function(t,e){try{getApp().sensors.track(t,e)}catch(t){}}};t.exports=n},c1c9:function(t,e){t.exports=function(t){return t}},c200:function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0;var r=n("01b7"),i=n("20ea"),o=function(t){return t&&t.__esModule?t:{default:t}}(n("2c9c"));function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function s(t){return(s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:O(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d="suspendedStart",g="executing",v="completed",y={};function m(){}function _(){}function b(){}var w={};f(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=m.prototype=Object.create(w);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,u){var c=h(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function O(e,n,r){var i=d;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=A(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?v:"suspendedYield",c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(s(e)+" is not iterable")}return _.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:_,configurable:!0}),_.displayName=f(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},T(P.prototype),f(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(p(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),f(k,l,"Generator"),f(k,a,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function c(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){c(o,r,i,a,s,"next",t)}function s(t){c(o,r,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return h(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var m=0;e.Draw=function(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;g(this,t),this.ctx=e,this.canvas=n||null,this.root=o,this.use2dCanvas=r,this.isH5PathToBase64=i}),[{key:"roundRect",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(i<0)){var s=this.ctx;if(s.beginPath(),i)if("number"==typeof i&&[0,1,-1].includes(n-2*i)&&[0,1,-1].includes(r-2*i))s.arc(t+n-i,e+r-i,i,0,2*Math.PI);else{var u=i||d(d(d({r:i},"r",i),"r",i),"r",i),c=u.borderTopLeftRadius,l=void 0===c?i||0:c,f=u.borderTopRightRadius,p=void 0===f?i||0:f,h=u.borderBottomRightRadius,g=void 0===h?i||0:h,v=u.borderBottomLeftRadius,y=void 0===v?i||0:v;s.beginPath(),s.arc(t+n-g,e+r-g,g,0,.5*Math.PI),s.lineTo(t+y,e+r),s.arc(t+y,e+r-y,y,.5*Math.PI,Math.PI),s.lineTo(t,e+l),s.arc(t+l,e+l,l,Math.PI,1.5*Math.PI),s.lineTo(t+n-p,e),s.arc(t+n-p,e+p,p,1.5*Math.PI,2*Math.PI),s.lineTo(t+n,e-g)}else s.rect(t,e,n,r);s.closePath(),a&&s.stroke(),o&&s.fill()}}},{key:"measureText",value:function(t,e){return this.ctx.measureText(t).width}},{key:"setFont",value:function(t){var e=t.fontFamily,n=void 0===e?"sans-serif":e,r=t.fontSize,i=void 0===r?14:r,o=t.fontWeight,a=void 0===o?"normal":o,s=t.textStyle,u=void 0===s?"normal":s;this.ctx.font="".concat(u," ").concat(a," ").concat(i,"px ").concat(n)}},{key:"setTransform",value:function(t,e){var n=e.transform,r=this.ctx,i=n||{},o=i.scaleX,a=void 0===o?1:o,s=i.scaleY,u=void 0===s?1:s,c=i.translateX,l=void 0===c?0:c,f=i.translateY,p=void 0===f?0:f,h=i.rotate,d=void 0===h?0:h,g=i.skewX,v=void 0===g?0:g,y=i.skewY,m=void 0===y?0:y,_=t.left,b=t.top,w=t.width,x=t.height;r.scale(a,u),r.translate(w*(a>0?1:-1)/2+(_+l)/a,x*(u>0?1:-1)/2+(b+p)/u),d&&r.rotate(d*Math.PI/180),(v||m)&&r.transform(1,Math.tan(m*Math.PI/180),Math.tan(v*Math.PI/180),1,0,0)}},{key:"setBackground",value:function(t,e,n){var r=this.ctx;t?i.GD.isGradient(t)?i.GD.doGradient(t,e,n,r):r.setFillStyle(t):r.setFillStyle("transparent")}},{key:"setShadow",value:function(t){var e=t.boxShadow,n=void 0===e?[]:e,r=this.ctx;if(n.length){var i=f(n,4),o=i[0],a=i[1],s=i[2],u=i[3];r.setShadow(o,a,s,u)}}},{key:"setBorder",value:function(t,e){var n=this,r=this.ctx,i=t.left,o=t.top,a=t.width,s=t.height,u=e.border,c=e.borderBottom,l=e.borderTop,f=e.borderRight,p=e.borderLeft,h=e.borderRadius,g=(e.opacity,u||{}),v=g.borderWidth,y=void 0===v?0:v,m=g.borderStyle,_=g.borderColor,b=c||{},w=b.borderBottomWidth,x=void 0===w?y:w,S=b.borderBottomStyle,k=void 0===S?m:S,T=b.borderBottomColor,P=void 0===T?_:T,O=l||{},A=O.borderTopWidth,C=void 0===A?y:A,E=O.borderTopStyle,j=void 0===E?m:E,I=O.borderTopColor,R=void 0===I?_:I,D=f||{},L=(D.borderRightWidth,D.borderRightStyle,D.borderRightColor,p||{}),U=L.borderLeftWidth,B=void 0===U?y:U,M=L.borderLeftStyle,N=void 0===M?m:M,$=L.borderLeftColor,q=void 0===$?_:$,G=h||d(d(d({r:h},"r",h),"r",h),"r",h),F=G.borderTopLeftRadius,H=void 0===F?h||0:F,z=G.borderTopRightRadius,W=void 0===z?h||0:z,V=G.borderBottomRightRadius,J=void 0===V?h||0:V,Y=G.borderBottomLeftRadius,K=void 0===Y?h||0:Y;if(c||p||l||f||u){var X=function(t,e,n){"dashed"==e?r.setLineDash([Math.ceil(4*t/3),Math.ceil(4*t/3)]):"dotted"==e&&r.setLineDash([t,t]),r.setStrokeStyle(n)},Q=function(i,o,a,s,u,c,l,f,p,h,d,g,v,y){r.save(),n.setOpacity(e),n.setTransform(t,e),r.setLineWidth(g),X(g,v,y),r.beginPath(),r.arc(i,o,l,Math.PI*p,Math.PI*h),r.lineTo(a,s),r.arc(u,c,f,Math.PI*h,Math.PI*d),r.stroke(),r.restore()};u&&(r.save(),this.setOpacity(e),this.setTransform(t,e),r.setLineWidth(y),X(y,m,_),this.roundRect(-a/2,-s/2,a,s,h,!1,!!_),r.restore()),i=-a/2,o=-s/2,c&&Q(i+a-J,o+s-J,i+K,o+s,i+K,o+s-K,J,K,.25,.5,.75,x,k,P),p&&Q(i+K,o+s-K,i,o+H,i+H,o+H,K,H,.75,1,1.25,B,N,q),l&&Q(i+H,o+H,i+a-W,o,i+a-W,o+W,H,W,1.25,1.5,1.75,C,j,R),f&&Q(i+a-W,o+W,i+a,o+s-J,i+a-J,o+s-J,W,J,1.75,2,.25,C,j,R)}}},{key:"setOpacity",value:function(t){var e=t.opacity,n=void 0===e?1:e;this.ctx.setGlobalAlpha(n)}},{key:"drawView",value:function(t,e){var n=this.ctx,r=(t.left,t.top,t.width),i=t.height,o=e||{},a=o.borderRadius,s=void 0===a?0:a,u=(o.border,o.borderTop,o.borderBottom,o.borderLeft,o.borderRight,o.color,o.backgroundColor);o.rotate,o.shadow,n.save(),this.setOpacity(e),this.setTransform(t,e),this.setShadow(e),this.setBackground(u,r,i),this.roundRect(-r/2,-i/2,r,i,s,!0,!1),n.restore(),this.setBorder(t,e)}},{key:"drawImage",value:function(){var t=l(u().mark((function t(e){var n,i,o,a=this,s=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},i=s.length>2&&void 0!==s[2]?s[2]:{},o=!(s.length>3&&void 0!==s[3])||s[3],t.next=5,new Promise(function(){var t=l(u().mark((function t(s,c){var l,f,p,h,d,g,v,y,m,_,b,w,x,S,k,T,P;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=a.ctx,f=a.canvas,p=i.borderRadius,h=void 0===p?0:p,d=i.mode,g=i.backgroundColor,v=n.left,y=n.top,m=n.width,_=n.height,l.save(),o||(a.setOpacity(i),a.setTransform(n,i),a.setBackground(g,m,_),a.setShadow(i),v=-m/2,y=-_/2,a.roundRect(v,y,m,_,h,!0,!1)),l.clip(),b=function(t){var e=t.width,n=t.height,r=0,i=m/_;i>=e/n?n=e/i:(e=n*i,r=Math.round(((t.width||m)-e)/2)),"scaleToFill"!==d&&t.width?l.drawImage(t.src,r,0,e,n,v,y,m,_):l.drawImage(t.src,v,y,m,_)},w=function(t){if(a.use2dCanvas){var e=f.createImage();e.onload=function(){t.src=e,b(t),x()},e.onerror=function(){c(new Error("createImage fail: ".concat(t)))},e.src=t.src}else b(t),x()},x=function(){l.restore(),a.setBorder(n,i),setTimeout((function(){s(!0)}),a.root.sleep)},"string"!=typeof e){t.next=20;break}return t.next=13,(0,r.getImageInfo)(e,a.isH5PathToBase64);case 13:S=t.sent,k=S.path,T=S.width,P=S.height,w({src:k,width:T,height:P}),t.next=21;break;case 20:w(e);case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawText",value:function(e,n,i,o){var a=this,s=this.ctx,u=n.left,c=n.top,l=n.width,f=n.height,p=n.offsetLeft,h=void 0===p?0:p,d=i.color,g=void 0===d?"#000000":d,v=i.lineHeight,y=void 0===v?"1.4em":v,m=i.fontSize,_=void 0===m?14:m,b=i.fontWeight,w=i.fontFamily,x=i.textStyle,S=i.textAlign,k=void 0===S?"left":S,T=i.verticalAlign,P=void 0===T?"top":T,O=i.backgroundColor,A=i.maxLines,C=i.textDecoration;if(y=(0,r.toPx)(y,_),e){s.save(),this.setOpacity(i),this.setTransform(n,i),u=-l/2,c=-f/2,s.setTextBaseline(P),this.setFont({fontFamily:w,fontSize:_,fontWeight:b,textStyle:x}),s.setTextAlign(k),O&&(this.setBackground(O,l,f),this.roundRect(u,c,l,f,1,O)),this.setShadow(i),s.setFillStyle(g);var E={};if(o&&o.word.length>0)for(var j=0;j<o.word.length;j++)for(var I=0,R=void 0;(R=e.indexOf(o.word[j],I))>-1;){E[R]={reset:!0};for(var D=0;D<o.word[j].length;D++)E[R+D]={reset:!0};I=R+1}switch(k){case"left":break;case"center":u+=.5*l;break;case"right":u+=l}var L=this.measureText(e,_),U=Math.ceil(L/l)*y,B=Math.ceil((f-U)/2);switch(B<0&&(B=0),P){case"top":break;case"middle":c+=_/2;break;case"bottom":c+=_}var M=function(e,n,r){var i=t.getSystemInfoSync().system;switch(/win|mac/.test(i)&&(n+=_/3),P){case"top":break;case"middle":n-=_/2;break;case"bottom":n-=_}var o=e;switch(k){case"left":e=e,o+=r;break;case"center":o=(e-=r/2)+r;break;case"right":o=e,e-=r}C&&(s.setLineWidth(_/13),s.beginPath(),/\bunderline\b/.test(C)&&(n-=.8*G,s.moveTo(e,n),s.lineTo(o,n)),/\boverline\b/.test(C)&&(n+=G,s.moveTo(e,n-y),s.lineTo(o,n-y)),/\bline-through\b/.test(C)&&(s.moveTo(e,n-y/2),s.lineTo(o,n-y/2)),s.closePath(),s.setStrokeStyle(g),s.stroke())},N=function(t,e,n){for(var r=Object.keys(E),i=0;i<r.length;i++){var a=E[r[i]];s.save(),s.setFillStyle(o.color),a.char&&s.fillText(a.char,a.x,a.y),s.restore()}},$=function(t,e){if(t){var n=a.measureText(" ",_),r=a.measureText("　",_),i=a.measureText(e,_),o="",s=1;return i==r?(o="　",s=1):(o=" ",s=Math.ceil(i/n)),new Array(s).fill(o).join("")}return e},q=function(t,e,n,r){E[e].x=n,E[e].y=r,E[e].char=t},G=Math.ceil((y-_)/2);if(L+h<=l&&!e.includes("\n")){u+=h;var F=Object.keys(E),H=e.split("");if(F){for(var z=0;z<F.length;z++){var W=F[z],V=H[W],J=$(E[W],V);H[W]=J,q(V,W,u+this.measureText(e.substring(0,W),_),c+G)}N()}return s.fillText(H.join(""),u,c+G),M(u,c+=y,L),void s.restore()}for(var Y=e.split(""),K=c,X=u,Q="",Z=0,tt=0;tt<=Y.length;tt++){var et=Y[tt]||"",nt="\n"===et,rt=""==et;et=nt?"":et;var it=Q+$(E[tt],et),ot=this.measureText(it,_);if(E[tt]&&q(et,tt,X+ot-this.measureText(et,_),c+G),Z>=A)break;if(0==Z?(ot+=h,X=u+h):X=u,ot>l||nt||rt){if(Q=rt&&ot<=l?it:Q,++Z===A&&ot>l){for(;this.measureText("".concat(Q,"..."),_)>l&&!(Q.length<=1);)Q=Q.substring(0,Q.length-1),E[tt-1]&&(E[tt-1].char="");Q+="..."}if(s.fillText(Q,X,c+G),M(X,c+=y,ot),Q=et,c+y>K+f)break}else Q=it}Object.keys(E)&&N(),s.restore()}}},{key:"findNode",value:function(){var t=l(u().mark((function t(e){var n,r,i,o,a,s,c,l,f,p,h,d,g,v,y,_,b,w,x=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.length>1&&void 0!==x[1]?x[1]:{},r=x.length>2&&void 0!==x[2]?x[2]:0,i=x.length>3&&void 0!==x[3]?x[3]:[],o=x.length>4?x[4]:void 0,a=Object.assign({},this.getComputedStyle(e,n,r)),t.next=7,this.getAttributes(e);case 7:if(s=t.sent,c={id:m++,parent:n,computedStyle:a,rules:e.rules,attributes:Object.assign({},s),name:(null==e?void 0:e.type)||"view"},"{}"!==JSON.stringify(n)||e.type?c.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(c,n,r,i,o)):(l=a.left,f=void 0===l?0:l,p=a.top,h=void 0===p?0:p,d=a.width,g=void 0===d?0:d,v=a.height,y=void 0===v?0:v,c.layoutBox={left:f,top:h,width:g,height:y}),null==e||!e.views){t.next=25;break}_=[],c.children=[],b=0;case 14:if(!(b<e.views.length)){t.next=24;break}return w=e.views[b],t.t0=_,t.next=19,this.findNode(w,c,b,_,e);case 19:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 21:b++,t.next=14;break;case 24:c.children=_;case 25:return t.abrupt("return",c);case 26:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getComputedStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i="{}"!=JSON.stringify(e)||t.type?t.css:t;if(e.computedStyle)for(var o=0,a=Object.keys(e.computedStyle);o<a.length;o++){var u=a[o],c=e.computedStyle[u];["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"].includes(u)&&(n[u]=/em|px$/.test(c)?(0,r.toPx)(c,null==i?void 0:i.fontSize):c)}if(!i)return n;for(var l=function(){var t=h[p],o=i[t];if("views"==t)return 0;if(["boxShadow","shadow"].includes(t)){var a=o.split(" ").map((function(t){return/^\d/.test(t)?(0,r.toPx)(t):t}));return n.boxShadow=a,0}if(t.includes("border")&&!t.includes("adius")){var u=t.match(/^border([BTRLa-z]+)?/)[0],c=t.match(/[W|S|C][a-z]+/),l=o.split(" ").map((function(t){return/^\d/.test(t)?(0,r.toPx)(t):t}));return l.length>1?n[u]=d(d(d({},u+"Width",l[0]||1),u+"Style",l[1]||"solid"),u+"Color",l[2]||"black"):(n[u]=d(d(d({},u+"Width",1),u+"Style","solid"),u+"Color","black"),n[u][u+c[0]]=l[0]),0}if(["background","backgroundColor"].includes(t))return n.backgroundColor=o,0;if(t.includes("padding")||t.includes("margin")||t.includes("adius")){var g=t.includes("adius"),v=g?"borderRadius":t.match(/[a-z]+/)[0],y=[0,0,0,0].map((function(t,e){return g?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][e]:[v+"Top",v+"Right",v+"Bottom",v+"Left"][e]}));if("padding"===t||"margin"===t||"radius"===t||"borderRadius"===t){var m=(null==o?void 0:o.split(" ").map((function(t){return/^\d/.test(t)&&(0,r.toPx)(t,i.width)}),[]))||[0],_=g?"borderRadius":t;if(1==m.length)n[_]=m[0];else{var b=f(m,4),w=b[0],x=b[1],S=b[2],k=b[3];n[_]=d(d(d(d({},y[0],w),y[1],(0,r.isNumber)(x)?x:w),y[2],(0,r.isNumber)(S)?S:w),y[3],(0,r.isNumber)(k)?k:x)}}else"object"===s(n[v])||(n[v]=d(d(d(d({},y[0],n[v]||0),y[1],n[v]||0),y[2],n[v]||0),y[3],n[v]||0)),n[v][t]=(0,r.toPx)(o,i.width);return 0}return t.includes("width")||t.includes("height")?(/%$/.test(o)?n[t]=(0,r.toPx)(o,e.layoutBox[t]):n[t]=/px|rpx$/.test(o)?(0,r.toPx)(o):o,0):t.includes("transform")?(n[t]={},o.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(e,o,a){var s=a.split(",").map((function(t){return t.replace(/(^\s*)|(\s*$)/g,"")})),u=function(t,e){return t.includes("deg")?1*t:(0,r.toPx)(t,e)};o.includes("matrix")?n[t][o]=s.map((function(t){return 1*t})):o.includes("rotate")?n[t][o]=1*a.match(/\d+/)[0]:/[X, Y]/.test(o)?n[t][o]=/[X]/.test(o)?u(s[0],i.width):u(s[0],i.height):(n[t][o+"X"]=u(s[0],i.width),n[t][o+"Y"]=u(s[1]||s[0],i.height))})),0):void(/em$/.test(o)&&!t.includes("lineHeight")?n[t]=Math.ceil(parseFloat(o.replace("em"))*(0,r.toPx)(i.fontSize||14)):n[t]=/%|px|rpx$/.test(o)?(0,r.toPx)(o,i.width):o)},p=0,h=Object.keys(i);p<h.length;p++)l();return"image"!=t.name&&"image"!=t.type||n.mode||(n.mode="aspectFill",i.width&&"auto"!=i.width||i.height&&"auto"!=i.width||(n.mode="")),n}},{key:"getLayoutBox",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a={},s=t||{},u=s.name,c=s.computedStyle,l=(s.layoutBox,s.attributes);if(!u)return a;var f=this.ctx,p=n.layoutBox||this.root,h=(n.computedStyle,c.verticalAlign),d=c.left,g=c.top,v=c.width,y=c.height,m=c.fontSize,_=void 0===m?14:m,b=c.lineHeight,w=void 0===b?"1.4em":b,x=c.fontWeight,S=c.fontFamily,k=c.textStyle,T=c.position,P=c.display,O=c.padding||{},A=O.paddingTop,C=void 0===A?0:A,E=O.paddingRight,j=void 0===E?0:E,I=O.paddingBottom,R=void 0===I?0:I,D=O.paddingLeft,L=void 0===D?0:D,U=c.margin||{},B=U.marginTop,M=void 0===B?0:B,N=U.marginRight,$=void 0===N?0:N,q=U.marginBottom,G=void 0===q?0:q,F=U.marginLeft,H=void 0===F?0:F;if("relative"==T&&(d+=p.left,g+=p.top),"text"===u){var z=l.text||"";w=(0,r.toPx)(w,_),f.save(),this.setFont({fontFamily:S,fontSize:_,fontWeight:x,textStyle:k});var W=o[i-1]||{},V=W.layoutBox,J=W.computedStyle,Y=o[i+1]||{},K=Y.layoutBox,X=(Y.computedStyle,0==i),Q="block"===P||"block"===(null==J?void 0:J.display),Z=X&&!K||!(null!=n&&n.id),tt=X||Q?0:V.offsetRight||0,et=z.split("\n"),nt=1,rt="",it=c.textIndent||0;Z?(rt=z,nt=et.length):et.map((function(t,n){nt+=n;for(var r=t.split(""),i=0;i<r.length;i++){var o=r[i],a=rt+o,s=e.measureText(a,_);1==nt&&(s=s+(Q?0:tt)+it),s>p.width?(nt++,rt=o):rt=a}})),a.offsetLeft=((0,r.isNumber)(d)||Q||Z?it:tt)+L+H;var ot=this.measureText(rt,_),at=nt>1?p.width:ot+a.offsetLeft;a.offsetRight=a.offsetLeft+(v||(Q?p.width:ot))+j+$;var st=function(){return d||p.left},ut=function(){return v||(Q?p.width:at>p.width-a.left||nt>1?p.width-a.left:at)},ct=function(){return nt>1?nt*w+C+R+M+G:w+C+R+M+G},lt=function(){var t=g;return t?t+C+M:(t=X?p.top:V.width<p.width?V.top:V.top+V.height-((null==J?void 0:J.lineHeight)||0),"bottom"===h&&(t=p.top+(p.height-a.height||0)),"middle"===h&&(t=p.top+(p.height-a.height||0)/2),t+C+M+(Q&&(null==J?void 0:J.lineHeight)||0))};a.left=st(),a.width=ut(),a.height=ct(),a.top=lt(),f.restore()}else if(["view","qrcode"].includes(u))a.left=d||p.left,a.width=(v||(null==p?void 0:p.width))-L-j,a.height=y||0,a.top=g||p.top;else if("image"===u){a.left=d||p.left,a.width=(v||(null==p?void 0:p.width))-L-j;var ft=l.width,pt=l.height;a.height=y||a.width*pt/ft,a.top=g||p.top}return a}},{key:"getAttributes",value:function(){var t=l(u().mark((function t(e){var n,i,o,a,s,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={},!(null!=e&&e.url||null!=e&&e.src)){t.next=15;break}return n.src=e.url||(null==e?void 0:e.src),t.next=5,(0,r.getImageInfo)(n.src,this.isH5PathToBase64);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:i=t.t0,o=i.width,a=void 0===o?0:o,s=i.height,c=void 0===s?0:s,l=i.path,n=Object.assign({},n,{width:a,height:c,src:l});case 15:return null!=e&&e.text&&(n.text=e.text),t.abrupt("return",n);case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawBoard",value:function(){var t=l(u().mark((function t(e){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.findNode(e);case 2:return n=t.sent,t.abrupt("return",this.drawNode(n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawNode",value:function(){var t=l(u().mark((function t(e){var n,r,i,s,c,l,f,p,h,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.layoutBox,r=e.computedStyle,i=e.name,e.rules,s=e.attributes,c=s.src,l=s.text,"view"!==i){t.next=6;break}this.drawView(n,r),t.next=12;break;case 6:if("image"!==i||!c){t.next=11;break}return t.next=9,this.drawImage(e.attributes,n,r,!1);case 9:t.next=12;break;case 11:"text"===i?this.drawText(l,n,r):"qrcode"===i&&o.default.api.draw(l,this,n,r);case 12:if(e.children){t.next=14;break}return t.abrupt("return");case 14:f=Object.values?Object.values(e.children):Object.keys(e.children).map((function(t){return e.children[t]})),p=a(f),t.prev=16,p.s();case 18:if((h=p.n()).done){t.next=24;break}return d=h.value,t.next=22,this.drawNode(d);case 22:t.next=18;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(16),p.e(t.t0);case 29:return t.prev=29,p.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[16,26,29,32]])})));return function(e){return t.apply(this,arguments)}}()}])}).call(this,n("543d").default)},c2b6:function(t,e){t.exports=function(t){return t}},c32f:function(t,e,n){var r=n("2b10");t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},c6cf:function(t,e){t.exports=function(t){return t}},c87c:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":_typeof2(window))&&(n=window)}t.exports=n},c8fe:function(t,e,n){var r=n("f8af");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},c9b7:function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}var r;function i(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var l=(r={splitDate:function(t){return t.trim().split(/\s+/)[0]},getMonthLastDay:function(){var t=new Date;t.setDate(28),t.setMonth(t.getMonth()+1);var e=t.setDate(0),n=new Date(e).toLocaleString(),r=this.splitDate(n).split("/");return r[0]+"年"+r[1]+"月"+r[2]+"日"},arrSort:function(t){return function(e,n){var r=e[t],i=n[t];return isNaN(Number(r))||isNaN(Number(i))||(r=Number(r),i=Number(i)),r<i?1:r>i?-1:0}},getQueryArgs:function(t){var e=t.length>0?t.substring(t.indexOf("?")).substr(1):"",n={},r=e.length?e.split("&"):[],i=null,o=null,a=null,s=0,u=r.length;for(s=0;s<u;s++)i=r[s].split("="),o=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]),o.length&&(n[o]=a);return n},isExpire:function(t){return(new Date).getTime()-new Date(t).getTime()>0},formatNumber:function(t){return(t=t.toString())[1]?t:"0"+t},formatTime:function(t,e){var n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes();return t.getSeconds(),1===e?[n,r,i].map(this.formatNumber).join("-"):[n,r,i].map(this.formatNumber).join("-")+" "+[o,a].map(this.formatNumber).join(":")},formatDate:function(t,e){var n=new Date(t),r=n.getFullYear()+"-",i=(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-",o=n.getDate()<10?"0"+n.getDate():n.getDate(),a=(n.getHours()<10?"0"+n.getHours():n.getHours())+":",s=(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())+":",u=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();return 1===e?r+i+o:r+i+o+" "+a+s+u},formatDate2:function(t){var e=new Date(t),n=e.getFullYear()+"年",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+"日";return"".concat(n).concat(r).concat(i)},formatDate3:function(t){var e=new Date(t),n=e.getMonth()+1+"月",r=e.getDate()+"日",i=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return"".concat(n).concat(r," ").concat(i).concat(o)},formatDate4:function(t){var e=new Date(t),n=e.getFullYear()+"年",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"月",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+"日",o=(e.getHours()<10?"0"+e.getHours():e.getHours())+"时",a=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+"分";return"".concat(n).concat(r).concat(i).concat(o).concat(a)},formatDate5:function(t){var e=new Date(t),n=e.getFullYear()+"",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+"";return"".concat(n,".").concat(r,".").concat(i)},formatDate6:function(t){var e=new Date(t),n=e.getFullYear()+"",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+"";return"".concat(n,"-").concat(r,"-").concat(i)},formatDate7:function(t){var e=new Date(t),n=e.getFullYear()+"",r=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+"",o=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return"".concat(n,"-").concat(r,"-").concat(i," ").concat(o).concat(a)},formatDateFMT:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},getDateDiff:function(t){var e=36e5,n=24*e,r=(new Date).getTime()-t;if(!(r<0)){var i=r/2592e6,o=r/(7*n),a=r/n,s=r/e,u=r/6e4;return i>=1?parseInt(i)+"月前":o>=1?parseInt(o)+"周前":a>=1?parseInt(a)+"天前":s>=1?parseInt(s)+"小时前":s>.5&&s<1?"半小时前":u>=1?parseInt(u)+"分钟前":"刚刚"}},getDateSeven:function(){var t=new Date;t.setTime(t.getTime());for(var e=[],n=0;n<=6;n++){var r=new Date(t.getTime()+864e5*n),i=r.getMonth()+1,o=r.getDate();i=1==i.toString().length?"0"+i.toString():i;var a=o=1==o.toString().length?"0"+o.toString():o,s=r.getDay();e.push({date:"".concat(a),week:"".concat(["日","一","二","三","四","五","六"][s]),key:n})}return e},formatDuring:function(t){return parseInt(t/864e5)},addThousandthSign:function(t){return t.toString().replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")},hideMiddlePhone:function(t){return t.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")},limitStrLength:function(t,e){return t.length<=e?t:t.substr(0,e)+"..."},getFormat:function(t){var e=t/1e3,n=0,r=0;return e>60&&(n=Math.floor(e/60),e=Math.floor(e%60),n>60&&(r=Math.floor(n/60),n=Math.floor(n%60))),{ss:e=e>=10?parseInt(e):"0".concat(parseInt(e)),mm:n=n>9?n:"0".concat(n),hh:r=r>9?r:"0".concat(r)}},getValLength:function(t){for(var e=0,n=0;n<t.length;n++)null!=t[n].match(/[^\x00-\xff]/gi)?e+=2:e+=1;return e}},i(i(i(i(i(i(i(i(i(i(r,"getValLength",(function(t){for(var e=0,n=0;n<t.length;n++)null!=t[n].match(/[^\x00-\xff]/gi)?e+=2:e+=1;return e})),"getweekday",(function(t){return new Array("日","一","二","三","四","五","六")[new Date(t).getDay()]})),"getUrlParameter",(function(t,e){var n=new RegExp("[\\?&#]"+e+"=([^&#]*)").exec(t);return n?n[1]:""})),"isEmptyObject",(function(t){return t?Object.keys(t).length>0:{}})),"throttle",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=new Date;return function(){var r=new Date-n>=e;r&&(t.apply(this,arguments),n=new Date)}})),"stringFindObject",(function(t,e){return t.split(".").reduce((function(t,e){return t&&t[e]?t[e]:void 0}),e)})),"formatToDate",(function(t){for(var e=wx.getSystemInfoSync().platform,n=new Date(t).getFullYear(),r=new Date(t).getMonth()+1>9?new Date(t).getMonth()+1:"0"+(new Date(t).getMonth()+1),i=new Date(t).getDate()>9?new Date(t).getDate():"0"+new Date(t).getDate(),o="ios"==e?new Date(t).toLocaleDateString().split("/"):[n,r,i],u=new Date(t).toTimeString().substring(0,8).split(":"),c=[].concat(s(o),s(u)).map((function(t){return Number(t)<10?"0".concat(Number(t)):""+t})),l={},f=function(){var t=a(h[p],2),e=t[0],n=t[1];l[e]=c.find((function(t,e){return e==n}))},p=0,h=Object.entries({year:0,month:1,day:2,hour:3,minute:4,second:5});p<h.length;p++)f();return l})),"getLeftTime",(function(t,e){var n,r,i,o,a=e-t;return a>0?(n=(n=Math.floor(a/1e3/60/60/24))<10?"0"+n:n.toString(),r=(r=Math.floor(a/1e3/60/60%24))<10?"0"+r:r.toString(),i=(i=Math.floor(a/1e3/60%60))<10?"0"+i:i.toString(),o=(o=Math.floor(a/1e3%60))<10?"0"+o:o.toString()):(n="00",r="00",i="00",o="00"),{leftd:n,lefth:r,leftm:i,lefts:o}})),"proxyHandle",(function(t){var e={},n={get:function(t,e){return t[e]},set:function(t,n,r){return Object.keys(e).indexOf(n)>-1&&e[n](r),t[n]=r,!0}},r=new Proxy(t,n),i={setData:function(t){setTimeout((function(){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}))},watch:function(t,n){r[t]?n(r[t]):e[t]=n}};return i.setData(t),i})),"openVideoAccount",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sphJUaGC77e0Rhf";e.openChannelsActivity({feedId:t,finderUserName:n,success:function(t){},fail:function(t){}})})),i(i(i(i(i(i(i(r,"computedMaxNumber",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"number"==typeof t?t<1e4?t:((t/1e4*Math.pow(10,e)<<0)/Math.pow(10,e)).toFixed(1)+"w":null})),"stringEntries",(function(t,e){if(e&&t){var n=t.split("_"),r=n.entries(),i=n.map((function(){return r.next().value}));return i.forEach((function(t,n){return t[0]=e[n]})),Object.fromEntries(i)}})),"stringReplace",(function(t){var e=arguments;if("string"!=typeof t)return t;var n=[],r=[],i=t;for(var o in Array.from(t))"$"==t[o]&&n.push(Number(o));for(var a=0;a<n.length;a+=2)r.push(n.slice(a,a+2));return r.map((function(e){return t.substring(e[0],e[1]+1)})).forEach((function(t,n){if(null==e[n+1]){var r=t.split("");r.pop(),r.shift(),i=i.replace(t,r.join(""))}else i=i.replace(t,e[n+1])})),i})),"getTimes",(function(t,e){t=t.replace(/-/g,"/");var n=e.slice(0,-1),r=e.slice(-1);return"h"==r&&(n=60*n*60*1e3),"m"==r&&(n=60*n*1e3),"m"==r&&(n*=1e3),this.formatDate(new Date(Date.parse(t)+n)).slice(0,-3)})),"delay",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=setTimeout((function(){clearTimeout(n),t()}),e);return function(){clearTimeout(n)}})),"shotPhotoTime",(function(t){return!(new Date(t).getTime()<new Date("2023-07-01 00:00:00").getTime()&&(e.showToast({title:"2023年7月1日前订单暂不支持查看交易快照",icon:"none",duration:2e3}),1))})),"formatSeconds",(function(t,e){e=e||"";var n=parseInt(t),r=0,i=0;if(n>60&&(r=parseInt(n/60),n=parseInt(n%60),r>=60&&(i=parseInt(r/60),r=parseInt(r%60),i>24&&"ne"!==e&&(parseInt(i/24),i=parseInt(i%24)))),"newsCustomer"===e)return i<10&&(i="0"+i),r<10&&(r="0"+r),n<10&&(n="0"+n),{hour:i,minute:r,second:n}})));t.exports=l}).call(this,n("543d").default)},cb5a:function(t,e,n){var r=n("96384");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},cc45:function(t,e){t.exports=function(){return!1}},cd9d:function(t,e){t.exports=function(t){return t}},ce86:function(t,e){t.exports=function(t){return t}},cf7d:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("6e3c"),i=n("2934");e.default={getTeamInfo:function(t){return(0,i.promiseApi)(r.makeTeamUrl,t,"POST")},createInviteCode:function(t,e){return(0,i.promiseApi)(r.createInviteCodeUrl+t,e,"POST")},createHelpCode:function(t,e){return(0,i.promiseApi)(r.createHelpCodeUrl+t,e,"POST")},getLotteryInfo:function(t,e){return(0,i.promiseApi)(r.lotteryInfoUrl+t,e,"")},drawReward:function(t){return(0,i.promiseApi)(r.drawRewardUrl,t,"POST")},noticeSubscribe:function(t){return(0,i.promiseApi)(r.noticeSubscribeUrl,t,"POST")},getActivity:function(t){return(0,i.promiseApi)(r.getActivityUrl,t,"")},getPublicActivity:function(t){return(0,i.promiseApi)(r.getPublicActivityUrl,t,"GET")},gqLotteriesRoll:function(t){return(0,i.promiseApi)(r.lotteriesRoll,t,"POST")},gqUserReward:function(t){return(0,i.promiseApi)(r.getUserReward,t,"POST")},gqPostUserStock:function(t){return(0,i.promiseApi)(r.postUserStock,t,"POST")},postActivity:function(t){return(0,i.promiseApi)(r.postActivityUrl,t,"POST")},getBaseActInfo:function(t,e,n){return(0,i.promiseApi)(t,e,n||"GET")},boostHelp:function(t){return(0,i.promiseApi)(r.boostHelpUrl,t,"POST")},gqLotteriesIp:function(t){return(0,i.promiseApi)(r.lotteriesRoll,t,"POST",!0)},postPublicActivity:function(t){return(0,i.promiseApi)(r.postPublicActivityUrl,t,"POST")},goExchange:function(t){return(0,i.promiseApi)(r.exchangeUrl,t,"POST")},queryNoticeSubscribe:function(t){return(0,i.promiseApi)(r.querySubUrl,t,"")},goPopBeanTask:function(t){return(0,i.promiseApi)(r.popBeanTaskUrl,t,"POST")},goVoteList:function(t){return(0,i.promiseApi)(r.voteListUrl,t,"POST")}}},d094:function(t,e){t.exports=function(t){return t.split("")}},d10d:function(t,e,n){var r=n("5baf");t.exports=function(t,e){return t&&t.length&&e&&e.length?r(t,e):t}},d370:function(t,e){t.exports=function(){return!1}},d439:function d439(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){function t(t){if(t)d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d,this.buffer8=l;else if(a){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var r="input is invalid type",e="object"==("undefined"==typeof window?"undefined":_typeof2(window)),i=e?window:{};i.JS_MD5_NO_WINDOW&&(e=!1);var s=!e&&"object"==("undefined"==typeof self?"undefined":_typeof2(self)),h=!i.JS_MD5_NO_NODE_JS&&"object"==_typeof2(process)&&process.versions&&process.versions.node;h?i=global:s&&(i=self);var f=!i.JS_MD5_NO_COMMON_JS&&"object"==_typeof2(module)&&module.exports,o=__webpack_require__("3c35"),a=!i.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,n="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],y=[0,8,16,24],c=["hex","array","digest","buffer","arrayBuffer","base64"],p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),d=[],l;if(a){var A=new ArrayBuffer(68);l=new Uint8Array(A),d=new Uint32Array(A)}!i.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!a||!i.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==_typeof2(t)&&t.buffer&&t.buffer.constructor===ArrayBuffer});var b=function(e){return function(n){return new t(!0).update(n)[e]()}},v=function(){var e=b("hex");h&&(e=w(e)),e.create=function(){return new t},e.update=function(t){return e.create().update(t)};for(var n=0;n<c.length;++n){var r=c[n];e[r]=b(r)}return e},w=function w(t){var e=eval("require('crypto')"),i=eval("require('buffer').Buffer"),s=function(n){if("string"==typeof n)return e.createHash("md5").update(n,"utf8").digest("hex");if(null==n)throw r;return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===i?e.createHash("md5").update(new i(n)).digest("hex"):t(n)};return s};t.prototype.update=function(t){if(!this.finalized){var e,n=_typeof2(t);if("string"!==n){if("object"!==n)throw r;if(null===t)throw r;if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw r;e=!0}for(var i,o,s=0,u=t.length,c=this.blocks,l=this.buffer8;s<u;){if(this.hashed&&(this.hashed=!1,c[0]=c[16],c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),e)if(a)for(o=this.start;s<u&&o<64;++s)l[o++]=t[s];else for(o=this.start;s<u&&o<64;++s)c[o>>2]|=t[s]<<y[3&o++];else if(a)for(o=this.start;s<u&&o<64;++s)(i=t.charCodeAt(s))<128?l[o++]=i:i<2048?(l[o++]=192|i>>6,l[o++]=128|63&i):i<55296||i>=57344?(l[o++]=224|i>>12,l[o++]=128|i>>6&63,l[o++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),l[o++]=240|i>>18,l[o++]=128|i>>12&63,l[o++]=128|i>>6&63,l[o++]=128|63&i);else for(o=this.start;s<u&&o<64;++s)(i=t.charCodeAt(s))<128?c[o>>2]|=i<<y[3&o++]:i<2048?(c[o>>2]|=(192|i>>6)<<y[3&o++],c[o>>2]|=(128|63&i)<<y[3&o++]):i<55296||i>=57344?(c[o>>2]|=(224|i>>12)<<y[3&o++],c[o>>2]|=(128|i>>6&63)<<y[3&o++],c[o>>2]|=(128|63&i)<<y[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),c[o>>2]|=(240|i>>18)<<y[3&o++],c[o>>2]|=(128|i>>12&63)<<y[3&o++],c[o>>2]|=(128|i>>6&63)<<y[3&o++],c[o>>2]|=(128|63&i)<<y[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=u[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},t.prototype.hash=function(){var t,e,n,r,i,o,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&t)+a[1]-117830708)<<12|r>>>20)+t<<0)&(-271733879^t))+a[2]-1126478375)<<17|n>>>15)+r<<0)&(r^t))+a[3]-1316259209)<<22|e>>>10)+n<<0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((r=this.h3)^e&(n^r))+a[0]-680876936)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[1]-389564586)<<12|r>>>20)+t<<0)&(t^e))+a[2]+606105819)<<17|n>>>15)+r<<0)&(r^t))+a[3]-1044525330)<<22|e>>>10)+n<<0),e=((e+=((t=((t+=(r^e&(n^r))+a[4]-176418897)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[5]+1200080426)<<12|r>>>20)+t<<0)&(t^e))+a[6]-1473231341)<<17|n>>>15)+r<<0)&(r^t))+a[7]-45705983)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(r^e&(n^r))+a[8]+1770035416)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[9]-1958414417)<<12|r>>>20)+t<<0)&(t^e))+a[10]-42063)<<17|n>>>15)+r<<0)&(r^t))+a[11]-1990404162)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(r^e&(n^r))+a[12]+1804603682)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[13]-40341101)<<12|r>>>20)+t<<0)&(t^e))+a[14]-1502002290)<<17|n>>>15)+r<<0)&(r^t))+a[15]+1236535329)<<22|e>>>10)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[1]-165796510)<<5|t>>>27)+e<<0)^e))+a[6]-1069501632)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[11]+643717713)<<14|n>>>18)+r<<0)^r))+a[0]-373897302)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[5]-701558691)<<5|t>>>27)+e<<0)^e))+a[10]+38016083)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[15]-660478335)<<14|n>>>18)+r<<0)^r))+a[4]-405537848)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[9]+568446438)<<5|t>>>27)+e<<0)^e))+a[14]-1019803690)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[3]-187363961)<<14|n>>>18)+r<<0)^r))+a[8]+1163531501)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[13]-1444681467)<<5|t>>>27)+e<<0)^e))+a[2]-51403784)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+a[7]+1735328473)<<14|n>>>18)+r<<0)^r))+a[12]-1926607734)<<20|e>>>12)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[5]-378558)<<4|t>>>28)+e<<0))+a[8]-2022574463)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[11]+1839030562)<<16|n>>>16)+r<<0))+a[14]-35309556)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[1]-1530992060)<<4|t>>>28)+e<<0))+a[4]+1272893353)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[7]-155497632)<<16|n>>>16)+r<<0))+a[10]-1094730640)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[13]+681279174)<<4|t>>>28)+e<<0))+a[0]-358537222)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[3]-722521979)<<16|n>>>16)+r<<0))+a[6]+76029189)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+a[9]-640364487)<<4|t>>>28)+e<<0))+a[12]-421815835)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+a[15]+530742520)<<16|n>>>16)+r<<0))+a[2]-995338651)<<23|e>>>9)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[0]-198630844)<<6|t>>>26)+e<<0)|~n))+a[7]+1126891415)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[14]-1416354905)<<15|n>>>17)+r<<0)|~t))+a[5]-57434055)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[12]+1700485571)<<6|t>>>26)+e<<0)|~n))+a[3]-1894986606)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[10]-1051523)<<15|n>>>17)+r<<0)|~t))+a[1]-2054922799)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[8]+1873313359)<<6|t>>>26)+e<<0)|~n))+a[15]-30611744)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[6]-1560198380)<<15|n>>>17)+r<<0)|~t))+a[13]+1309151649)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[4]-145523070)<<6|t>>>26)+e<<0)|~n))+a[11]-1120210379)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+a[2]+718787259)<<15|n>>>17)+r<<0)|~t))+a[9]-343485551)<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},t.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,i=this.h3;return n[t>>4&15]+n[15&t]+n[t>>12&15]+n[t>>8&15]+n[t>>20&15]+n[t>>16&15]+n[t>>28&15]+n[t>>24&15]+n[e>>4&15]+n[15&e]+n[e>>12&15]+n[e>>8&15]+n[e>>20&15]+n[e>>16&15]+n[e>>28&15]+n[e>>24&15]+n[r>>4&15]+n[15&r]+n[r>>12&15]+n[r>>8&15]+n[r>>20&15]+n[r>>16&15]+n[r>>28&15]+n[r>>24&15]+n[i>>4&15]+n[15&i]+n[i>>12&15]+n[i>>8&15]+n[i>>20&15]+n[i>>16&15]+n[i>>28&15]+n[i>>24&15]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.base64=function(){for(var t,e,n,r="",i=this.array(),o=0;o<15;)t=i[o++],e=i[o++],n=i[o++],r+=p[t>>>2]+p[63&(t<<4|e>>>4)]+p[63&(e<<2|n>>>6)]+p[63&n];return t=i[o],r+(p[t>>>2]+p[t<<4&63]+"==")};var _=v();f?module.exports=_:(i.md5=_,o&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__("4362"),__webpack_require__("c8ba"))},d7c7:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.resourceEnv=e.gateWayId=e.gateHost=void 0;var r=n("d9bb");e.gateWayId="",e.gateHost="",e.resourceEnv="",r.isProd?(e.gateWayId="prod-popvip-go-4gvvjhghd014a5fb",e.gateHost="shops-go.paquapp.com",e.resourceEnv="popmart-prod-0gnd3a1u0a1d459a"):(e.gateWayId="stage-popvip-2gwzv93g359ccbac",e.gateHost="testpopvip-go.paquapp.com",e.resourceEnv="popmart-test-6gzpb5p1656df1ed")},d7e7:function(t,e,n){(function(e){var n={},r={name:"sensors",server_url:"",send_timeout:1e3,show_log:!1,login_id_key:"$identity_login_id",allow_amend_share_path:!0,max_string_length:500,datasend_timeout:3e3,source_channel:[],autoTrack:{appLaunch:!0,appShow:!0,appHide:!0,pageShow:!0,pageShare:!0,mpClick:!1,mpFavorite:!0,pageLeave:!1},autotrack_exclude_page:{pageShow:[],pageLeave:[]},is_persistent_save:{share:!1,utm:!1},preset_properties:{url_path:!0},preset_events:{moments_page:!1,defer_track:!1,share_info_use_string:!1},batch_send:!0,sdk_id:"",storage_store_key:"sensorsdata2015_wechat",storage_prepare_data_key:"sensors_mp_prepare_data"};function i(){if(r.show_log&&"object"==("undefined"==typeof console?"undefined":_typeof2(console))&&console.log)try{return}catch(t){}}var o=Array.isArray,a=Object.prototype,s=Array.prototype,u=s.forEach,c=s.indexOf,l=a.toString,f=a.hasOwnProperty,p=s.slice;function h(t,e,n){if(null==t)return!1;var r={};if(u&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(i in t&&e.call(n,t[i],i,t)===r)return!1}else for(var a in t)if(f.call(t,a)&&e.call(n,t[a],a,t)===r)return!1}function d(t){return null!=t&&"[object Object]"==l.call(t)}var g=function(){var t=(new Date).getTime();return function(e){return Math.ceil((t=(9301*t+49297)%233280)/233280*e)}}();function v(){if("function"==typeof Uint32Array){var t="";if("undefined"!=typeof crypto?t=crypto:"undefined"!=typeof msCrypto&&(t=msCrypto),d(t)&&t.getRandomValues){var e=new Uint32Array(1);return t.getRandomValues(e)[0]/Math.pow(2,32)}}return g(1e19)/1e19}function y(t){return h(p.call(arguments,1),(function(e){for(var n in e)void 0!==e[n]&&(t[n]=e[n])})),t}function m(t){return h(p.call(arguments,1),(function(e){for(var n in e)void 0!==e[n]&&null!==e[n]&&(d(e[n])&&d(t[n])?y(t[n],e[n]):t[n]=e[n])})),t}var _=o||function(t){return"[object Array]"===l.call(t)};function b(t){if(!t)return!1;var e=Object.prototype.toString.call(t);return"[object Function]"==e||"[object AsyncFunction]"==e}function w(t){return!(!t||!f.call(t,"callee"))}function x(t){var e=[];return null==t||h(t,(function(t){e[e.length]=t})),e}function S(t,e){var n=!1;return null==t?n:c&&t.indexOf===c?-1!=t.indexOf(e):(h(t,(function(t){if(n||(n=t===e))return{}})),n)}function k(t){if(d(t)){for(var e in t)if(f.call(t,e))return!1;return!0}return!1}function T(t){var e={};return function t(e,n){for(var r in n){var i=n[r];_(i)?(e[r]=[],t(e[r],i)):d(i)?(e[r]={},t(e[r],i)):e[r]=i}}(e,t),e}function P(t){return void 0===t}function O(t){return"[object String]"==l.call(t)}function A(t){return"[object Date]"==l.call(t)}function C(t){return"[object Boolean]"==l.call(t)}function E(t){return"[object Number]"==l.call(t)&&/[\d\\.]+/.test(String(t))}function j(t){try{JSON.parse(t)}catch(t){return!1}return!0}var I=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},R=Number.isSafeInteger||function(t){return I(t)&&Math.abs(t)<=Math.pow(2,53)-1},D={ENC:{"+":"-","/":"_","=":"."},DEC:{"-":"+",_:"/",".":"="},encode:function(t){return t.replace(/[+\/=]/g,(function(t){return D.ENC[t]}))},decode:function(t){return t.replace(/[-_.]/g,(function(t){return D.DEC[t]}))},trim:function(t){return t.replace(/[.=]{1,2}$/,"")},isBase64:function(t){return/^[A-Za-z0-9+\/]*[=]{0,2}$/.test(t)},isUrlSafeBase64:function(t){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(t)}},L=["$latest_utm_source","$latest_utm_medium","$latest_utm_campaign","$latest_utm_content","$latest_utm_term","$latest_sa_utm"],U=["$latest_share_distinct_id","$latest_share_url_path","$latest_share_depth","$latest_share_method"],B=["sensors_share_d","sensors_share_p","sensors_share_i","sensors_share_m"],M={data:1,onLoad:1,onShow:1,onReady:1,onPullDownRefresh:1,onShareAppMessage:1,onShareTimeline:1,onReachBottom:1,onPageScroll:1,onResize:1,onTabItemTap:1,onHide:1,onUnload:1},N="$identity_email",$="$identity_mobile",q="$identity_login_id",G="1.21.3",F="MiniProgram",H={init_status:!1,life_state:{app_launched:!1},plugin:{init_list:[],uninitialized_list:[]},privacy:{enable_data_collect:!1},initialState:{queue:[],isComplete:!1},preset_properties:{$lib:F,$lib_version:G},promise_list:[],query_share_depth:0,page_show_time:Date.now(),mp_show_time:null,share_distinct_id:"",share_method:"",current_scene:"",is_first_launch:!1,wx_sdk_version:"",global_title:{},page_route_map:[]};function z(){if(wx.getAccountInfoSync){var t=wx.getAccountInfoSync(),e=t&&t.miniProgram?t.miniProgram:{};return{appId:e.appId,appEnv:e.envVersion,appVersion:e.version}}return{}}function W(){var t=z();return t&&t.appId?t.appId:""}function V(){var t=W(),e="$identity_mp_openid";return t&&(e="$identity_mp_"+t+"_openid"),e}function J(t){return Y(t=String(t),113)}function Y(t,e){e="number"==typeof e?e:13;for(var n=(t=String(t)).split(""),r=0,i=n.length;r<i;r++)n[r].charCodeAt(0)<126&&(n[r]=String.fromCharCode((n[r].charCodeAt(0)+e)%126));return n.join("")}var K=Object.prototype.hasOwnProperty,X={storageInfo:null,store_queue:[],getUUID:function(){return Date.now()+"-"+Math.floor(1e7*v())+"-"+v().toString(16).replace(".","")+"-"+String(31242*v()).replace(".","").slice(0,8)},getStorage:function(){return this.storageInfo||(this.storageInfo=n._.getStorageSync(r.storage_store_key)||""),this.storageInfo},_state:{},mem:{mdata:[],getLength:function(){return this.mdata.length},add:function(t){this.mdata.push(t)},clear:function(t){this.mdata.splice(0,t)}},toState:function(t){var e=null,n=this;function r(){e.distinct_id?n._state=e:n.set("distinct_id",n.getUUID())}j(t)?(e=JSON.parse(t),r()):d(t)?(e=t,r()):this.set("distinct_id",this.getUUID());var i=this._state._first_id||this._state.first_id,o=this._state._distinct_id||this._state.distinct_id,a=this._state.openid,s=(this._state.history_login_id?this._state.history_login_id:{}).name;if(this._state.identities&&O(this._state.identities)){var u=JSON.parse(J(this._state.identities));this._state.identities=u}var c,l,f=V();if(this._state.identities&&d(this._state.identities)&&!k(this._state.identities)){var p=(l="$mp_openid",(c=W())&&(l="$mp_"+c+"_openid"),l);K.call(this._state.identities,"$mp_id")&&(this._state.identities.$identity_mp_id=this._state.identities.$mp_id,delete this._state.identities.$mp_id),K.call(this._state.identities,"$mp_unionid")&&(this._state.identities.$identity_mp_unionid=this._state.identities.$mp_unionid,delete this._state.identities.$mp_unionid),K.call(this._state.identities,p)&&(this._state.identities[f]=this._state.identities[p],delete this._state.identities[p])}else this._state.identities={},this._state.identities.$identity_mp_id=this.getUUID();function h(t){for(var e in X._state.identities)K.call(X._state.identities,e)&&"$identity_mp_id"!==e&&e!==t&&delete X._state.identities[e]}a&&(this._state.identities[f]=a),i?s&&K.call(this._state.identities,s)?this._state.identities[s]!==o&&(this._state.identities[s]=o,h(s),this._state.history_login_id.value=o):(this._state.identities[q]=o,h(q),this._state.history_login_id={name:q,value:o}):this._state.history_login_id={name:"",value:""},this.save()},getFirstId:function(){return this._state._first_id||this._state.first_id},getDistinctId:function(){return this.getLoginDistinctId()||this._state._distinct_id||this._state.distinct_id},getUnionId:function(){var t={},e=this._state._first_id||this._state.first_id,n=this.getDistinctId();return e&&n?(t.login_id=n,t.anonymous_id=e):t.anonymous_id=n,t},getIdentities:function(){var t=JSON.parse(JSON.stringify(this._state.identities));return t.$identity_anonymous_id=this.getAnonymousId(),t},getAnonymousId:function(){return this.getUnionId().anonymous_id},getHistoryLoginId:function(){return d(this._state.history_login_id)?this._state.history_login_id:null},getLoginDistinctId:function(){var t=this.getHistoryLoginId();return d(t)&&t.value?t.name!==q?t.name+"+"+t.value:t.value:null},getProps:function(){return this._state.props||{}},setProps:function(t,e){var n=this._state.props||{};e?this.set("props",t):(y(n,t),this.set("props",n))},set:function(t,e){var r={};for(var i in"string"==typeof t?r[t]=e:"object"==_typeof2(t)&&(r=t),this._state=this._state||{},r)this._state[i]=r[i],"first_id"===i?delete this._state._first_id:"distinct_id"===i&&(delete this._state._distinct_id,n.events.emit("changeDistinctId"));this.save()},identitiesSet:function(t){var e={};switch(t.type){case"login":e.$identity_mp_id=this._state.identities.$identity_mp_id,e[t.id_name]=t.id;break;case"logout":e.$identity_mp_id=this._state.identities.$identity_mp_id}this.set("identities",e)},change:function(t,e){this._state["_"+t]=e},encryptStorage:function(){var t=this.getStorage(),e="data:enc;";d(t)?t=e+Y(JSON.stringify(t)):O(t)&&-1===t.indexOf(e)&&(t=e+Y(t)),n._.setStorageSync(r.storage_store_key,t)},save:function(){var t=T(this._state),e=Y(JSON.stringify(t.identities));t.identities=e,delete t._first_id,delete t._distinct_id,r.encrypt_storage&&(t="data:enc;"+Y(JSON.stringify(t))),n._.setStorageSync(r.storage_store_key,t)},init:function(){var t=this.getStorage(),e=X.getUUID();if(t)O(t)&&-1!==t.indexOf("data:enc;")&&(t=t.substring("data:enc;".length),t=JSON.parse(J(t))),this.toState(t);else{H.is_first_launch=!0;var n=new Date,r=n.getTime();n.setHours(23),n.setMinutes(59),n.setSeconds(60),this.set({distinct_id:e,first_visit_time:r,first_visit_day_time:n.getTime(),identities:{$identity_mp_id:e},history_login_id:{name:"",value:""}})}this.checkStoreInit()},checkStoreInit:function(){H.init_status&&(this.store_queue.length>0&&h(this.store_queue,(function(t){n[t.method].apply(n,p.call(t.params))})),this.store_queue=[])}};function Q(t){var e="";try{e=decodeURIComponent(t)}catch(n){e=t}return e}var Z=Object.prototype.hasOwnProperty,tt=Q;function et(){var t=App;App=function(e){e[r.name]=n,t.apply(this,arguments)}}function nt(){var t=It(),e=Rt(),n={$referrer:t.route,$referrer_title:t.title,$title:e.title,$url:e.url};return!0===r.preset_properties.url_path&&(n.$url_path=e.path),n}function rt(t){function e(t){return t<10?"0"+t:t}return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())+"."+e(t.getMilliseconds())}function it(t){(d(t)||_(t))&&h(t,(function(e,n){d(e)||_(e)?it(t[n]):A(e)&&(t[n]=rt(e))}))}function ot(t){return t.length>r.max_string_length?(i(),t.slice(0,r.max_string_length)):t}function at(t){d(t)&&h(t,(function(e,n){d(e)?at(t[n]):O(e)&&(t[n]=ot(e))}))}function st(t){d(t)&&h(t,(function(e,n){if(b(e))try{t[n]=e(),b(t[n])&&(i(),delete t[n])}catch(e){delete t[n],i()}}))}var ut={checkKeyword:function(t){return/^((?!^distinct_id$|^original_id$|^device_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$|^user_group|^user_tag)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i.test(t)},checkIdLength:function(t){return!(String(t).length>255&&(i(),1))}};function ct(t){return d(t)?(h(t,(function(e,n){if(_(e)){var r=[];h(e,(function(t){if(O(t))r.push(t);else if(P(t))r.push("null");else try{r.push(JSON.stringify(t))}catch(t){i()}})),t[n]=r}if(d(e))try{t[n]=JSON.stringify(e)}catch(r){delete t[n],i()}else O(e)||E(e)||A(e)||C(e)||_(e)||(i(),delete t[n])})),t):t}function lt(t){var e,n,r,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,u=0,c="",l=[];if(!t)return t;t=function(t){var e,n,r,i,o="";for(e=n=0,r=(t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var a=t.charCodeAt(i),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(n>e&&(o+=t.substring(e,n)),o+=s,e=n=i+1)}return n>e&&(o+=t.substring(e,t.length)),o}(t);do{e=(o=t.charCodeAt(s++)<<16|t.charCodeAt(s++)<<8|t.charCodeAt(s++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[u++]=a.charAt(e)+a.charAt(n)+a.charAt(r)+a.charAt(i)}while(s<t.length);switch(c=l.join(""),t.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}function ft(t){for(var e,n,r,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",u=0,c=(t=String(t)).length%3;u<t.length;)((n=t.charCodeAt(u++))>255||(r=t.charCodeAt(u++))>255||(o=t.charCodeAt(u++))>255)&&i(),s+=a.charAt((e=n<<16|r<<8|o)>>18&63)+a.charAt(e>>12&63)+a.charAt(e>>6&63)+a.charAt(63&e);return c?s.slice(0,c-3)+"===".substring(c):s}function pt(t){return ft(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))}function ht(){var t={};try{var e=getCurrentPages();t=e[e.length-1]}catch(t){i()}return t}function dt(){var t="未取到";try{var e=ht();t=e?e.route:t}catch(t){i()}return t}function gt(){return!!("object"==_typeof2(X._state)&&E(X._state.first_visit_day_time)&&X._state.first_visit_day_time>(new Date).getTime())}function vt(t){var e=dt(),n="";return d(t)&&t.sensors_mp_encode_url_query&&(n=t.sensors_mp_encode_url_query),e?n?e+"?"+n:e:"未取到"}function yt(t){return O(t)?t.replace(/^\//,""):"取值异常"}function mt(t,e,n,i){if(!d(t))return{};var o={};if(t.sa_utm)for(var a in t)"sa_utm"!==a?S(r.source_channel,a)&&(o[n+a]=t[a]):o[i+a]=t[a];else for(var s in t)-1===" utm_source utm_medium utm_campaign utm_content utm_term ".indexOf(" "+s+" ")?S(r.source_channel,s)&&(o[n+s]=t[s]):o[e+s]=t[s];return o}function _t(t){var e=t.split("?"),n=[],r={};return e&&e[1]?(h(e[1].split("&"),(function(t){(n=t.split("="))[0]&&n[1]&&(r[n[0]]=n[1])})),r):{}}function bt(t){return E(t)||O(t)&&""!==t?t="wx-"+String(t):"未取到值"}function wt(t,e){if(!d(t))return i(),"";var n=[];for(var r in t)if(Z.call(t,r)){var o=t[r];void 0===o?n.push(r+"="):(o=e?encodeURIComponent(o):o,n.push(r+"="+o))}return n.join("&")}function xt(t){if(d(t))for(var e=0;e<B.length;e++)delete t[B[e]];else i()}function St(t){var e={},n={};if(r.preset_events.share_info_use_string){n=t.query;for(var i=0;i<B.length;i++){if(!Z.call(n,B[i]))return{};n[B[i]]=Q(n[B[i]])}e={depth:Number(n.sensors_share_d),path:n.sensors_share_p||"",id:n.sensors_share_i||"",method:n.sensors_share_m||""}}else{if(!t.query.sampshare)return{};if(!j(n=Q(t.query.sampshare)))return{};e={depth:(n=JSON.parse(n)).d,path:n.p,id:n.i,method:n.m}}return e}function kt(t,e){var n={},r={},i=X.getDistinctId(),o=X.getFirstId();if(t&&d(t.query)){if(k(n=St(t)))return{};var a=n.depth,s=n.path,u=n.id,c=n.method}"string"==typeof u?(e.$share_distinct_id=u,H.share_distinct_id=u,r.$latest_share_distinct_id=u):e.$share_distinct_id="取值异常","number"==typeof a?!H.share_distinct_id||H.share_distinct_id!==i&&H.share_distinct_id!==o?!H.share_distinct_id||H.share_distinct_id===i&&H.share_distinct_id===o?e.$share_depth="-1":(e.$share_depth=a+1,H.query_share_depth=a+1,r.$latest_share_depth=a+1):(e.$share_depth=a,H.query_share_depth=a,r.$latest_share_depth=a):e.$share_depth="-1","string"==typeof s?(e.$share_url_path=s,r.$latest_share_url_path=s):e.$share_url_path="取值异常","string"==typeof c?(e.$share_method=c,r.$latest_share_method=c):e.$share_method="取值异常",$t(r)}function Tt(){if(r.preset_events.share_info_use_string)return wt({sensors_share_i:X.getDistinctId()||"取值异常",sensors_share_p:dt(),sensors_share_d:H.query_share_depth,sensors_share_m:H.share_method},!0);var t=JSON.stringify({i:X.getDistinctId()||"取值异常",p:dt(),d:H.query_share_depth,m:H.share_method});return"sampshare="+encodeURIComponent(t)}function Pt(t){if(!t||!d(t.query))return{};var e,n,i,o,a={};return a.query=y({},t.query),"string"==typeof a.query.scene&&(e=a.query,n=["utm_source","utm_content","utm_medium","utm_campaign","utm_term","sa_utm"].concat(r.source_channel),i=new RegExp("("+n.join("|")+")%3D","i"),1===(o=Object.keys(e)).length&&"scene"===o[0]&&i.test(e.scene))&&(a.scene=a.query.scene,delete a.query.scene),t.query.q&&t.query.scancode_time&&"101"===String(t.scene).slice(0,3)&&(a.q=String(a.query.q),delete a.query.q,delete a.query.scancode_time),a}function Ot(t){var e=Pt(t),n=e.scene,r=e.q,i=e.query;for(var o in i)i[o]=Q(i[o]);return n&&y(i,_t(n=-1!==(n=Q(n)).indexOf("?")?"?"+n.replace(/\?/g,""):"?"+n)),r&&y(i,_t(Q(r))),i}function At(t,e){var n={},r=Ot(t),i=mt(r,"$","_","$"),o=mt(r,"$latest_","_latest_","$latest_");return n.pre1=i,n.pre2=o,y(e,i),n}function Ct(t,e){k(t.query)||t.query&&t.query._sfs&&(e.$sf_source=t.query._sfs,n.registerApp({$latest_sf_source:e.$sf_source}))}function Et(t){try{var e=ht(),n=T(e?e.options:"");for(var r in n)n[r]=Q(n[r]);!k(n)&&n._sfs&&(t.$sf_source=n._sfs)}catch(t){i()}}function jt(){var t={route:"直接打开",path:"直接打开",title:""};try{var e=ht();if(e&&e.route){var n=e.sensors_mp_url_query?"?"+e.sensors_mp_url_query:"",r=e.route,o=Lt(r);t.route=r+n,t.path=r,t.title=o,H.page_route_map.length>=2?(H.page_route_map.shift(),H.page_route_map.push(t)):H.page_route_map.push(t)}}catch(t){i()}}function It(){var t={route:"直接打开",path:"直接打开",title:""};return H.page_route_map.length>1&&(t.title=H.page_route_map[0].title,t.route=H.page_route_map[0].route,t.path=H.page_route_map[0].path),t}function Rt(){var t=ht(),e={title:"",url:"",path:"未取到"};if(t&&t.route){var n=t.sensors_mp_url_query?"?"+t.sensors_mp_url_query:"";e.title=Lt(t.route),e.url=t.route+n,e.path=t.route}return e}function Dt(t,e,n){var r=It();d(t)&&(e?H.page_route_map.length>0&&e?(n=n?"?"+n:"",t.$referrer=yt(e)+n,t.$referrer_title=Lt(e)):(t.$referrer="直接打开",t.$referrer_title=""):(t.$referrer=r.route,t.$referrer_title=r.title))}function Lt(t){if("未取到"===t||!t)return"";var e="";try{if(__wxConfig){var n=__wxConfig,r=__wxConfig.page||{},o=r[t]||r[t+".html"],a={},s={};if(n.global&&n.global.window&&n.global.window.navigationBarTitleText&&(a.titleVal=n.global.window.navigationBarTitleText),o&&o.window&&o.window.navigationBarTitleText&&(s.titleVal=o.window.navigationBarTitleText),!s.titleVal&&__wxAppCode__){var u=__wxAppCode__[t+".json"];u&&u.navigationBarTitleText&&(s.titleVal=u.navigationBarTitleText)}if(h(H.global_title,(function(n,r){if(r===t)return e=n})),0===e.length){var c=y(a,s);e=c.titleVal||""}}}catch(t){i()}return e}function Ut(t){return"string"!=typeof t&&"number"!=typeof t||""===t?(i(),!1):"number"!=typeof t||(t=String(t),/^\d+$/.test(t))?!!ut.checkIdLength(t)&&t:(i(),!1)}function Bt(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var r=0;r<n;r++){var i=parseInt(t[r]),o=parseInt(e[r]);if(i>o)return 1;if(i<o)return-1}return 0}function Mt(t){return O(t)?t.toLocaleUpperCase():t}function Nt(t){k(t)||(function(t,e){var n=!1;for(var r in e)t[e[r]]&&(n=!0);return n}(t,L)&&(n.clearAppRegister(L),n.clearAllProps(L)),r.is_persistent_save.utm?n.register(t):n.registerApp(t))}function $t(t){(t.$latest_share_depth||t.$latest_share_distinct_id||t.$latest_share_url_path||t.$latest_share_method)&&(n.clearAppRegister(U),n.clearAllProps(U),r.is_persistent_save.share?n.register(t):n.registerApp(t))}function qt(t,e){if(t&&d(t)&&!k(t)){var n=[];return h(t,(function(t,r){"q"===r&&O(t)&&0===t.indexOf("http")||(e?n.push(r+"="+t):n.push(r+"="+Q(t)))})),n.join("&")}return""}function Gt(){try{var t=wx.setNavigationBarTitle;Object.defineProperty(wx,"setNavigationBarTitle",{get:function(){return function(e){var n=dt();e=d(e)?e:{},H.global_title[n]=e.title,t.call(this,e)}}})}catch(t){i()}}function Ft(){var t={};try{var e=T(ht().options);for(var n in e)e[n]=Q(e[n]);t=mt(e,"$","_","$")}catch(t){i()}return t}function Ht(t,e){return t!==X._state.history_login_id.name||X._state.history_login_id.value!==e}function zt(t){var e=X.getFirstId(),n=X.getDistinctId();return e?t===e:t===n}function Wt(t,e){var n,r=["$identity_anonymous_id"],i=_createForOfIteratorHelper2((_(e)&&(r=r.concat(e)),r));try{for(i.s();!(n=i.n()).done;){if(n.value===t)return!0}}catch(t){i.e(t)}finally{i.f()}return!1}function Vt(t){var e=lt(t=JSON.stringify(t));return encodeURIComponent(e)}function Jt(){wx.onNetworkStatusChange((function(t){n.registerApp({$network_type:t.networkType||""})}))}function Yt(){return new Promise((function(t,e){wx.getNetworkType({success:function(e){H.preset_properties.$network_type=Mt(e.networkType),t()},fail:function(t){i(),e()}})}))}function Kt(){var t=H.preset_properties;return new Promise((function(e){wx.getSystemInfo({success:function(n){var r,i;t.$brand=Mt(n.brand),t.$manufacturer=n.brand,t.$model=n.model,t.$screen_width=Number(n.screenWidth),t.$screen_height=Number(n.screenHeight),t.$os="ios"===(i=(r=n.platform).toLowerCase())?"iOS":"android"===i?"Android":r,t.$os_version=n.system.indexOf(" ")>-1?n.system.split(" ")[1]:n.system,H.wx_sdk_version=n.SDKVersion,t.$mp_client_app_version=n.version,t.$mp_client_basic_library_version=H.wx_sdk_version;var o=(new Date).getTimezoneOffset(),a=z();E(o)&&(t.$timezone_offset=o),a.appId&&(t.$app_id=a.appId),a.appVersion&&(t.$app_version=a.appVersion),e()}})}))}var Xt={currentProps:H.preset_properties},Qt={info:function(){if(r.show_log&&"object"==("undefined"==typeof console?"undefined":_typeof2(console))&&console.log)try{if(3===arguments.length)return;if(2===arguments.length)return;if(1===arguments.length)return}catch(t){}}};function Zt(t){return"function"==typeof t||!(!t||"object"!=_typeof2(t))&&Zt(t.listener)}var te=function(){function t(){_classCallCheck2(this,t),this._events={}}return _createClass2(t,[{key:"on",value:function(t,e){if(!t||!e)return!1;if(!Zt(e))throw new Error("listener must be a function");this._events[t]=this._events[t]||[];var n="object"==_typeof2(e);return this._events[t].push(n?e:{listener:e,once:!1}),this}},{key:"prepend",value:function(t,e){if(!t||!e)return!1;if(!Zt(e))throw new Error("listener must be a function");this._events[t]=this._events[t]||[];var n="object"==_typeof2(e);return this._events[t].unshift(n?e:{listener:e,once:!1}),this}},{key:"prependOnce",value:function(t,e){return this.prepend(t,{listener:e,once:!0})}},{key:"once",value:function(t,e){return this.on(t,{listener:e,once:!0})}},{key:"off",value:function(t,e){var n=this._events[t];if(!n)return!1;if("number"==typeof e)n.splice(e,1);else if("function"==typeof e)for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].listener===e&&n.splice(r,1);return this}},{key:"emit",value:function(t,e){var n=this._events[t];if(!n)return!1;for(var r=0;r<n.length;r++){var i=n[r];i&&(i.listener.call(this,e||{}),i.once&&this.off(t,r))}return this}},{key:"removeAllListeners",value:function(t){t&&this._events[t]?this._events[t]=[]:this._events={}}},{key:"listeners",value:function(t){return t&&"string"==typeof t?this._events[t]:this._events}}]),t}(),ee=function(t){_inherits2(n,t);var e=_createSuper2(n);function n(){var t;return _classCallCheck2(this,n),(t=e.call(this)).cacheEvents=[],t.maxLen=20,t}return _createClass2(n,[{key:"replay",value:function(t,e){this.on(t,e),this.cacheEvents.length>0&&this.cacheEvents.forEach((function(n){n.type===t&&e.call(null,n.data)}))}},{key:"emit",value:function(t,e){_get2(_getPrototypeOf2(n.prototype),"emit",this).apply(this,arguments),this.cacheEvents.push({type:t,data:e}),this.cacheEvents.length>this.maxLen&&this.cacheEvents.shift()}}]),n}(te),ne=Object.freeze({__proto__:null,decodeURIComponent:tt,encodeDates:function t(e){return h(e,(function(n,r){A(n)?e[r]=rt(n):d(n)&&(e[r]=t(n))})),e},formatDate:rt,searchObjDate:it,formatString:ot,searchObjString:at,parseSuperProperties:st,unique:function(t){for(var e,n=[],r={},i=0;i<t.length;i++)(e=t[i])in r||(r[e]=!0,n.push(e));return n},check:ut,getUtmFromPage:Ft,setQuery:qt,setLatestShare:$t,setLatestChannel:Nt,setUpperCase:Mt,compareSDKVersion:Bt,validId:Ut,wxrequest:function(t){if(Bt(H.wx_sdk_version,"2.10.0")>=0)t.timeout=r.datasend_timeout,wx.request(t);else{var e=wx.request(t);setTimeout((function(){d(e)&&b(e.abort)&&e.abort()}),r.datasend_timeout)}},getPageTitle:Lt,setPageRefData:Dt,getCurrentPageInfo:Rt,getRefPage:It,setRefPage:jt,setPageSfSource:Et,setSfSource:Ct,setUtm:At,getMixedQuery:Ot,detectOptionQuery:Pt,getShareInfo:Tt,setShareInfo:kt,shareInfoData:St,delObjectKey:xt,objToParam:wt,getMPScene:bt,getStorageSync:function(t){var e="";try{e=wx.getStorageSync(t)}catch(t){i()}return e},setStorageSync:function(t,e){var n=function(){wx.setStorageSync(t,e)};try{n()}catch(t){i();try{n()}catch(t){i()}}},getObjFromQuery:_t,getCustomUtmFromQuery:mt,getPath:yt,getCurrentUrl:vt,getIsFirstDay:gt,getCurrentPath:dt,getCurrentPage:ht,urlBase64Encode:pt,btoa:ft,base64Encode:lt,strip_empty_properties:function(t){var e={};return h(t,(function(t,n){null==t&&void 0===t||(e[n]=t)})),e},strip_sa_properties:ct,setNavigationBarTitle:Gt,networkStatusChange:Jt,getNetworkType:Yt,getSystemInfo:Kt,encodeTrackData:Vt,initAppGlobalName:et,getPublicPresetProperties:nt,setPublicProperties:function(t){if(t&&t.properties){var e=It(),n=Rt(),i={$referrer:e.route,$referrer_title:e.title,$title:n.title,$url:n.url};for(var o in!0===r.preset_properties.url_path&&(i.$url_path=n.path),i)Z.call(t.properties,o)||(t.properties[o]=i[o])}},isPresetIdKeys:Wt,isNewLoginId:Ht,isSameAndAnonymousID:zt,info:Xt,logger:Qt,getAppId:W,getAppInfoSync:z,getOpenidNameByAppid:V,rot13defs:J,rot13obfs:Y,each:h,isObject:d,getRandom:v,extend:y,extend2Lev:m,coverExtend:function(t){return h(p.call(arguments,1),(function(e){for(var n in e)void 0!==e[n]&&void 0===t[n]&&(t[n]=e[n])})),t},isArray:_,isFunction:b,isArguments:w,toArray:function(t){return t?t.toArray?t.toArray():_(t)||w(t)?p.call(t):x(t):[]},values:x,include:S,trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},isEmptyObject:k,deepCopy:T,isUndefined:P,isString:O,isDate:A,isBoolean:C,isNumber:E,isJSONString:j,isInteger:I,isSafeInteger:R,slice:p,urlSafeBase64:D,EventEmitterBase:te,EventEmitterEx:ee,log:i});var re={getData:function(t){wx.getStorage({key:r.storage_prepare_data_key,complete:function(e){var n=e.data&&_(e.data)?e.data:[];re.deleteAesData(n),t&&t()}})},deleteAesData:function(t){var e=[],n=t.length;if(n>0){for(var r=0;r<n;r++)d(t[r])&&e.push(t[r]);X.mem.mdata=e.concat(X.mem.mdata)}}};var ie={};ie.setData=function(t){if(!d(t))return!1;t.current_title&&function(t){if(!O(t))return!1;var e=H.page_route_map.length-1;e>=0&&(H.page_route_map[e].title=t)}(t.current_title)},ie.processData=function(t){return t},ie.onceTrackData=function(t){return"data="+Vt(t)},ie.batchTrackData=function(t){var e=Date.now();return t.forEach((function(t){t._flush_time=e})),"data_list="+Vt(t)},ie.onEventSend=function(){return{}},ie.onceSend=function(){};var oe={dataHasSend:!0,dataHasChange:!1,syncStorage:!1,failTime:0,init:function(){this.sendHasInit=!0,re.getData(oe.syncStorageState.bind(oe)),this.batchInterval(),this.onAppHide()},syncStorageState:function(){this.syncStorage=!0},onAppHide:function(){var t=this;wx.onAppHide((function(){r.batch_send&&t.batchSend()}))},send:function(t){this.dataHasChange=!0,X.mem.getLength()>=500&&(i(),X.mem.mdata.shift()),(t=ie.processData(t))&&X.mem.add(t),this.sendAsOver()},sendAsOver:function(){this.sendHasInit&&X.mem.getLength()>=r.batch_send.max_length&&this.batchSend()},wxrequest:function(t){if(_(t.data)&&t.data.length>0){var e=ie.batchTrackData(t.data);n._.wxrequest({url:r.server_url,method:"POST",dataType:"text",data:e,header:{"content-type":"text/plain"},success:function(){t.success(t.len)},fail:function(){t.fail()}})}else t.success(t.len)},batchSend:function(){if(this.dataHasSend){var t,e,n=X.mem.mdata;(e=(t=n.length>=100?n.slice(0,100):n).length)>0&&(this.dataHasSend=!1,this.wxrequest({data:t,len:e,success:this.batchRemove.bind(this),fail:this.sendFail.bind(this)}))}},sendFail:function(){this.dataHasSend=!0,this.failTime++},batchRemove:function(t){X.mem.clear(t),this.dataHasSend=!0,this.dataHasChange=!0,this.batchWrite(),this.failTime=0},is_first_batch_write:!0,batchWrite:function(){this.dataHasChange&&(this.dataHasChange=!1,this.syncStorage&&n._.setStorageSync(r.storage_prepare_data_key,X.mem.mdata))},batchInterval:function(){var t=this;!function e(){setTimeout((function(){t.batchWrite(),e()}),500)}(),function e(){setTimeout((function(){t.batchSend(),e()}),r.batch_send.send_timeout*Math.pow(2,t.failTime))}()}};function ae(t){if(!r.server_url)return!1;if(H.current_scene&&1154===H.current_scene&&!n.para.preset_events.moments_page)return!1;var e=n._.deepCopy(t),o=function(t,e){var r={distinct_id:n.store.getDistinctId(),identities:y({},n.store.getIdentities()),lib:{$lib:F,$lib_method:"code",$lib_version:G},properties:{}};return d(e)||(e={}),"track_id_unbind"===t.type&&"$UnbindID"===t.event&&(r.identities=T(t.unbind_value),delete t.unbind_value),y(r,n.store.getUnionId(),t),d(t.properties)&&!k(t.properties)&&y(r.properties,t.properties),"track_id_unbind"===t.type&&"$UnbindID"===t.event&&(r.login_id&&delete r.login_id,r.anonymous_id&&delete r.anonymous_id),t.type&&"profile"===t.type.slice(0,7)||(r._track_id=Number(String(v()).slice(2,5)+String(v()).slice(2,4)+String(Date.now()).slice(-4)),r.properties=y({},nt(),H.preset_properties,n.store.getProps(),e,r.properties),"track"===t.type&&(r.properties.$is_first_day=gt())),r.properties.$time&&A(r.properties.$time)?(r.time=1*r.properties.$time,delete r.properties.$time):r.time=1*new Date,n.ee.sdk.emit("createData",r),n.ee.sdk.emit("beforeBuildCheck",r),n.ee.data.emit("beforeBuildCheck",r),st(r.properties),it(r),ct(r.properties),at(r),n.ee.data.emit("finalAdjustData",r),r}(t,ie.onEventSend(e));o?(i(),n.events.emit("send",o),n.para.batch_send?oe.send(o):n.kit.onceSend(o)):i()}n.popupEmitter={attached:function(){return!1}};function se(t,e,r){var i=n.autoTrackCustom[r];if(t[e]){var o=t[e];t[e]=function(){!n.para.autoTrackIsFirst||d(n.para.autoTrackIsFirst)&&!n.para.autoTrackIsFirst[r]?(o.apply(this,arguments),i.apply(this,arguments)):(!0===n.para.autoTrackIsFirst||d(n.para.autoTrackIsFirst)&&n.para.autoTrackIsFirst[r])&&(i.apply(this,arguments),o.apply(this,arguments)),n.ee.page.emit(r)}}else t[e]=function(){i.apply(this,arguments),n.ee.page.emit(r)}}function ue(t){var e,r={},i={},o=t.currentTarget||{},a=t.target||{};if(d(n.para.framework)&&d(n.para.framework.taro)&&!n.para.framework.taro.createApp&&a.id&&o.id&&a.id!==o.id)return!1;var s=o.dataset||{};if(e=t.type,r.$element_id=o.id,r.$element_type=s.type,r.$element_content=s.content,r.$element_name=s.name,d(t.event_prop)&&(i=t.event_prop),e&&le(e)){if(n.para.preset_events&&n.para.preset_events.collect_element&&!1===n.para.preset_events.collect_element(arguments[0]))return!1;r.$url_path=n._.getCurrentPath(),n._.setPageRefData(r),r=n._.extend(r,i),n.track("$MPClick",r)}}function ce(t,e){var r=t[e];t[e]=function(){var t=r.apply(this,arguments),e=arguments[0];return d(e)&&(n.para.preset_events.defer_track?setTimeout((function(){ue(e)}),0):ue(e)),t}}function le(t){return!!{tap:1,longpress:1,longtap:1}[t]}function fe(t){var e=[];if(n.para.autoTrack&&n.para.autoTrack.mpClick){e=function(t){var e=M,n=[];for(var r in t)"function"!=typeof t[r]||e[r]||n.push(r);return n}(t),function(t){var e=t.onTabItemTap;t.onTabItemTap=function(t){e&&e.apply(this,arguments);var r={};t&&(r.$element_content=t.text),r.$element_type="tabBar",r.$url_path=n._.getCurrentPath(),n._.setPageRefData(r),n.track("$MPClick",r)}}(t);for(var r=e.length,i=0;i<r;i++)ce(t,e[i])}}function pe(t){se(t,"onLoad","pageLoad"),se(t,"onShow","pageShow"),se(t,"onHide","pageHide"),se(t,"onUnload","pageHide"),se(t,"onAddToFavorites","pageAddFavorites"),"function"==typeof t.onShareAppMessage&&n.autoTrackCustom.pageShare(t),"function"==typeof t.onShareTimeline&&n.autoTrackCustom.pageShareTimeline(t)}var he=function(){this.sub=[]};he.prototype={add:function(t){this.sub.push(t)},emit:function(t,e){this.sub.forEach((function(n){n.on(t,e)}))}};var de=function(t){n.events.add(this),this._events=[],this.handle=t,this.ready=!1};de.prototype={on:function(t,e){if(this.ready){if(b(this.handle))try{this.handle(t,e)}catch(t){i()}}else this._events.push({event:t,data:e})},isReady:function(){var t=this;t.ready=!0,t._events.forEach((function(e){if(b(t.handle))try{t.handle(e.event,e.data)}catch(t){i()}}))}};var ge={};function ve(){var t;return e&&e.sensors_data_pre_config&&(t=!!e.sensors_data_pre_config.is_compliance_enabled&&e.sensors_data_pre_config.is_compliance_enabled),!t||!!H.init_status||!!H.privacy.enable_data_collect}ge.sdk=new ee,ge.data=new ee,ge.page=new ee;var ye=Object.prototype.hasOwnProperty;function me(t){i();var e=Ut(t);e&&be("$identity_mp_unionid",e)}function _e(t){i();var e=Ut(t);if(e){if(ye.call(X._state.identities,"$identity_mp_unionid")&&e===X._state.identities.$identity_mp_unionid){var n=V();ye.call(X._state.identities,n)&&(delete X._state.identities[n],delete X._state.openid,X.save())}we("$identity_mp_unionid",e)}}function be(t,e){if(E(e)){if(I(e)&&!1===R(e))return i(),!1;e=String(e)}if(!O(t))return i(),!1;var n=X.getHistoryLoginId(),r=n?n.name:"";return!ut.checkKeyword(t)||Wt(t,[q,r,"$mp_id","$identity_mp_id"])?(i(),!1):e&&""!==e&&O(e)?!!ut.checkIdLength(e)&&(X._state.identities[t]=e,X.save(),void ae({type:"track_id_bind",event:"$BindID"})):(i(),!1)}function we(t,e){if(E(e)){if(I(e)&&!1===R(e))return i(),!1;e=String(e)}if(!O(t))return i(),!1;if(!n._.check.checkKeyword(t)||Wt(t,[q]))return i(),!1;if(!e||""===e)return i(),!1;if(!O(e))return i(),!1;if(!n._.check.checkIdLength(e))return!1;ye.call(X._state.identities,t)&&e===X._state.identities[t]&&("$mp_id"!==t&&"$identity_mp_id"!==t&&delete X._state.identities[t],X.save());var r=X.getDistinctId(),o=X.getFirstId();r===t+"+"+e&&(X.set("first_id",""),X.set("distinct_id",o),X.set("history_login_id",{name:"",value:""}));var a={};a[t]=e,ae({type:"track_id_unbind",event:"$UnbindID",unbind_value:a})}var xe={trackCustom:function(t,e,i){var o=r.autoTrack[t],a="";r.autoTrack&&o&&("function"==typeof o?d(a=o())&&y(e,a):d(o)&&(y(e,o),r.autoTrack[t]=!0),n.track(i,e))},appLaunch:function(t,e){if(!ve())return!1;if(!H.initialState.isComplete)return H.initialState.queue.push(["appLaunch",arguments]),H.life_state.app_launched=!0,!1;H.life_state.app_launched=!0;var i={};if(t&&t.scene?(H.current_scene=t.scene,i.$scene=bt(t.scene)):i.$scene="未取到值",t&&t.scene&&1010===t.scene&&t.query&&(t.query.sampshare&&delete t.query.sampshare,xt(t.query)),t&&t.path&&(i.$url_path=yt(t.path),i.$title=Lt(t.path),t.query&&d(t.query))){var o=qt(t.query);o=o?"?"+o:"",i.$url=i.$url_path+o}kt(t,i);var a=At(t,i);H.is_first_launch?(i.$is_first_time=!0,k(a.pre1)||n.setOnceProfile(a.pre1)):i.$is_first_time=!1,Nt(a.pre2),Ct(t,i),n.registerApp({$latest_scene:i.$scene}),i.$url_query=qt(t.query),Dt(i),e?(i=y(i,e),n.track("$MPLaunch",i)):r.autoTrack&&r.autoTrack.appLaunch&&n.autoTrackCustom.trackCustom("appLaunch",i,"$MPLaunch")},appShow:function(t,e){var i={};H.mp_show_time=(new Date).getTime(),t&&t.scene?(H.current_scene=t.scene,i.$scene=bt(t.scene)):i.$scene="未取到值",t&&t.scene&&1010===t.scene&&t.query&&(t.query.sampshare&&delete t.query.sampshare,xt(t.query)),t&&t.path&&(i.$url_path=yt(t.path),i.$title=Lt(t.path)),kt(t,i),Nt(At(t,i).pre2),Ct(t,i),n.registerApp({$latest_scene:i.$scene}),i.$url_query=qt(t.query),Dt(i,t.path,i.$url_query),t&&t.path&&(i.$url=t.path+(i.$url_query?"?"+i.$url_query:"")),e?(i=y(i,e),n.track("$MPShow",i)):r.autoTrack&&r.autoTrack.appShow&&n.autoTrackCustom.trackCustom("appShow",i,"$MPShow")},appHide:function(t){var e=(new Date).getTime(),i={};i.$url_path=dt(),H.mp_show_time&&e-H.mp_show_time>0&&(e-H.mp_show_time)/36e5<24&&(i.event_duration=(e-H.mp_show_time)/1e3),Dt(i),t?(i=y(i,t),n.track("$MPHide",i)):r.autoTrack&&r.autoTrack.appHide&&n.autoTrackCustom.trackCustom("appHide",i,"$MPHide")},pageLoad:function(t){H.current_scene&&1010===H.current_scene&&t&&(t.sampshare&&delete t.sampshare,xt(t)),t&&d(t)&&(this.sensors_mp_url_query=qt(t),this.sensors_mp_encode_url_query=qt(t,!0))},pageShow:function(){H.page_show_time=Date.now();var t={},e=dt(),i=Lt(e);jt(),t.$url_path=e,t.$url_query=this.sensors_mp_url_query?this.sensors_mp_url_query:"",Dt(t=y(t,Ft())),Et(t),i&&(t.$title=i),r.onshow?r.onshow(n,e,this):-1===r.autotrack_exclude_page.pageShow.indexOf(e)&&n.autoTrackCustom.trackCustom("pageShow",t,"$MPViewScreen")},pageShare:function(t){var e=t.onShareAppMessage;t.onShareAppMessage=function(){var t=this;H.share_method="转发消息卡片";var o,a=e.apply(this,arguments);if(r.autoTrack&&r.autoTrack.pageShare){var s={$url_path:dt(),$share_depth:H.query_share_depth,$share_method:H.share_method};Dt(s),n.autoTrackCustom.trackCustom("pageShare",s,"$MPShare")}function u(e){return d(e)||(e={}),(P(e.path)||""===e.path)&&(e.path=vt(t)),O(e.path)&&(-1===e.path.indexOf("?")?e.path=e.path+"?":"&"!==e.path.slice(-1)&&(e.path=e.path+"&")),e.path=e.path+Tt(),e}if(n.para.allow_amend_share_path&&d(a=u(a)))for(var c in a)if((o=a[c])&&b(o.then)&&b(o.catch))try{a[c]=a[c].then((function(t){return u(t)}))}catch(t){i()}return a}},pageShareTimeline:function(t){var e=t.onShareTimeline;t.onShareTimeline=function(){H.share_method="朋友圈分享";var t=e.apply(this,arguments);if(r.autoTrack&&r.autoTrack.pageShare){var i={$url_path:dt(),$share_depth:H.query_share_depth,$share_method:H.share_method};Dt(i),n.autoTrackCustom.trackCustom("pageShare",i,"$MPShare")}return r.allow_amend_share_path&&("object"!=_typeof2(t)&&(t={}),"object"==_typeof2(t)&&void 0===t.query&&(t.query=""),"object"==_typeof2(t)&&"string"==typeof t.query&&""!==t.query&&"&"!==t.query.slice(-1)&&(t.query=t.query+"&"),t.query=t.query+Tt()),t}},pageAddFavorites:function(){var t={};t.$url_path=dt(),r.autoTrack&&r.autoTrack.mpFavorite&&n.autoTrackCustom.trackCustom("mpFavorite",t,"$MPAddFavorites")},pageHide:function(){n.para.autoTrack&&n.para.autoTrack.pageLeave&&Se()}};function Se(){var t={},e="";try{e=(t=ht())?t.route:""}catch(t){i()}if(H.page_show_time>=0&&""!==e){var o={},a=Lt(e),s=(Date.now()-H.page_show_time)/1e3;(isNaN(s)||s<0)&&(s=0),o.$url_query=t.sensors_mp_url_query?t.sensors_mp_url_query:"",o.$url_path=e,o.$title=a,o.event_duration=s,-1===r.autotrack_exclude_page.pageLeave.indexOf(e)&&n.track("$MPPageLeave",o),H.page_show_time=-1}}var ke=Object.freeze({__proto__:null,setProfile:function(t,e){ae({type:"profile_set",properties:t})},setOnceProfile:function(t,e){ae({type:"profile_set_once",properties:t})},appendProfile:function(t,e){if(!d(t))return!1;h(t,(function(e,n){O(e)?t[n]=[e]:_(e)?t[n]=e:(delete t[n],i())})),ae({type:"profile_append",properties:t})},incrementProfile:function(t,e){if(!d(t))return!1;var n=t;O(t)&&((t={})[n]=1),ae({type:"profile_increment",properties:t})},track:function(t,e,n){ae({type:"track",event:t,properties:e})},identify:function(t){return!!ve()&&(H.init_status?void((t=Ut(t))&&(X.getFirstId()?X.set("first_id",t):X.set("distinct_id",t))):(X.store_queue.push({method:"identify",params:arguments}),!1))},resetAnonymousIdentity:function(t){if(X.getFirstId())return i(),!1;if("number"==typeof t&&(t=String(t)),void 0===t){var e=X.getUUID();X._state.identities.$identity_mp_id=e,X.set("distinct_id",e)}else Ut(t)&&(X._state.identities.$identity_mp_id=t,X.set("distinct_id",t))},trackSignup:function(t,e,n,r){var i,o,a,s;d(t)?(i=t.id,o=t.event_name,a=t.id_name):(i=t,o=e),X.set("distinct_id",i),s=a&&a!==q?a+"+"+i:i,ae({original_id:X.getFirstId()||X.getDistinctId(),distinct_id:s,login_id:s,type:"track_signup",event:o,properties:n})},login:function(t){if(!(t=Ut(t)))return!1;if(zt(t))return!1;var e=X.getFirstId(),r=X.getDistinctId(),i=q;Ht(i,t)&&(X._state.identities[i]=t,X.set("history_login_id",{name:i,value:t}),e||X.set("first_id",r),n.trackSignup({id:t,event_name:"$SignUp"}),X.identitiesSet({type:"login",id:t,id_name:i}))},loginWithKey:function(t,e){if(i(),!O(t))return i(),!1;if(!ut.checkKeyword(t)&&t.length>100)i();else if(!ut.checkKeyword(t))return i(),!1;if(Wt(t,["$mp_openid","$identity_mp_openid","$identity_mp_unionid","$mp_unionid","$mp_id","$identity_mp_id"]))return i(),!1;if(!(e=Ut(e)))return!1;if(zt(e))return!1;var r=X.getFirstId(),o=X.getDistinctId();Ht(t,e)&&(X._state.identities[t]=e,X.set("history_login_id",{name:t,value:e}),r||X.set("first_id",o),n.trackSignup({id:e,event_name:"$SignUp",id_name:t}),X.identitiesSet({type:"login",id:e,id_name:t}))},getAnonymousID:function(){if(!k(X._state))return X._state._first_id||X._state.first_id||X._state._distinct_id||X._state.distinct_id;i()},getIdentities:function(){return k(X._state)?(i(),null):X.getIdentities()||null},logout:function(t){var e=X.getFirstId();X.identitiesSet({type:"logout"}),X.set("history_login_id",{name:"",value:""}),e?(X.set("first_id",""),!0===t?X.set("distinct_id",X.getUUID()):X.set("distinct_id",e)):i()},getPresetProperties:function(){if(H.preset_properties&&H.preset_properties.$lib){var t={};h(H.preset_properties,(function(e,n){0===n.indexOf("$")&&(t[n]=e)}));var e={$url_path:dt(),$is_first_day:gt(),$is_first_time:H.is_first_launch},n=y(t,e,H.preset_properties,X.getProps());return delete n.$lib,n}return{}},bindOpenid:function(t){if(!(t=Ut(t)))return!1;var e=V();this.bind(e,t)},unbindOpenid:function(t){if(!Ut(t))return!1;var e=V();this.unbind(e,t)},setUnionid:me,unsetUnionid:_e,bindUnionid:me,unbindUnionid:_e,bind:be,unbind:we,setWebViewUrl:function(t,e){if(i(),!O(t)||""===t)return i(),!1;if(!/^http(s)?:\/\//.test(t))return i(),!1;var n=/([^?#]+)(\?[^#]*)?(#.*)?/.exec(t);if(!n)return!1;var r,o=n[1]||"",a=n[2]||"",s=n[3]||"",u="",c=X.getDistinctId()||"",l=X.getFirstId()||"";D&&D.encode?c=c?D.trim(D.encode(pt(c))):"":Y&&(c=c?Y(c):""),c=encodeURIComponent(c);var f=l?"f"+c:"d"+c;return e?(r=s.indexOf("_sasdk"),u=s.indexOf("?")>-1?r>-1?o+a+"#"+s.substring(1,r)+"_sasdk="+f:o+a+"#"+s.substring(1)+"&_sasdk="+f:o+a+"#"+s.substring(1)+"?_sasdk="+f):(r=a.indexOf("_sasdk"),u=/^\?(\w)+/.test(a)?r>-1?o+a.replace(/(_sasdk=)([^&]*)/gi,"_sasdk="+f)+s:o+"?"+a.substring(1)+"&_sasdk="+f+s:o+"?"+a.substring(1)+"_sasdk="+f+s),u},quick:function(){var t=arguments[0],e=arguments[1],r=arguments[2],o=d(r)?r:{};if("getAnonymousID"===t){if(!k(X._state))return X._state._first_id||X._state.first_id||X._state._distinct_id||X._state.distinct_id;i()}else"appLaunch"===t||"appShow"===t?e?n.autoTrackCustom[t](e,o):i():"appHide"===t&&(o=d(e)?e:{},n.autoTrackCustom[t](o))},appLaunch:function(t,e){var r={};t&&t.scene?(H.current_scene=t.scene,r.$scene=bt(t.scene)):r.$scene="未取到值",t&&t.scene&&1010===t.scene&&t.query&&(t.query.sampshare&&delete t.query.sampshare,xt(t.query)),t&&t.path&&(r.$url_path=yt(t.path),r.$title=Lt(t.path)),kt(t,r);var i=At(t,r);H.is_first_launch?(r.$is_first_time=!0,k(i.pre1)||n.setOnceProfile(i.pre1)):r.$is_first_time=!1,Nt(i.pre2),Ct(t,r),n.registerApp({$latest_scene:r.$scene}),r.$url_query=qt(t.query),r.$url=t.path+(r.$url_query?"?"+r.$url_query:""),Dt(e),d(e)&&(r=y(r,e)),n.track("$MPLaunch",r)},appShow:function(t,e){var r={};H.mp_show_time=(new Date).getTime(),t&&t.scene?(H.current_scene=t.scene,r.$scene=bt(t.scene)):r.$scene="未取到值",t&&t.scene&&1010===t.scene&&t.query&&(t.query.sampshare&&delete t.query.sampshare,xt(t.query)),t&&t.path&&(r.$url_path=yt(t.path),r.$title=Lt(t.path)),kt(t,r),Nt(At(t,r).pre2),Ct(t,r),n.registerApp({$latest_scene:r.$scene}),r.$url_query=qt(t.query),t&&t.path&&(r.$url=t.path+(r.$url_query?"?"+r.$url_query:"")),Dt(r,t.path,r.$url_query),d(e)&&(r=y(r,e)),n.track("$MPShow",r)},appHide:function(t){var e=(new Date).getTime(),r={};r.$url_path=dt(),H.mp_show_time&&e-H.mp_show_time>0&&(e-H.mp_show_time)/36e5<24&&(r.event_duration=(e-H.mp_show_time)/1e3),Dt(r),d(t)&&(r=y(r,t)),n.track("$MPHide",r),n.sendStrategy.onAppHide()},pageShow:function(t){var e={},r=dt(),i=Lt(r),o=ht();i&&(e.$title=i),e.$url_path=r,e.$url_query=o.sensors_mp_url_query?o.sensors_mp_url_query:"",Et(e=y(e,Ft())),Dt(e),d(t)&&(e=y(e,t)),n.track("$MPViewScreen",e)},setPara:function(t){n.para=m(r,t);var e=[];if(_(r.source_channel))for(var o=r.source_channel.length,a=0;a<o;a++)-1===" utm_source utm_medium utm_campaign utm_content utm_term sa_utm ".indexOf(" "+r.source_channel[a]+" ")&&e.push(r.source_channel[a]);r.source_channel=e,d(r.register)&&y(H.preset_properties,r.register),r.openid_url||(r.openid_url=r.server_url.replace(/([^\\\/])\/(sa)(\.gif){0,1}/,"$1/mp_login")),"number"!=typeof r.send_timeout&&(r.send_timeout=1e3);var s={send_timeout:6e3,max_length:6};t&&t.datasend_timeout||r.batch_send&&(r.datasend_timeout=1e4),!0===r.batch_send?r.batch_send=y({},s):d(r.batch_send)&&(r.batch_send=y({},s,r.batch_send));var u={share:!1,utm:!1};!0===r.is_persistent_save?(r.is_persistent_save=y({},u),r.is_persistent_save.utm=!0):d(r.is_persistent_save)&&(r.is_persistent_save=y({},u,r.is_persistent_save)),r.server_url?(r.preset_properties=d(r.preset_properties)?r.preset_properties:{},d(r.autotrack_exclude_page)||(r.autotrack_exclude_page={pageShow:[],pageLeave:[]}),_(r.autotrack_exclude_page.pageShow)||(r.autotrack_exclude_page.pageShow=[]),_(r.autotrack_exclude_page.pageLeave)||(r.autotrack_exclude_page.pageLeave=[]),r.sdk_id&&(r.storage_store_key+=r.sdk_id,r.storage_prepare_data_key+=r.sdk_id)):i()},getServerUrl:function(){return r.server_url},sendPageLeave:Se,autoTrackCustom:xe,registerApp:function(t){d(t)&&!k(t)&&(H.preset_properties=y(H.preset_properties,t))},register:function(t){d(t)&&!k(t)&&X.setProps(t)},clearAllRegister:function(){X.setProps({},!0)},clearAppRegister:function(t){_(t)&&h(H.preset_properties,(function(e,n){S(t,n)&&delete H.preset_properties[n]}))},clearAllProps:function(t){var e=X.getProps(),n={};_(t)&&(h(e,(function(e,r){S(t,r)||(n[r]=e)})),X.setProps(n,!0))}});n._=ne,n.modules={},n.meta=H,n.kit=ie,n.mergeStorageData=re,n.dataStage=ae,n.sendStrategy=oe,n.store=X,n.usePlugin=function(t,e){if(!d(t)&&!b(t))return i(),!1;if(b(t.init)||i(t.plugin_name),O(t.plugin_name)&&t.plugin_name?n.modules[t.plugin_name]?t=n.modules[t.plugin_name]:n.modules[t.plugin_name]=t:i(t.plugin_name),d(t)&&!0===t.plugin_is_init)return t;if(d(t)&&t.plugin_name&&(O(t.plugin_version)&&t.plugin_version===G||i(t.plugin_name)),H.init_status)"function"==typeof t.init&&(t.init(n,e),t.plugin_is_init=!0,i(t.plugin_name));else{var r={target:t,para:e};H.plugin.uninitialized_list.push(r)}return t},n.use=function(t,e){return d(t)||b(t)?(b(t.init)||i(t.plugin_name),O(t.plugin_name)&&t.plugin_name?n.modules[t.plugin_name]?t=n.modules[t.plugin_name]:n.modules[t.plugin_name]=t:i(t.plugin_name),d(t)&&!0===t.plugin_is_init||(d(t)&&t.plugin_name&&(O(t.plugin_version)&&t.plugin_version===G||i(t.plugin_name)),"function"==typeof t.init&&(t.init(n,e),t.plugin_is_init=!0,i(t.plugin_name))),t):(i(),!1)},n.checkPluginInitStatus=function(){if(H.plugin.uninitialized_list.length>0){for(var t in H.plugin.uninitialized_list){var e=H.plugin.uninitialized_list[t];e&&e.target&&"function"==typeof e.target.init&&!e.target.plugin_is_init&&(e.target.init(n,e.para),d(e.target)&&(e.target.plugin_is_init=!0,O(e.target.plugin_name)&&e.target.plugin_name&&i(e.target.plugin_name)))}H.plugin.uninitialized_list=[]}},n.eventSub=de,n.events=new he,n.ee=ge,n.registerPropertyPlugin=function(t){b(t.properties)&&(!t.isMatchedWithFilter||b(t.isMatchedWithFilter))?n.ee.data.on("finalAdjustData",(function(e){try{b(t.isMatchedWithFilter)?t.isMatchedWithFilter(e)&&t.properties(e):t.properties(e)}catch(t){i()}})):i()},n.enableDataCollect=function(){H.privacy.enable_data_collect=!0},n.initialState=H.initialState,n.IDENTITY_KEY={EMAIL:N,MOBILE:$},function(t){for(var e in ke)t[e]=ke[e]}(n),h(["resetAnonymousIdentity","setProfile","setOnceProfile","track","quick","incrementProfile","appendProfile","login","logout","registerApp","register","clearAllRegister","clearAllProps","clearAppRegister","bind","unbind","bindOpenid","unbindOpenid","bindUnionid","unbindUnionid"],(function(t){var e=n[t];n[t]=function(){return!!ve()&&(!b(n.getDisabled)||!n.getDisabled())&&void(H.initialState.isComplete?e.apply(n,arguments):H.initialState.queue.push([t,arguments]))}})),Gt(),Jt(),et(),wx.onAppShow((function(t){if(!H.life_state.app_launched){var e=wx.getLaunchOptionsSync()||{};n.autoTrackCustom.appLaunch(e)}n.autoTrackCustom.appShow(t)})),wx.onAppHide((function(){n.autoTrackCustom.appHide()})),function(){var t=Page;Page=function(e){try{e||(e={}),fe(e),pe(e),t.apply(this,arguments)}catch(e){t.apply(this,arguments)}};var e=Component;Component=function(t){try{t||(t={}),t.methods||(t.methods={}),fe(t.methods),pe(t.methods),e.apply(this,arguments)}catch(t){e.apply(this,arguments)}}}(),n.init=function(t){if(!0===H.init_status)return!1;function e(){H.initialState.isComplete=!0,H.initialState.queue.length>0&&(h(H.initialState.queue,(function(t){"appLaunch"===t[0]?n.autoTrackCustom.appLaunch.apply(n.autoTrackCustom,p.call(t[1])):n[t[0]].apply(n,p.call(t[1]))})),H.initialState.queue=[]),function(){if(!H.life_state.app_launched){var t=wx.getLaunchOptionsSync()||{};n.autoTrackCustom.appLaunch(t)}}(),n.ee.sdk.emit("ready")}H.init_status=!0,n.ee.sdk.emit("beforeInit"),t&&d(t)&&n.setPara(t),n.ee.sdk.emit("initPara"),n.ee.sdk.emit("afterInitPara"),n.store.init(),n.checkPluginInitStatus(),H.is_first_launch&&n.setOnceProfile({$first_visit_time:new Date}),n.para.batch_send&&n.sendStrategy.init();var r=[Yt(),Kt()].concat(H.promise_list);Promise.all(r).then((function(){e()})).catch((function(){e()}))};var Te="1.21.3";function Pe(t){if("object"==_typeof2(t)&&"string"==typeof t.plugin_name&&""!==t.plugin_name)return t.plugin_version=Te,t.log=t.log||function(){"object"==("undefined"==typeof console?"undefined":_typeof2(console))&&console.log},t;"object"==("undefined"==typeof console?"undefined":_typeof2(console))&&console.error}var Oe=Pe({init:function(t){t.disableSDK=this.disableSDK.bind(this),t.enableSDK=this.enableSDK.bind(this),t.getDisabled=this.getDisabled.bind(this)},plugin_name:"DisableSDK",disabled:!1,disableSDK:function(){this.disabled=!0},enableSDK:function(){this.disabled=!1},getDisabled:function(){return this.disabled}}),Ae=Pe({init:function(t){var e={getRequest:function(e){wx.login({success:function(n){n.code&&t.para.appid&&t.para.openid_url?t._.wxrequest({url:t.para.openid_url+"&code="+n.code+"&appid="+t.para.appid,method:"GET",complete:function(n){t._.isObject(n)&&t._.isObject(n.data)&&n.data.openid?e(n.data.openid):e()}}):e()}})},getWXStorage:function(){var e=t.store.getStorage();if(e&&t._.isObject(e))return e.openid},getOpenid:function(e){if(!t.para.appid)return e(),!1;var n=this.getWXStorage();n?e(n):this.getRequest(e)}};t.unsetOpenid=function(e){var n=t._.validId(e);if(!n)return!1;var r=t.store._state.openid;r===n&&t.store.set("openid","");var i=t._.getOpenidNameByAppid();if(Object.prototype.hasOwnProperty.call(t.store._state.identities,i)&&n===t.store._state.identities[i]){delete t.store._state.identities[i];var o=t.store.getFirstId(),a=t.store.getDistinctId(),s=t.store._state&&t.store._state.identities&&t.store._state.identities.$identity_mp_id;o&&o===r&&s&&t.store.change("first_id",s),a&&a===r&&s&&t.store.change("distinct_id",s),t.store.save()}},t.setOpenid=function(e){if(!(e=t._.validId(e)))return!1;if(!t.meta.init_status)return t.store.store_queue.push({method:"setOpenid",params:arguments}),!1;t.store.set("openid",e),t.identify(e);var n=t._.getOpenidNameByAppid();t.store._state.identities[n]=e,t.store.save()},t.initWithOpenid=function(n,r){(n=n||{}).appid&&(t.para.appid=n.appid),e.getOpenid((function(e){e&&t.setOpenid(e,n.isCoverLogin),r&&t._.isFunction(r)&&r(e),t.init(n)}))}},plugin_name:"OldOpenid"}),Ce=Pe({init:function(t){t.kit.onceSend=function(e){e._flush_time=Date.now();var n=t.kit.onceTrackData(e),r=t.para.server_url+"?"+n;-1!==t.para.server_url.indexOf("?")&&(r=t.para.server_url+"&"+n),t._.wxrequest({url:r,method:"GET"})}},plugin_name:"OnceSend"});n.use(Oe),n.use(Ae),n.use(Ce),t.exports=n}).call(this,n("c8ba"))},d7ee:function(t,e){t.exports=function(){return!1}},d86b:function(t,e){t.exports=function(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}},d96b:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeV2Url=e.subscribeMessageUrl=e.querySubscribeUrl=e.querySubscribeListUrl=e.queryMsgSubUrl=e.queryGroupMsgSubUrl=e.newMsgSubUrl=e.newGroupMsgSubUrl=e.newGoodsCalendarSubUrl=void 0,e.subscribeMessageUrl="new/sg/wechat_message/multiple_subscribe_v2",e.querySubscribeUrl="new/sg/wechat_message/user_subscribe_query_v2",e.querySubscribeListUrl="new/sg/wechat_message/multiple_user_subscribe_query_v2",e.subscribeV2Url="new/sg/wechat_message/subscribe_v2",e.newMsgSubUrl="new/sg/wechat_message/squirrel_subscribe",e.newGroupMsgSubUrl="new/sg/wechat_message/squirrel_multiple_subscribe",e.queryMsgSubUrl="new/sg/wechat_message/squirrel_has_subscribe",e.queryGroupMsgSubUrl="new/sg/wechat_message/squirrel_multiple_has_subscribe",e.newGoodsCalendarSubUrl="new/sg/goods/sub_sell_msg_v2"},d9bb:function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.version=e.sgServerUrl=e.serverUrl=e.newServerUrl=e.isProd=e.graphServerUrl=e.fmOpt=e.boxliteUrl=void 0;var n,r=t.getStorageSync("serverConfig"),i=(null==r?void 0:r.env)||"production",o=e.serverUrl="",a=e.newServerUrl="";e.graphServerUrl="",e.sgServerUrl="",e.version="5.6.6","production"===i&&(e.isProd=n=!0,e.serverUrl=o="https://popvip.paquapp.com/miniapp/v2/",e.newServerUrl=a="https://popvip-go.paquapp.com/miniapp/v2/",e.graphServerUrl="https://prod-popvip.paquapp.com/",e.sgServerUrl="https://popvip-sg.paquapp.com/miniapp/v2/"),"development"===i&&(e.isProd=n=!1,e.serverUrl=o="https://testpopvip.paquapp.com/miniapp/v2/",e.newServerUrl=a="https://testpopvip-rd.paquapp.com/zyd/miniapp/v2/",e.graphServerUrl="https://beta-popvip.paquapp.com/",e.sgServerUrl="https://tx-shops-go.paquapp.com/miniapp/v2/"),e.boxliteUrl=n?"https://boxspeed.paquapp.com/boxlite/":"https://tx-shops-go.paquapp.com/boxlite/",n||(e.newServerUrl=a=(null==r?void 0:r.newServerUrl)||a,e.serverUrl=o=(null==r?void 0:r.serverUrl)||o),e.fmOpt={partnerCode:n?"popmart":"popmart_cn_test",appName:n?"popmarthy_wx":"test_ppmt",env:"PRODUCTION"}}).call(this,n("543d").default)},dcbe:function(t,e,n){var r=n("30c9"),i=n("1310");t.exports=function(t){return i(t)&&r(t)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e0c5:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.questionGameRules=e.questionGameCurrent=void 0,e.questionGameCurrent="common/question_game/current",e.questionGameRules="common/question_game/rules"},e0e7:function(t,e,n){var r=n("60ed");t.exports=function(t){return r(t)?void 0:t}},e0ef:function(t,e,n){var r=n("4b17");t.exports=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=r(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}},e2a0:function(t,e,n){var r=n("3729"),i=n("6747"),o=n("1310");t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},e2e4:function(t,e,n){var r=n("6747");t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return r(t)?t:[t]}},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e538:function(t,e,n){(function(t){var r=n("2b3e"),i=e&&!e.nodeType&&e,o=i&&"object"==_typeof2(t)&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n("62e4")(t))},e580:function(t,e){var n={CHAR_TILDE:102},r=1,i=2,o=3,a=4,s=5;function u(t){var e={currcs:s},r=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e}(t),u=126==r[0]?1:0,p=r.length>0?f(r[u++]):i,h=r.length>0?f(r[u++]):i;e.currcs=function(t,e){var n=0;return n+=t==o?1:0,n+=t==a?-1:0,n+=e==o?1:0,(n+=e==a?-1:0)>0?o:a}(p,h),e.currcs=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if((r<48||r>57)&&126!=r)return e}return s}(r,e.currcs);var d=new Array;switch(e.currcs){case o:d.push(103);break;case a:d.push(104);break;default:d.push(105)}for(var g=0;g<r.length;g++){var v=r[g];v in n&&(d.push(n[v]),v=r[++g]);var y=r.length>g+1?r[g+1]:-1;d=d.concat(b(v,y,e.currcs)),e.currcs==s&&g++}for(var m=d[0],_=1;_<d.length;_++)m+=_*d[_];return d.push(m%103),d.push(106),d;function b(t,n,r){var i=[],u=-1;if(l(t,r))r==s&&(-1==n?(u=100,r=a):-1==n||l(n,r)||(l(n,o)?(u=101,r=o):(u=100,r=a)));else if(-1==n||l(n,r))u=98;else switch(r){case o:u=100,r=a;break;case a:u=101,r=o}return-1!=u?(i.push(u),i.push(c(t))):r==s?i.push(c(t,n)):i.push(c(t)),e.currcs=r,i}}function c(t,e){return void 0===e?t>=32?t-32:t+64:parseInt(String.fromCharCode(t)+String.fromCharCode(e))}function l(t,e){var n=f(t);return n==r||n==i||n==o&&e==o||n==a&&e==a}function f(t){return t>=48&&t<=57?r:t>=32&&t<=95?i:t<32?o:a}e.code128=function(t,e,n,r){n=parseInt(n),r=parseInt(r);for(var i=u(e),o=new p(t,n,r),a=o.area.width/(11*(i.length-3)+35),s=o.area.left,c=o.area.top,l=0;l<i.length;l++)for(var f=i[l],d=0;d<8;d+=2){var g=h[f][d]*a,v=r-c,y=h[f][d+1]*a;g>0&&o.fillFgRect(s,c,g,v),s+=g+y}t.draw()};var p=function(t,e,n){this.width=e,this.height=n,this.quiet=Math.round(this.width/40),this.border_size=0,this.padding_width=0,this.area={width:e-2*this.padding_width-2*this.quiet,height:n-2*this.border_size,top:this.border_size-4,left:this.padding_width+this.quiet},this.ctx=t,this.fg="#000000",this.bg="#ffffff",this.fillBgRect(0,0,e,n),this.fillBgRect(0,this.border_size,e,n-2*this.border_size)};p.prototype._fillRect=function(t,e,n,r,i){this.ctx.setFillStyle(i),this.ctx.fillRect(t,e,n,r)},p.prototype.fillFgRect=function(t,e,n,r){this._fillRect(t,e,n,r,this.fg)},p.prototype.fillBgRect=function(t,e,n,r){this._fillRect(t,e,n,r,this.bg)};var h=[[2,1,2,2,2,2,0,0],[2,2,2,1,2,2,0,0],[2,2,2,2,2,1,0,0],[1,2,1,2,2,3,0,0],[1,2,1,3,2,2,0,0],[1,3,1,2,2,2,0,0],[1,2,2,2,1,3,0,0],[1,2,2,3,1,2,0,0],[1,3,2,2,1,2,0,0],[2,2,1,2,1,3,0,0],[2,2,1,3,1,2,0,0],[2,3,1,2,1,2,0,0],[1,1,2,2,3,2,0,0],[1,2,2,1,3,2,0,0],[1,2,2,2,3,1,0,0],[1,1,3,2,2,2,0,0],[1,2,3,1,2,2,0,0],[1,2,3,2,2,1,0,0],[2,2,3,2,1,1,0,0],[2,2,1,1,3,2,0,0],[2,2,1,2,3,1,0,0],[2,1,3,2,1,2,0,0],[2,2,3,1,1,2,0,0],[3,1,2,1,3,1,0,0],[3,1,1,2,2,2,0,0],[3,2,1,1,2,2,0,0],[3,2,1,2,2,1,0,0],[3,1,2,2,1,2,0,0],[3,2,2,1,1,2,0,0],[3,2,2,2,1,1,0,0],[2,1,2,1,2,3,0,0],[2,1,2,3,2,1,0,0],[2,3,2,1,2,1,0,0],[1,1,1,3,2,3,0,0],[1,3,1,1,2,3,0,0],[1,3,1,3,2,1,0,0],[1,1,2,3,1,3,0,0],[1,3,2,1,1,3,0,0],[1,3,2,3,1,1,0,0],[2,1,1,3,1,3,0,0],[2,3,1,1,1,3,0,0],[2,3,1,3,1,1,0,0],[1,1,2,1,3,3,0,0],[1,1,2,3,3,1,0,0],[1,3,2,1,3,1,0,0],[1,1,3,1,2,3,0,0],[1,1,3,3,2,1,0,0],[1,3,3,1,2,1,0,0],[3,1,3,1,2,1,0,0],[2,1,1,3,3,1,0,0],[2,3,1,1,3,1,0,0],[2,1,3,1,1,3,0,0],[2,1,3,3,1,1,0,0],[2,1,3,1,3,1,0,0],[3,1,1,1,2,3,0,0],[3,1,1,3,2,1,0,0],[3,3,1,1,2,1,0,0],[3,1,2,1,1,3,0,0],[3,1,2,3,1,1,0,0],[3,3,2,1,1,1,0,0],[3,1,4,1,1,1,0,0],[2,2,1,4,1,1,0,0],[4,3,1,1,1,1,0,0],[1,1,1,2,2,4,0,0],[1,1,1,4,2,2,0,0],[1,2,1,1,2,4,0,0],[1,2,1,4,2,1,0,0],[1,4,1,1,2,2,0,0],[1,4,1,2,2,1,0,0],[1,1,2,2,1,4,0,0],[1,1,2,4,1,2,0,0],[1,2,2,1,1,4,0,0],[1,2,2,4,1,1,0,0],[1,4,2,1,1,2,0,0],[1,4,2,2,1,1,0,0],[2,4,1,2,1,1,0,0],[2,2,1,1,1,4,0,0],[4,1,3,1,1,1,0,0],[2,4,1,1,1,2,0,0],[1,3,4,1,1,1,0,0],[1,1,1,2,4,2,0,0],[1,2,1,1,4,2,0,0],[1,2,1,2,4,1,0,0],[1,1,4,2,1,2,0,0],[1,2,4,1,1,2,0,0],[1,2,4,2,1,1,0,0],[4,1,1,2,1,2,0,0],[4,2,1,1,1,2,0,0],[4,2,1,2,1,1,0,0],[2,1,2,1,4,1,0,0],[2,1,4,1,2,1,0,0],[4,1,2,1,2,1,0,0],[1,1,1,1,4,3,0,0],[1,1,1,3,4,1,0,0],[1,3,1,1,4,1,0,0],[1,1,4,1,1,3,0,0],[1,1,4,3,1,1,0,0],[4,1,1,1,1,3,0,0],[4,1,1,3,1,1,0,0],[1,1,3,1,4,1,0,0],[1,1,4,1,3,1,0,0],[3,1,1,1,4,1,0,0],[4,1,1,1,3,1,0,0],[2,1,1,4,1,2,0,0],[2,1,1,2,1,4,0,0],[2,1,1,2,3,2,0,0],[2,3,3,1,1,1,2,0]]},e666:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.yearRecrodUrl=e.viewMsgUrl=e.v5ApplayUrl=e.userJoinedGroup=e.userCustomerService=e.userArchivesUrl=e.updateLotteryStatusUrl=e.timeRuleUrl=e.tickoffTask=e.storeListUrl=e.storeClockActUrl=e.starListUrl=e.starClockUrl=e.shareMsgUrl=e.shareAssistUrl=e.selectIpUrl=e.roundListUrl=e.rewardsLogUrl=e.redPacketCoverUrl=e.rankListUrl=e.queryStoreList=e.queryCountdownUrl=e.pop_beanUrl=e.popBeanListUrl=e.popBeanDetailUrl=e.popBeanCityUrl=e.packageLotteryUrl=e.packageActUrl=e.openBgUrl=e.megaPublicUrl=e.luckyBgSubmitUrl=e.luckyBgDetailUrl=e.luckyBgActUrl=e.lucDwLotteryUrl=e.lucDwGetDrawListUrl=e.lucDwGetCardsUrl=e.lucDwDoTaskUrl=e.lucDwCreateOrderUrl=e.lucDwActUrl=e.lucDwActPublicUrl=e.listByReward=e.leaveMsgUrl=e.ipMatchLotteryUrl=e.ipMatchAssistedListUrl=e.getRedPacketUrl=e.getQuestionUrl=e.getMatchResultUrl=e.getLeaveMsgUrl=e.getCouponList=e.getCouponBag=e.getCouponActivity=e.followAccountUrl=e.exchangeUrl=e.exchangeListUrl=e.enterAnswerUrl=e.createPopbeanUrl=e.clockLogUrl=e.cancelBgUrl=e.birthMonthUnlockUrl=e.birthMonthRandomPendantUrl=e.birthMonthPendantUrl=e.birthMonthOpenUrl=e.birthMonthIDUrl=e.birthMonthGiftRemainsUrl=e.birthMonthEntryUrl=e.birthMonthActInfoUrl=e.assistUserListUrl=e.answerlotteryUrl=e.answerUrl=e.answerTimesUrl=e.answerDetailUrl=e.answerActIDUrl=e.addWechatGroup=void 0,e.addWechatGroup="new/sg/activity/community",e.packageActUrl="new/work_acquisition_activity/get_task_detail",e.packageLotteryUrl="new/work_acquisition_activity/lottery_prize",e.luckyBgActUrl="new/fudai/activity_detail",e.luckyBgDetailUrl="new/fudai/detail",e.luckyBgSubmitUrl="new/fudai/submit_order",e.openBgUrl="new/fudai/open",e.cancelBgUrl="new/sg/order/waiting_pay/cancel_bag",e.answerActIDUrl="new/member_day/get_activity_task",e.storeClockActUrl="new/store_tickoff/index",e.exchangeListUrl="new/store_tickoff/exchange_list",e.starClockUrl="new/store_tickoff/tickoff",e.exchangeUrl="new/store_tickoff/exchange",e.starListUrl="new/store_tickoff/star_log",e.clockLogUrl="new/store_tickoff/tickoff_log",e.rewardsLogUrl="new/store_tickoff/my_prize",e.pop_beanUrl="new/sg/pop_bean/index_v3",e.timeRuleUrl="new/sg/pop_bean/get_time_rules",e.storeListUrl="new/sg/pop_bean/get_store",e.popBeanDetailUrl="new/sg/pop_bean/goods_details",e.createPopbeanUrl="new/sg/order/create_popbean",e.popBeanListUrl="new/sg/pop_bean/goods_list",e.popBeanCityUrl="new/sg/pop_bean/city_list",e.getCouponActivity="new/coupon_activity/info",e.getCouponList="new/coupon_activity/coupon_list",e.getCouponBag="new/coupon_activity/get_coupon",e.listByReward="new/sg/order/list_by_reward",e.userJoinedGroup="new/squirrel_activity/user_joined_group",e.userCustomerService="new/squirrel_activity/user_show_customer_service",e.tickoffTask="new/card_activity/store_tickoff_task",e.queryStoreList="new/sg/store/query",e.enterAnswerUrl="new/answer_activity/enter",e.getQuestionUrl="new/answer_activity/get_question",e.answerUrl="new/answer_activity/answer",e.answerDetailUrl="new/answer_activity/answer_detail",e.rankListUrl="new/answer_activity/ranking_list",e.queryCountdownUrl="new/answer_activity/countdown_is_end",e.answerlotteryUrl="new/answer_activity/lottery",e.roundListUrl="new/answer_activity/round_list",e.answerTimesUrl="new/answer_activity/answer_times",e.updateLotteryStatusUrl="new/answer_activity/update_lottery_status",e.redPacketCoverUrl="new/member_day/get_user_red_packet_cover",e.megaPublicUrl="new/activity/mega_publicity/enter",e.leaveMsgUrl="new/activity/mega_publicity/leave_message",e.viewMsgUrl="new/activity/mega_publicity/view_leave_message",e.getRedPacketUrl="new/activity/mega_publicity/get_red_packet_cover",e.shareMsgUrl="new/activity/mega_publicity/share",e.followAccountUrl="new/activity/mega_publicity/follow_official_account",e.getLeaveMsgUrl="new/activity/mega_publicity/get_leave_message",e.birthMonthEntryUrl="new/member/birthday_month/show",e.birthMonthIDUrl="new/member/birthday_month/current_activity",e.birthMonthOpenUrl="new/member/birthday_month/open_window",e.birthMonthActInfoUrl="new/member/birthday_month/detail",e.birthMonthRandomPendantUrl="new/member/birthday_month/random_get_pendant",e.birthMonthPendantUrl="new/member/birthday_month/get_pendant",e.birthMonthUnlockUrl="new/member/birthday_month/unlock_gift_packs",e.birthMonthGiftRemainsUrl="new/member/birthday_month/get_gift_inventory",e.lucDwActUrl="new/sg/draw/get_activity_detail",e.lucDwActPublicUrl="new/sg/draw/get_activity_visitor_detail",e.lucDwDoTaskUrl="new/sg/draw/do_task",e.lucDwGetCardsUrl="new/sg/draw/get_card_list",e.lucDwLotteryUrl="new/sg/draw/lottery",e.lucDwGetDrawListUrl="new/sg/draw/get_draw_list",e.lucDwCreateOrderUrl="new/sg/draw/create_order",e.getMatchResultUrl="new/ip_match_activity/get_match_result",e.ipMatchAssistedListUrl="new/ip_match_activity/assisted_list",e.ipMatchLotteryUrl="new/ip_match_activity/lottery",e.selectIpUrl="new/ip_match_activity/select_ip",e.shareAssistUrl="new/ip_match_activity/share_assist",e.assistUserListUrl="new/ip_match_activity/user_assist",e.userArchivesUrl="new/ip_match_activity/get_user_archives",e.v5ApplayUrl="new/intimate_friend/apply",e.yearRecrodUrl="new/intimate_friend/data"},e762:function(t,e,n){n.r(e),function(t){n.d(e,"version",(function(){return r})),n.d(e,"VERSION",(function(){return i})),n.d(e,"atob",(function(){return C})),n.d(e,"atobPolyfill",(function(){return A})),n.d(e,"btoa",(function(){return v})),n.d(e,"btoaPolyfill",(function(){return g})),n.d(e,"fromBase64",(function(){return D})),n.d(e,"toBase64",(function(){return S})),n.d(e,"utob",(function(){return w})),n.d(e,"encode",(function(){return S})),n.d(e,"encodeURI",(function(){return k})),n.d(e,"encodeURL",(function(){return k})),n.d(e,"btou",(function(){return O})),n.d(e,"decode",(function(){return D})),n.d(e,"isValid",(function(){return L})),n.d(e,"fromUint8Array",(function(){return m})),n.d(e,"toUint8Array",(function(){return j})),n.d(e,"extendString",(function(){return B})),n.d(e,"extendUint8Array",(function(){return M})),n.d(e,"extendBuiltins",(function(){return N})),n.d(e,"Base64",(function(){return $}));var r="3.7.7",i=r,o="function"==typeof t,a="function"==typeof TextDecoder?new TextDecoder:void 0,s="function"==typeof TextEncoder?new TextEncoder:void 0,u=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=function(t){var e={};return t.forEach((function(t,n){return e[t]=n})),e}(u),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,f=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},h=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))},d=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},g=function(t){for(var e,n,r,i,o="",a=t.length%3,s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=u[(e=n<<16|r<<8|i)>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o},v="function"==typeof btoa?function(t){return btoa(t)}:o?function(e){return t.from(e,"binary").toString("base64")}:g,y=o?function(e){return t.from(e).toString("base64")}:function(t){for(var e=[],n=0,r=t.length;n<r;n+=4096)e.push(f.apply(null,t.subarray(n,n+4096)));return v(e.join(""))},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?h(y(t)):y(t)},_=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?f(192|e>>>6)+f(128|63&e):f(224|e>>>12&15)+f(128|e>>>6&63)+f(128|63&e)}return e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320),f(240|e>>>18&7)+f(128|e>>>12&63)+f(128|e>>>6&63)+f(128|63&e)},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,w=function(t){return t.replace(b,_)},x=o?function(e){return t.from(e,"utf8").toString("base64")}:s?function(t){return y(s.encode(t))}:function(t){return v(w(t))},S=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?h(x(t)):x(t)},k=function(t){return S(t,!0)},T=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,P=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return f(55296+(e>>>10))+f(56320+(1023&e));case 3:return f((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return f((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},O=function(t){return t.replace(T,P)},A=function(t){if(t=t.replace(/\s+/g,""),!l.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,n,r,i="",o=0;o<t.length;)e=c[t.charAt(o++)]<<18|c[t.charAt(o++)]<<12|(n=c[t.charAt(o++)])<<6|(r=c[t.charAt(o++)]),i+=64===n?f(e>>16&255):64===r?f(e>>16&255,e>>8&255):f(e>>16&255,e>>8&255,255&e);return i},C="function"==typeof atob?function(t){return atob(d(t))}:o?function(e){return t.from(e,"base64").toString("binary")}:A,E=o?function(e){return p(t.from(e,"base64"))}:function(t){return p(C(t).split("").map((function(t){return t.charCodeAt(0)})))},j=function(t){return E(R(t))},I=o?function(e){return t.from(e,"base64").toString("utf8")}:a?function(t){return a.decode(E(t))}:function(t){return O(C(t))},R=function(t){return d(t.replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})))},D=function(t){return I(R(t))},L=function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},U=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},B=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,U(e))};t("fromBase64",(function(){return D(this)})),t("toBase64",(function(t){return S(this,t)})),t("toBase64URI",(function(){return S(this,!0)})),t("toBase64URL",(function(){return S(this,!0)})),t("toUint8Array",(function(){return j(this)}))},M=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,U(e))};t("toBase64",(function(t){return m(this,t)})),t("toBase64URI",(function(){return m(this,!0)})),t("toBase64URL",(function(){return m(this,!0)}))},N=function(){B(),M()},$={version:r,VERSION:i,atob:C,atobPolyfill:A,btoa:v,btoaPolyfill:g,fromBase64:D,toBase64:S,encode:S,encodeURI:k,encodeURL:k,utob:w,btou:O,decode:D,isValid:L,fromUint8Array:m,toUint8Array:j,extendString:B,extendUint8Array:M,extendBuiltins:N}}.call(this,n("b639").Buffer)},eaa6:function(t,e){t.exports=function(t){return null===t}},eac5:function(t,e){t.exports=function(){return!1}},ec69:function(t,e,n){var r=n("91e9")(Object.keys,Object);t.exports=r},ecd6:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={appid:"__UNI__75BF971"}},eea7:function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n("7e02")),o=n("c9b7");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(e,n){for(var r=Object.assign({},(0,o.stringFindObject)(e,i.default)),a=e.split(".")[e.split(".").length-1],u=/^\$.*\$$/,l=0,f=Object.entries(r);l<f.length;l++){var p=c(f[l],2),h=p[0],d=p[1];u.test(d)&&(r[h]=n[h]||"")}return new Promise((function(e,n){var i=Object.assign({},r),o=i.errMsg;delete i.errMsg,t[a](s(s({},i),{},{success:function(t){"requestSubscribeMessage:ok"==t.errMsg?Object.keys(t).filter((function(e){return"accept"==t[e]})).length>0?e(t):n(t):t.errMsg===o?e(t):n(t)},fail:function(t){n(t)}}))}))}}).call(this,n("543d").default)},f0c5:function(t,e,n){function r(t,e,n,r,i,o,a,s,u,c){var l,f="function"==typeof t?t.options:t;if(u){f.components||(f.components={});var p=Object.prototype.hasOwnProperty;for(var h in u)p.call(u,h)&&!p.call(f.components,h)&&(f.components[h]=u[h])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(f.mixins||(f.mixins=[])).push(c)),e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),o&&(f._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},f._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(f.functional){f._injectStyles=l;var d=f.render;f.render=function(t,e){return l.call(e),d(t,e)}}else{var g=f.beforeCreate;f.beforeCreate=g?[].concat(g,l):[l]}return{exports:t,options:f}}n.d(e,"a",(function(){return r}))},f2ed:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={state:{detail_promotion_list:[],promotion_list:[],selectAct:{ladder_id:0,promotion_id:0,promotion_type:"",selectGiftArr:[],checkedGift:[],chooseActIndex:null}},mutations:{changePromotionList:function(t,e){t.promotion_list=e},changeCurrentPromotion:function(t,e){var n=e.actIndex,r=e.totalNum;delete e.actIndex;var i=t.promotion_list[n],o=e.gift_info_list.map((function(t){return t}));t.promotion_list[n]=Object.assign(i,{totalNum:r,gift_info_list:o})},changeAct:function(t,e){t.selectAct=e||{}},changeDetailPromotion:function(t,e){t.detail_promotion_list=e}},actions:{changePromotionList:function(t,e){(0,t.commit)("changePromotionList",e)},changeAct:function(t,e){(0,t.commit)("changeAct",e)},changeCurrentPromotion:function(t,e){(0,t.commit)("changeCurrentPromotion",e)},changeDetailPromotion:function(t,e){(0,t.commit)("changeDetailPromotion",e)}}}},f3d4:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.orderConfig=void 0,e.orderConfig="order_config/order_config.json"},f4d6:function(t,e){t.exports=function(t){return t}},f80d:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.waitReceiveList=e.toyListFromOrder=e.toyListByOrderApi=e.priceApi=e.orderDetailByOrderNo=e.lockedOrderApi=e.lastPayByOrderNoApi=e.getWaitPayByOrderNo=e.finishOrderList=e.expressInfo=e.doFinishOrder=e.doCancelOrder=e.closeLiteOrderApi=e.boxCount=e.boxCartPayList=e.boxCartList=e.allOrderList=void 0,e.allOrderList="orderserver/api/order/getAllOrderList",e.waitReceiveList="orderserver/api/order/getWaitReceiveList",e.finishOrderList="orderserver/api/order/getOrderList",e.doCancelOrder="orderserver/v1/order/close",e.doFinishOrder="orderserver/api/order/finishOrder",e.orderDetailByOrderNo="orderserver/api/order/orderInfo",e.expressInfo="orderserver/api/order/expressInfo",e.getWaitPayByOrderNo="orderserver/api/order/getWaitPayByOrderNo",e.toyListFromOrder="orderserver/v1/order/checkOrder",e.boxCount="boxserver/v1/cart/count",e.boxCartList="boxserver/v1/cart/list",e.boxCartPayList="boxserver/v1/cart/refresh",e.priceApi="orderserver/v1/order/calPrice",e.lockedOrderApi="orderserver/v1/order/checkWaitPayOrder",e.lastPayByOrderNoApi="orderserver/v1/order/getLastPayByOrderNo",e.closeLiteOrderApi="orderserver/v1/order/close",e.toyListByOrderApi="orderserver/v1/order/checkOrder"},f8af:function(t,e,n){var r=n("2474");t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},f909:function(t,e,n){var r=n("7e64"),i=n("b760"),o=n("72af"),a=n("4f50"),s=n("1a8c"),u=n("9934"),c=n("8adb");t.exports=function t(e,n,l,f,p){e!==n&&o(n,(function(o,u){if(p||(p=new r),s(o))a(e,n,u,l,t,f,p);else{var h=f?f(c(e,u),o,u+"",e,n,p):void 0;void 0===h&&(h=o),i(e,u,h)}}),u)}},f93f:function(t,e,n){(function(e){var r=n("e580"),i=n("81b1");function o(t){return Math.round(e.getSystemInfoSync().windowWidth*t/750)}t.exports={barcode:function(t,n,i,a){r.code128(e.createCanvasContext(t),n,o(i),o(a))},qrcode:function(t,n,r,a,s){i.api.draw(n,{ctx:e.createCanvasContext(t,s),width:o(r),height:o(a)})}}}).call(this,n("543d").default)},fa21:function(t,e,n){var r=n("7530"),i=n("2dcb"),o=n("eac5");t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},facc:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.svipNoticeConfig=void 0;var r=n("b775");e.svipNoticeConfig=r.isProd?"file/new_svip/svip_notice.json":"file/new_svip/svip_notice_test.json"},fba5:function(t,e,n){var r=n("cb5a");t.exports=function(t){return r(this.__data__,t)>-1}},fc64:function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.clockTaskMixin=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n("eea7")),i=n("365c");e.clockTaskMixin={data:function(){return{qqMapKey:"4W6BZ-JBAK5-IEIIA-QVHQM-SZUOE-VHB4R"}},onLoad:function(){},methods:{getLocation:function(t,e){var n=this;return new Promise((function(i,o){e&&(n.currentTask=e),(0,r.default)("getLocation").then((function(e){n.lon=e.longitude,n.lat=e.latitude,n.hasAuthorized=!0,t?n.showToast("已刷新~"):i(e)})).catch((function(t){o(t),"getLocation:fail auth deny"==t.errMsg||"getLocation:fail:auth denied"==t.errMsg?n.showToast("您未授权位置信息，可前往小程序「设置」开启服务"):"getLocation:fail system permission denied"==t.errMsg?n.showToast("您未授权位置信息，请开启定位服务"):t.errMsg.indexOf("ERROR_NOCELL&WIFI_LOCATIONSWITCHOFF")>=0?n.showToast("网络异常#"):t.errMsg.indexOf("onLocationChange")>=0?n.showToast("操作频繁，请稍后再试"):t.errMsg.indexOf("onLocationChange")>=0||n.showToast("定位失败~")}))}))},getCityByLocation:function(){var t=this,e=this.lat,n=this.lon;return new Promise((function(r,o){var a=t;(0,i.goGetPoint)({lat:e,lon:n}).then((function(e){var n,i;1==(null==e||null===(n=e.data)||void 0===n?void 0:n.code)&&(t.cityName=(null==e||null===(i=e.data)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.city)||"北京市",r(e))})).catch((function(){a.cityName="",o(err)}))}))},getStoreList:function(){var t,e,n=this;this.parent_type=null!==(t=this.currentTask)&&void 0!==t&&null!==(t=t.event)&&void 0!==t&&t.includes("Store")?1:null!==(e=this.currentTask)&&void 0!==e&&null!==(e=e.event)&&void 0!==e&&e.includes("Robot")?2:"";var r={city:this.cityName?this.cityName:"",has_point:this.hasAuthorized,lat:this.lat?this.lat:0,lon:this.lon?this.lon:0,page_num:1,page_size:1,term:"",parent_type:this.parent_type};return new Promise((function(t,e){(0,i.goQueryStoreList)(r).then((function(e){if(1===e.data.code){var r=e.data.data.stores,i=1===n.parent_type?"门店":2===n.parent_type?"机器人商店":"";if(0===r.length)return void n.showToast("所在城市没有".concat(i));n.storeInfo=r[0],t(e)}})).catch((function(t){e(t)}))}))},clockIn:function(){var t={task_type:this.storeInfo.parent_type,activity_id:this.actID,store_id:parseInt(this.storeInfo.id),lng:this.lon,lat:this.lat};return new Promise((function(e,n){(0,i.goTickOffTask)(t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},toNavigate:function(){t.navigateTo({url:"/packages/storeQuery/pages/storeList/storeList"})},showToast:function(e){t.showToast({title:e,icon:"none"})}}}}).call(this,n("543d").default)}}]);
},{isPage:false,isComponent:false,currentFile:'common/vendor.js'});;__wxRoute = undefined;__wxRouteBegin = undefined;__wxAppCurrentFile__=undefined;define("app.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";require("./common/runtime.js"),require("./common/vendor.js"),require("./common/main.js");
},{isPage:false,isComponent:false,currentFile:'app.js'});require("app.js");;__wxRoute = "custom-tab-bar/index";__wxRouteBegin = true;__wxAppCurrentFile__="custom-tab-bar/index.js";define("custom-tab-bar/index.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t=getApp();Component({data:{color:"#999999",selectedColor:"#333333",backgroundColor:"#ffffff",list:[{pagePath:"/pages/index",text:"首页",iconPath:"https://res.paquapp.com/popmartvip/static/home_grey_5.png",selectedIconPath:"https://res.paquapp.com/popmartvip/static/home_5.png"},{pagePath:"/pages/storeGo/shop/shop",text:"商品",iconPath:"https://res.paquapp.com/popmartvip/static/shop_grey_5.png",selectedIconPath:"https://res.paquapp.com/popmartvip/static/shop_5.png"},{pagePath:"/pages/drawBox/index",text:"在线抽盒",iconPath:"https://res.paquapp.com/popmartvip/static/box_grey_5.png",selectedIconPath:"https://res.paquapp.com/popmartvip/static/box_5.png"},{pagePath:"/pages/taskCenter/taskCenter",text:"会员",iconPath:"https://res.paquapp.com/popmartvip/static/home_vip_grey.png",selectedIconPath:"https://res.paquapp.com/popmartvip/static/home_vip.png"},{pagePath:"/pages/user/user",text:"我的",iconPath:"https://res.paquapp.com/popmartvip/static/user_grey_5.png",selectedIconPath:"https://res.paquapp.com/popmartvip/static/user_5.png"}],selected:0,showShopTips:!0,floatImg:"",hasShowGuide:!0,showCouponGuide:!1,guideText:"",showPointsFlag:"",haveShownPointsFlag:"",task_points_flag_bg:"",showReddot:!1,showBirthEntry:!1},lifetimes:{attached:function(){this.watchConfig()},ready:function(){var a=this;this.watchConfig(),t.globalData.floatImg?this.setData({floatImg:t.globalData.floatImg}):t.imgCallBack=function(){a.setData({floatImg:t.globalData.floatImg})},t.globalData.guideCallback=function(){a.handleGuideText()},t.globalData.boxUserCallBack=function(){a.setData({showCouponGuide:!1,hasShowGuide:!0,guideText:""}),a.handleGuideText(),a.handleReddot()}}},methods:{watchConfig:function(){var a=this;t.globalData.pointsInfo.watch("task_points_flag_bg",(function(t){t&&!wx.getStorageSync("haveShownPointsFlag")?a.setData({showPointsFlag:!0,task_points_flag_bg:t}):a.setData({showPointsFlag:!1,task_points_flag_bg:""})})),t.globalData.birthMonthInfo.watch("is_show_birth_entry",(function(t){t&&!wx.getStorageSync("haveShownBirthEntry")?a.setData({showBirthEntry:!0}):a.setData({showBirthEntry:!1})}))},handleGuideText:function(){console.log("handleGuideText >>>>",t.globalData.abTestDrawBoxData);var a=wx.getStorageSync("isShowedBoxGuide"),o=wx.getStorageSync("showBoxGuide"),e=wx.getStorageSync("showCouponGuide"),s=wx.getStorageSync("showSurpriseCouponGuide");e?this.setData({showCouponGuide:!0,guideText:"你有一份在线拆盒券包待领取"}):s?this.setData({showCouponGuide:!0,guideText:"你有一份惊喜券包待领取"}):o||a||this.setData({hasShowGuide:!1})},handleReddot:function(){var a;null!==(a=t.globalData)&&void 0!==a&&a.boxUserInfo&&(0===t.globalData.boxUserInfo.tab_red_dot?this.setData({showReddot:!0}):this.setData({showReddot:!1}))},switchTab:function(a){if(3!==getApp().globalData.isShowPrivacyMask){var o=a.currentTarget.dataset,e=o.path,s=o.index;this.data.selected!==s&&(3===s&&wx.setStorageSync("tabBarIndex",3),2===s&&"/pages/drawBox/index"!==e?wx.navigateTo({url:e}):wx.switchTab({url:e})),0==s&&this.data.showShopTips?(this.setData({showShopTips:!1,floatImg:""}),t.globalData.floatImg=""):3==s?this.data.showPointsFlag&&wx.setStorageSync("haveShownPointsFlag",!0):4==s&&this.data.showBirthEntry&&(wx.setStorageSync("haveShownBirthEntry",!0),this.setData({showBirthEntry:!1})),2===s&&o.guide&&!this.data.hasShowGuide&&wx.setStorageSync("showBoxGuide",!0),this.setData({showCouponGuide:!1,hasShowGuide:!0,guideText:""}),2===s&&this.data.showReddot&&(t.updateReddot(),this.setData({showReddot:!1}))}},formatNumber:function(t){return(t=t.toString())[1]?t:"0"+t},formatTime:function(t,a){var o=t.getFullYear(),e=t.getMonth()+1,s=t.getDate(),i=t.getHours(),h=t.getMinutes();t.getSeconds();return 1===a?[o,e,s].map(this.formatNumber).join("-"):[o,e,s].map(this.formatNumber).join("-")+" "+[i,h].map(this.formatNumber).join(":")}}});
},{isPage:false,isComponent:true,currentFile:'custom-tab-bar/index.js'});require("custom-tab-bar/index.js");
